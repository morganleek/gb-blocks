/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanM/NWI2OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!***********************!*\
  !*** ./src/blocks.js ***!
  \***********************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__menu_menu_js__ = __webpack_require__(/*! ./menu/menu.js */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__map_map_js__ = __webpack_require__(/*! ./map/map.js */ 5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__posts_posts_js__ = __webpack_require__(/*! ./posts/posts.js */ 15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__gallery_gallery_js__ = __webpack_require__(/*! ./gallery/gallery.js */ 18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__attributes_attributes_js__ = __webpack_require__(/*! ./attributes/attributes.js */ 21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__accordion_accordion_js__ = __webpack_require__(/*! ./accordion/accordion.js */ 23);\n/**\n * Gutenberg Blocks\n *\n * All blocks related JavaScript files should be imported here.\n * You can create a new block folder in this dir and include code\n * for that block here as well.\n *\n * All blocks should be included here since this is the file that\n * Webpack is compiling as the input file.\n */\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9ja3MuanM/N2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEd1dGVuYmVyZyBCbG9ja3NcbiAqXG4gKiBBbGwgYmxvY2tzIHJlbGF0ZWQgSmF2YVNjcmlwdCBmaWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgaGVyZS5cbiAqIFlvdSBjYW4gY3JlYXRlIGEgbmV3IGJsb2NrIGZvbGRlciBpbiB0aGlzIGRpciBhbmQgaW5jbHVkZSBjb2RlXG4gKiBmb3IgdGhhdCBibG9jayBoZXJlIGFzIHdlbGwuXG4gKlxuICogQWxsIGJsb2NrcyBzaG91bGQgYmUgaW5jbHVkZWQgaGVyZSBzaW5jZSB0aGlzIGlzIHRoZSBmaWxlIHRoYXRcbiAqIFdlYnBhY2sgaXMgY29tcGlsaW5nIGFzIHRoZSBpbnB1dCBmaWxlLlxuICovXG5cbmltcG9ydCAnLi9tZW51L21lbnUuanMnO1xuaW1wb3J0ICcuL21hcC9tYXAuanMnO1xuaW1wb3J0ICcuL3Bvc3RzL3Bvc3RzLmpzJztcbmltcG9ydCAnLi9nYWxsZXJ5L2dhbGxlcnkuanMnO1xuaW1wb3J0ICcuL2F0dHJpYnV0ZXMvYXR0cmlidXRlcy5qcyc7XG5pbXBvcnQgJy4vYWNjb3JkaW9uL2FjY29yZGlvbi5qcyc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!**************************!*\
  !*** ./src/menu/menu.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(/*! ./style.scss */ 4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\n\n\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar _wp$blockEditor = wp.blockEditor,\n    useBlockProps = _wp$blockEditor.useBlockProps,\n    InspectorControls = _wp$blockEditor.InspectorControls;\nvar SelectControl = wp.components.SelectControl;\nvar _wp = wp,\n    ServerSideRender = _wp.serverSideRender;\nvar _wp$components = wp.components,\n    Panel = _wp$components.Panel,\n    PanelBody = _wp$components.PanelBody,\n    PanelRow = _wp$components.PanelRow;\nvar _wordpressIcons = '@wordpress/icons',\n    more = _wordpressIcons.more;\n\n\nregisterBlockType('gb/block-gb-menu', {\n\tapiVersion: 2,\n\ttitle: __('Menu'),\n\ticon: 'menu',\n\tcategory: 'common',\n\tkeywords: [__('Menu'), __('Appearance')],\n\tattributes: {\n\t\tmenu: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"\"\n\t\t},\n\t\tmenusAvailable: {\n\t\t\ttype: 'array',\n\t\t\tdefault: null\n\t\t}\n\t},\n\n\tedit: function edit(props) {\n\t\tvar attributes = props.attributes,\n\t\t    setAttributes = props.setAttributes;\n\n\t\tif (attributes.menusAvailable == null) {\n\t\t\tattributes.menusAvailable = gbGlobal.siteMenus;\n\t\t\tattributes.menusAvailable.unshift({ value: null, label: 'Select a menu' });\n\t\t}\n\n\t\tvar onUpdateMenu = function onUpdateMenu(newMenu) {\n\t\t\tsetAttributes({ menu: newMenu });\n\t\t};\n\n\t\tvar blockProps = useBlockProps();\n\n\t\tvar blockRender = void 0;\n\n\t\tif (attributes.menu) {\n\t\t\tblockRender = wp.element.createElement(ServerSideRender, {\n\t\t\t\tblock: 'gb/block-gb-menu',\n\t\t\t\tattributes: {\n\t\t\t\t\tmenu: attributes.menu,\n\t\t\t\t\tclassName: blockProps.className\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tblockRender = wp.element.createElement(\n\t\t\t\t'p',\n\t\t\t\tnull,\n\t\t\t\t'Select a menu'\n\t\t\t);\n\t\t}\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement(\n\t\t\t\tInspectorControls,\n\t\t\t\tnull,\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tPanel,\n\t\t\t\t\t{ header: 'Menu' },\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\tPanelBody,\n\t\t\t\t\t\t{ title: 'Menu Settings', icon: more, initialOpen: true },\n\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\tPanelRow,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\twp.element.createElement(SelectControl, {\n\t\t\t\t\t\t\t\tlabel: __('Select a menu: '),\n\t\t\t\t\t\t\t\tonChange: onUpdateMenu,\n\t\t\t\t\t\t\t\tvalue: attributes.menu,\n\t\t\t\t\t\t\t\toptions: attributes.menusAvailable\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tblockRender\n\t\t);\n\t}\n});\n\n// <InspectorControls key=\"setting\">\n// \t<PanelBody>\n// \t\t<PanelRow>\n// \t\t\t<p>Hello</p>\n// \t\t</PanelRow>\n// \t</PanelBody>\n// </InspectorControls>//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tZW51L21lbnUuanM/NmI3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vZWRpdG9yLnNjc3MnO1xuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG52YXIgX18gPSB3cC5pMThuLl9fO1xudmFyIHJlZ2lzdGVyQmxvY2tUeXBlID0gd3AuYmxvY2tzLnJlZ2lzdGVyQmxvY2tUeXBlO1xudmFyIF93cCRibG9ja0VkaXRvciA9IHdwLmJsb2NrRWRpdG9yLFxuICAgIHVzZUJsb2NrUHJvcHMgPSBfd3AkYmxvY2tFZGl0b3IudXNlQmxvY2tQcm9wcyxcbiAgICBJbnNwZWN0b3JDb250cm9scyA9IF93cCRibG9ja0VkaXRvci5JbnNwZWN0b3JDb250cm9scztcbnZhciBTZWxlY3RDb250cm9sID0gd3AuY29tcG9uZW50cy5TZWxlY3RDb250cm9sO1xudmFyIF93cCA9IHdwLFxuICAgIFNlcnZlclNpZGVSZW5kZXIgPSBfd3Auc2VydmVyU2lkZVJlbmRlcjtcbnZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgUGFuZWwgPSBfd3AkY29tcG9uZW50cy5QYW5lbCxcbiAgICBQYW5lbEJvZHkgPSBfd3AkY29tcG9uZW50cy5QYW5lbEJvZHksXG4gICAgUGFuZWxSb3cgPSBfd3AkY29tcG9uZW50cy5QYW5lbFJvdztcbnZhciBfd29yZHByZXNzSWNvbnMgPSAnQHdvcmRwcmVzcy9pY29ucycsXG4gICAgbW9yZSA9IF93b3JkcHJlc3NJY29ucy5tb3JlO1xuXG5cbnJlZ2lzdGVyQmxvY2tUeXBlKCdnYi9ibG9jay1nYi1tZW51Jywge1xuXHRhcGlWZXJzaW9uOiAyLFxuXHR0aXRsZTogX18oJ01lbnUnKSxcblx0aWNvbjogJ21lbnUnLFxuXHRjYXRlZ29yeTogJ2NvbW1vbicsXG5cdGtleXdvcmRzOiBbX18oJ01lbnUnKSwgX18oJ0FwcGVhcmFuY2UnKV0sXG5cdGF0dHJpYnV0ZXM6IHtcblx0XHRtZW51OiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJyxcblx0XHRcdGRlZmF1bHQ6IFwiXCJcblx0XHR9LFxuXHRcdG1lbnVzQXZhaWxhYmxlOiB7XG5cdFx0XHR0eXBlOiAnYXJyYXknLFxuXHRcdFx0ZGVmYXVsdDogbnVsbFxuXHRcdH1cblx0fSxcblxuXHRlZGl0OiBmdW5jdGlvbiBlZGl0KHByb3BzKSB7XG5cdFx0dmFyIGF0dHJpYnV0ZXMgPSBwcm9wcy5hdHRyaWJ1dGVzLFxuXHRcdCAgICBzZXRBdHRyaWJ1dGVzID0gcHJvcHMuc2V0QXR0cmlidXRlcztcblxuXHRcdGlmIChhdHRyaWJ1dGVzLm1lbnVzQXZhaWxhYmxlID09IG51bGwpIHtcblx0XHRcdGF0dHJpYnV0ZXMubWVudXNBdmFpbGFibGUgPSBnYkdsb2JhbC5zaXRlTWVudXM7XG5cdFx0XHRhdHRyaWJ1dGVzLm1lbnVzQXZhaWxhYmxlLnVuc2hpZnQoeyB2YWx1ZTogbnVsbCwgbGFiZWw6ICdTZWxlY3QgYSBtZW51JyB9KTtcblx0XHR9XG5cblx0XHR2YXIgb25VcGRhdGVNZW51ID0gZnVuY3Rpb24gb25VcGRhdGVNZW51KG5ld01lbnUpIHtcblx0XHRcdHNldEF0dHJpYnV0ZXMoeyBtZW51OiBuZXdNZW51IH0pO1xuXHRcdH07XG5cblx0XHR2YXIgYmxvY2tQcm9wcyA9IHVzZUJsb2NrUHJvcHMoKTtcblxuXHRcdHZhciBibG9ja1JlbmRlciA9IHZvaWQgMDtcblxuXHRcdGlmIChhdHRyaWJ1dGVzLm1lbnUpIHtcblx0XHRcdGJsb2NrUmVuZGVyID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFNlcnZlclNpZGVSZW5kZXIsIHtcblx0XHRcdFx0YmxvY2s6ICdnYi9ibG9jay1nYi1tZW51Jyxcblx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdG1lbnU6IGF0dHJpYnV0ZXMubWVudSxcblx0XHRcdFx0XHRjbGFzc05hbWU6IGJsb2NrUHJvcHMuY2xhc3NOYW1lXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRibG9ja1JlbmRlciA9IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J3AnLFxuXHRcdFx0XHRudWxsLFxuXHRcdFx0XHQnU2VsZWN0IGEgbWVudSdcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0YmxvY2tQcm9wcyxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0SW5zcGVjdG9yQ29udHJvbHMsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRQYW5lbCxcblx0XHRcdFx0XHR7IGhlYWRlcjogJ01lbnUnIH0sXG5cdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0UGFuZWxCb2R5LFxuXHRcdFx0XHRcdFx0eyB0aXRsZTogJ01lbnUgU2V0dGluZ3MnLCBpY29uOiBtb3JlLCBpbml0aWFsT3BlbjogdHJ1ZSB9LFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRQYW5lbFJvdyxcblx0XHRcdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFNlbGVjdENvbnRyb2wsIHtcblx0XHRcdFx0XHRcdFx0XHRsYWJlbDogX18oJ1NlbGVjdCBhIG1lbnU6ICcpLFxuXHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlOiBvblVwZGF0ZU1lbnUsXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IGF0dHJpYnV0ZXMubWVudSxcblx0XHRcdFx0XHRcdFx0XHRvcHRpb25zOiBhdHRyaWJ1dGVzLm1lbnVzQXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpLFxuXHRcdFx0YmxvY2tSZW5kZXJcblx0XHQpO1xuXHR9XG59KTtcblxuLy8gPEluc3BlY3RvckNvbnRyb2xzIGtleT1cInNldHRpbmdcIj5cbi8vIFx0PFBhbmVsQm9keT5cbi8vIFx0XHQ8UGFuZWxSb3c+XG4vLyBcdFx0XHQ8cD5IZWxsbzwvcD5cbi8vIFx0XHQ8L1BhbmVsUm93PlxuLy8gXHQ8L1BhbmVsQm9keT5cbi8vIDwvSW5zcGVjdG9yQ29udHJvbHM+XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbWVudS9tZW51LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!******************************!*\
  !*** ./src/menu/editor.scss ***!
  \******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tZW51L2VkaXRvci5zY3NzPzI1YmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9tZW51L2VkaXRvci5zY3NzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!*****************************!*\
  !*** ./src/menu/style.scss ***!
  \*****************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tZW51L3N0eWxlLnNjc3M/YTBjMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL21lbnUvc3R5bGUuc2Nzc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!************************!*\
  !*** ./src/map/map.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(/*! ./style.scss */ 7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__react_google_maps_api__ = __webpack_require__(/*! @react-google-maps/api */ 8);\n\n\n\n\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar _wp$blockEditor = wp.blockEditor,\n    useBlockProps = _wp$blockEditor.useBlockProps,\n    InspectorControls = _wp$blockEditor.InspectorControls;\nvar TextControl = wp.components.TextControl;\nvar _wp = wp,\n    ServerSideRender = _wp.serverSideRender;\nvar _wp$components = wp.components,\n    Panel = _wp$components.Panel,\n    PanelBody = _wp$components.PanelBody,\n    PanelRow = _wp$components.PanelRow;\nvar _wordpressIcons = '@wordpress/icons',\n    more = _wordpressIcons.more;\n\n\nregisterBlockType('gb/block-map', {\n\tapiVersion: 2,\n\ttitle: __('Map'),\n\ticon: 'admin-site-alt2',\n\tcategory: 'common',\n\tkeywords: [__('Map'), __('Appearance')],\n\tattributes: {\n\t\tkey: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"Key\"\n\t\t},\n\t\tzoom: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"12\"\n\t\t},\n\t\tlat: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"-31.0\"\n\t\t},\n\t\tlng: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"128.0\"\n\t\t},\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: ''\n\t\t},\n\t\tmediaType: {\n\t\t\ttype: 'string'\n\t\t},\n\t\tmediaUrl: {\n\t\t\ttype: 'string'\n\t\t},\n\t\ticonWidth: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"32\"\n\t\t},\n\t\ticonHeight: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"32\"\n\t\t}\n\t},\n\n\tedit: function edit(props) {\n\t\tvar attributes = props.attributes,\n\t\t    setAttributes = props.setAttributes;\n\n\n\t\tvar blockProps = useBlockProps();\n\n\t\t// let blockRender;\n\t\t// if( attributes.key ) {\n\t\tvar blockRender = wp.element.createElement(ServerSideRender, {\n\t\t\tblock: 'gb/block-map',\n\t\t\tattributes: {\n\t\t\t\tkey: attributes.key,\n\t\t\t\tzoom: attributes.zoom,\n\t\t\t\tlat: attributes.lat,\n\t\t\t\tlng: attributes.lng,\n\t\t\t\ttitle: attributes.title,\n\t\t\t\tmediaUrl: attributes.mediaUrl,\n\t\t\t\ticonWidth: attributes.iconWidth,\n\t\t\t\ticonHeight: attributes.iconHeight\n\t\t\t}\n\t\t});\n\t\t// }\n\t\t// else {\n\t\t// \tblockRender = <p>Enter a key, zoom, lat and lng.</p>\n\t\t// }\n\n\t\tvar center = {\n\t\t\tlat: attributes.lat ? parseFloat(attributes.lat) : 0,\n\t\t\tlng: attributes.lng ? parseFloat(attributes.lng) : 0\n\t\t};\n\t\tvar marker = wp.element.createElement(__WEBPACK_IMPORTED_MODULE_2__react_google_maps_api__[\"c\" /* Marker */], { position: center, label: attributes.label });\n\t\tvar map = attributes.key ? wp.element.createElement(\n\t\t\t'div',\n\t\t\t{ 'class': 'map-wrapper' },\n\t\t\twp.element.createElement(\n\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__react_google_maps_api__[\"b\" /* LoadScript */],\n\t\t\t\t{\n\t\t\t\t\tgoogleMapsApiKey: attributes.key\n\t\t\t\t},\n\t\t\t\twp.element.createElement(\n\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__react_google_maps_api__[\"a\" /* GoogleMap */],\n\t\t\t\t\t{\n\t\t\t\t\t\tcenter: center,\n\t\t\t\t\t\tzoom: attributes.zoom ? parseFloat(attributes.zoom) : 12\n\t\t\t\t\t},\n\t\t\t\t\tmarker\n\t\t\t\t)\n\t\t\t)\n\t\t) : wp.element.createElement(\n\t\t\t'p',\n\t\t\tnull,\n\t\t\t'Enter a valid API key'\n\t\t);\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement(\n\t\t\t\tInspectorControls,\n\t\t\t\tnull,\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tPanelBody,\n\t\t\t\t\t{ title: 'Map Settings', icon: more, initialOpen: true },\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Key',\n\t\t\t\t\t\tvalue: attributes.key,\n\t\t\t\t\t\tonChange: function onChange(newKey) {\n\t\t\t\t\t\t\treturn setAttributes({ key: newKey });\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Zoom',\n\t\t\t\t\t\tvalue: attributes.zoom,\n\t\t\t\t\t\tonChange: function onChange(newZoom) {\n\t\t\t\t\t\t\treturn setAttributes({ zoom: newZoom });\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Lat',\n\t\t\t\t\t\tvalue: attributes.lat,\n\t\t\t\t\t\tonChange: function onChange(newLat) {\n\t\t\t\t\t\t\treturn setAttributes({ lat: newLat });\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Lng',\n\t\t\t\t\t\tvalue: attributes.lng,\n\t\t\t\t\t\tonChange: function onChange(newLng) {\n\t\t\t\t\t\t\treturn setAttributes({ lng: newLng });\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Title',\n\t\t\t\t\t\tvalue: attributes.title,\n\t\t\t\t\t\tonChange: function onChange(newtitle) {\n\t\t\t\t\t\t\treturn setAttributes({ title: newtitle });\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Icon URL',\n\t\t\t\t\t\tvalue: attributes.mediaUrl,\n\t\t\t\t\t\tonChange: function onChange(newUrl) {\n\t\t\t\t\t\t\treturn setAttributes({ mediaUrl: newUrl });\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Icon Width',\n\t\t\t\t\t\tvalue: attributes.iconWidth,\n\t\t\t\t\t\tonChange: function onChange(newWidth) {\n\t\t\t\t\t\t\treturn setAttributes({ iconWidth: newWidth });\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\tlabel: 'Icon Height',\n\t\t\t\t\t\tvalue: attributes.iconHeight,\n\t\t\t\t\t\tonChange: function onChange(newHeight) {\n\t\t\t\t\t\t\treturn setAttributes({ iconHeight: newHeight });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t),\n\t\t\tmap\n\t\t);\n\t},\n\tsave: function save(props) {\n\t\tvar attributes = props.attributes;\n\n\t\tvar blockProps = useBlockProps.save();\n\n\t\tvar center = {\n\t\t\tlat: attributes.lat ? parseFloat(attributes.lat) : 0,\n\t\t\tlng: attributes.lng ? parseFloat(attributes.lng) : 0\n\t\t};\n\t\tvar marker = wp.element.createElement(__WEBPACK_IMPORTED_MODULE_2__react_google_maps_api__[\"c\" /* Marker */], { position: center, label: attributes.label });\n\t\tvar map = attributes.key ? wp.element.createElement(\n\t\t\t'div',\n\t\t\t{ 'class': 'map-wrapper' },\n\t\t\twp.element.createElement(\n\t\t\t\t'p',\n\t\t\t\tnull,\n\t\t\t\t'Hello'\n\t\t\t)\n\t\t) : wp.element.createElement(\n\t\t\t'p',\n\t\t\tnull,\n\t\t\t'Enter a valid API key'\n\t\t);\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement('div', { 'class': 'gb-map',\n\t\t\t\t'data-key': attributes.key,\n\t\t\t\t'data-lat': attributes.lat,\n\t\t\t\t'data-lng': attributes.lng,\n\t\t\t\t'data-zoom': attributes.zoom,\n\t\t\t\t'data-title': attributes.title,\n\t\t\t\t'data-media-url': attributes.mediaUrl,\n\t\t\t\t'data-icon-width': attributes.iconWidth,\n\t\t\t\t'data-icon-height': attributes.iconHeight\n\t\t\t})\n\t\t);\n\t}\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYXAvbWFwLmpzPzI5OWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2VkaXRvci5zY3NzJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuaW1wb3J0IHsgR29vZ2xlTWFwLCBMb2FkU2NyaXB0LCBNYXJrZXIgfSBmcm9tICdAcmVhY3QtZ29vZ2xlLW1hcHMvYXBpJztcblxudmFyIF9fID0gd3AuaTE4bi5fXztcbnZhciByZWdpc3RlckJsb2NrVHlwZSA9IHdwLmJsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZTtcbnZhciBfd3AkYmxvY2tFZGl0b3IgPSB3cC5ibG9ja0VkaXRvcixcbiAgICB1c2VCbG9ja1Byb3BzID0gX3dwJGJsb2NrRWRpdG9yLnVzZUJsb2NrUHJvcHMsXG4gICAgSW5zcGVjdG9yQ29udHJvbHMgPSBfd3AkYmxvY2tFZGl0b3IuSW5zcGVjdG9yQ29udHJvbHM7XG52YXIgVGV4dENvbnRyb2wgPSB3cC5jb21wb25lbnRzLlRleHRDb250cm9sO1xudmFyIF93cCA9IHdwLFxuICAgIFNlcnZlclNpZGVSZW5kZXIgPSBfd3Auc2VydmVyU2lkZVJlbmRlcjtcbnZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgUGFuZWwgPSBfd3AkY29tcG9uZW50cy5QYW5lbCxcbiAgICBQYW5lbEJvZHkgPSBfd3AkY29tcG9uZW50cy5QYW5lbEJvZHksXG4gICAgUGFuZWxSb3cgPSBfd3AkY29tcG9uZW50cy5QYW5lbFJvdztcbnZhciBfd29yZHByZXNzSWNvbnMgPSAnQHdvcmRwcmVzcy9pY29ucycsXG4gICAgbW9yZSA9IF93b3JkcHJlc3NJY29ucy5tb3JlO1xuXG5cbnJlZ2lzdGVyQmxvY2tUeXBlKCdnYi9ibG9jay1tYXAnLCB7XG5cdGFwaVZlcnNpb246IDIsXG5cdHRpdGxlOiBfXygnTWFwJyksXG5cdGljb246ICdhZG1pbi1zaXRlLWFsdDInLFxuXHRjYXRlZ29yeTogJ2NvbW1vbicsXG5cdGtleXdvcmRzOiBbX18oJ01hcCcpLCBfXygnQXBwZWFyYW5jZScpXSxcblx0YXR0cmlidXRlczoge1xuXHRcdGtleToge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRkZWZhdWx0OiBcIktleVwiXG5cdFx0fSxcblx0XHR6b29tOiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJyxcblx0XHRcdGRlZmF1bHQ6IFwiMTJcIlxuXHRcdH0sXG5cdFx0bGF0OiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJyxcblx0XHRcdGRlZmF1bHQ6IFwiLTMxLjBcIlxuXHRcdH0sXG5cdFx0bG5nOiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJyxcblx0XHRcdGRlZmF1bHQ6IFwiMTI4LjBcIlxuXHRcdH0sXG5cdFx0dGl0bGU6IHtcblx0XHRcdHR5cGU6ICdzdHJpbmcnLFxuXHRcdFx0ZGVmYXVsdDogJydcblx0XHR9LFxuXHRcdG1lZGlhVHlwZToge1xuXHRcdFx0dHlwZTogJ3N0cmluZydcblx0XHR9LFxuXHRcdG1lZGlhVXJsOiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJ1xuXHRcdH0sXG5cdFx0aWNvbldpZHRoOiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJyxcblx0XHRcdGRlZmF1bHQ6IFwiMzJcIlxuXHRcdH0sXG5cdFx0aWNvbkhlaWdodDoge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRkZWZhdWx0OiBcIjMyXCJcblx0XHR9XG5cdH0sXG5cblx0ZWRpdDogZnVuY3Rpb24gZWRpdChwcm9wcykge1xuXHRcdHZhciBhdHRyaWJ1dGVzID0gcHJvcHMuYXR0cmlidXRlcyxcblx0XHQgICAgc2V0QXR0cmlidXRlcyA9IHByb3BzLnNldEF0dHJpYnV0ZXM7XG5cblxuXHRcdHZhciBibG9ja1Byb3BzID0gdXNlQmxvY2tQcm9wcygpO1xuXG5cdFx0Ly8gbGV0IGJsb2NrUmVuZGVyO1xuXHRcdC8vIGlmKCBhdHRyaWJ1dGVzLmtleSApIHtcblx0XHR2YXIgYmxvY2tSZW5kZXIgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoU2VydmVyU2lkZVJlbmRlciwge1xuXHRcdFx0YmxvY2s6ICdnYi9ibG9jay1tYXAnLFxuXHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRrZXk6IGF0dHJpYnV0ZXMua2V5LFxuXHRcdFx0XHR6b29tOiBhdHRyaWJ1dGVzLnpvb20sXG5cdFx0XHRcdGxhdDogYXR0cmlidXRlcy5sYXQsXG5cdFx0XHRcdGxuZzogYXR0cmlidXRlcy5sbmcsXG5cdFx0XHRcdHRpdGxlOiBhdHRyaWJ1dGVzLnRpdGxlLFxuXHRcdFx0XHRtZWRpYVVybDogYXR0cmlidXRlcy5tZWRpYVVybCxcblx0XHRcdFx0aWNvbldpZHRoOiBhdHRyaWJ1dGVzLmljb25XaWR0aCxcblx0XHRcdFx0aWNvbkhlaWdodDogYXR0cmlidXRlcy5pY29uSGVpZ2h0XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gfVxuXHRcdC8vIGVsc2Uge1xuXHRcdC8vIFx0YmxvY2tSZW5kZXIgPSA8cD5FbnRlciBhIGtleSwgem9vbSwgbGF0IGFuZCBsbmcuPC9wPlxuXHRcdC8vIH1cblxuXHRcdHZhciBjZW50ZXIgPSB7XG5cdFx0XHRsYXQ6IGF0dHJpYnV0ZXMubGF0ID8gcGFyc2VGbG9hdChhdHRyaWJ1dGVzLmxhdCkgOiAwLFxuXHRcdFx0bG5nOiBhdHRyaWJ1dGVzLmxuZyA/IHBhcnNlRmxvYXQoYXR0cmlidXRlcy5sbmcpIDogMFxuXHRcdH07XG5cdFx0dmFyIG1hcmtlciA9IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChNYXJrZXIsIHsgcG9zaXRpb246IGNlbnRlciwgbGFiZWw6IGF0dHJpYnV0ZXMubGFiZWwgfSk7XG5cdFx0dmFyIG1hcCA9IGF0dHJpYnV0ZXMua2V5ID8gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7ICdjbGFzcyc6ICdtYXAtd3JhcHBlcicgfSxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0TG9hZFNjcmlwdCxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGdvb2dsZU1hcHNBcGlLZXk6IGF0dHJpYnV0ZXMua2V5XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRHb29nbGVNYXAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2VudGVyOiBjZW50ZXIsXG5cdFx0XHRcdFx0XHR6b29tOiBhdHRyaWJ1dGVzLnpvb20gPyBwYXJzZUZsb2F0KGF0dHJpYnV0ZXMuem9vbSkgOiAxMlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bWFya2VyXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpIDogd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3AnLFxuXHRcdFx0bnVsbCxcblx0XHRcdCdFbnRlciBhIHZhbGlkIEFQSSBrZXknXG5cdFx0KTtcblxuXHRcdHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdGJsb2NrUHJvcHMsXG5cdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdEluc3BlY3RvckNvbnRyb2xzLFxuXHRcdFx0XHRudWxsLFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0UGFuZWxCb2R5LFxuXHRcdFx0XHRcdHsgdGl0bGU6ICdNYXAgU2V0dGluZ3MnLCBpY29uOiBtb3JlLCBpbml0aWFsT3BlbjogdHJ1ZSB9LFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0bGFiZWw6ICdLZXknLFxuXHRcdFx0XHRcdFx0dmFsdWU6IGF0dHJpYnV0ZXMua2V5LFxuXHRcdFx0XHRcdFx0b25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld0tleSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc2V0QXR0cmlidXRlcyh7IGtleTogbmV3S2V5IH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0bGFiZWw6ICdab29tJyxcblx0XHRcdFx0XHRcdHZhbHVlOiBhdHRyaWJ1dGVzLnpvb20sXG5cdFx0XHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3Wm9vbSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc2V0QXR0cmlidXRlcyh7IHpvb206IG5ld1pvb20gfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFRleHRDb250cm9sLCB7XG5cdFx0XHRcdFx0XHRsYWJlbDogJ0xhdCcsXG5cdFx0XHRcdFx0XHR2YWx1ZTogYXR0cmlidXRlcy5sYXQsXG5cdFx0XHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3TGF0KSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgbGF0OiBuZXdMYXQgfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFRleHRDb250cm9sLCB7XG5cdFx0XHRcdFx0XHRsYWJlbDogJ0xuZycsXG5cdFx0XHRcdFx0XHR2YWx1ZTogYXR0cmlidXRlcy5sbmcsXG5cdFx0XHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3TG5nKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgbG5nOiBuZXdMbmcgfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFRleHRDb250cm9sLCB7XG5cdFx0XHRcdFx0XHRsYWJlbDogJ1RpdGxlJyxcblx0XHRcdFx0XHRcdHZhbHVlOiBhdHRyaWJ1dGVzLnRpdGxlLFxuXHRcdFx0XHRcdFx0b25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld3RpdGxlKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgdGl0bGU6IG5ld3RpdGxlIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0bGFiZWw6ICdJY29uIFVSTCcsXG5cdFx0XHRcdFx0XHR2YWx1ZTogYXR0cmlidXRlcy5tZWRpYVVybCxcblx0XHRcdFx0XHRcdG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShuZXdVcmwpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldEF0dHJpYnV0ZXMoeyBtZWRpYVVybDogbmV3VXJsIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0bGFiZWw6ICdJY29uIFdpZHRoJyxcblx0XHRcdFx0XHRcdHZhbHVlOiBhdHRyaWJ1dGVzLmljb25XaWR0aCxcblx0XHRcdFx0XHRcdG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShuZXdXaWR0aCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc2V0QXR0cmlidXRlcyh7IGljb25XaWR0aDogbmV3V2lkdGggfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFRleHRDb250cm9sLCB7XG5cdFx0XHRcdFx0XHRsYWJlbDogJ0ljb24gSGVpZ2h0Jyxcblx0XHRcdFx0XHRcdHZhbHVlOiBhdHRyaWJ1dGVzLmljb25IZWlnaHQsXG5cdFx0XHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3SGVpZ2h0KSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgaWNvbkhlaWdodDogbmV3SGVpZ2h0IH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdClcblx0XHRcdCksXG5cdFx0XHRtYXBcblx0XHQpO1xuXHR9LFxuXHRzYXZlOiBmdW5jdGlvbiBzYXZlKHByb3BzKSB7XG5cdFx0dmFyIGF0dHJpYnV0ZXMgPSBwcm9wcy5hdHRyaWJ1dGVzO1xuXG5cdFx0dmFyIGJsb2NrUHJvcHMgPSB1c2VCbG9ja1Byb3BzLnNhdmUoKTtcblxuXHRcdHZhciBjZW50ZXIgPSB7XG5cdFx0XHRsYXQ6IGF0dHJpYnV0ZXMubGF0ID8gcGFyc2VGbG9hdChhdHRyaWJ1dGVzLmxhdCkgOiAwLFxuXHRcdFx0bG5nOiBhdHRyaWJ1dGVzLmxuZyA/IHBhcnNlRmxvYXQoYXR0cmlidXRlcy5sbmcpIDogMFxuXHRcdH07XG5cdFx0dmFyIG1hcmtlciA9IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChNYXJrZXIsIHsgcG9zaXRpb246IGNlbnRlciwgbGFiZWw6IGF0dHJpYnV0ZXMubGFiZWwgfSk7XG5cdFx0dmFyIG1hcCA9IGF0dHJpYnV0ZXMua2V5ID8gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHR7ICdjbGFzcyc6ICdtYXAtd3JhcHBlcicgfSxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J3AnLFxuXHRcdFx0XHRudWxsLFxuXHRcdFx0XHQnSGVsbG8nXG5cdFx0XHQpXG5cdFx0KSA6IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdwJyxcblx0XHRcdG51bGwsXG5cdFx0XHQnRW50ZXIgYSB2YWxpZCBBUEkga2V5J1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHRibG9ja1Byb3BzLFxuXHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7ICdjbGFzcyc6ICdnYi1tYXAnLFxuXHRcdFx0XHQnZGF0YS1rZXknOiBhdHRyaWJ1dGVzLmtleSxcblx0XHRcdFx0J2RhdGEtbGF0JzogYXR0cmlidXRlcy5sYXQsXG5cdFx0XHRcdCdkYXRhLWxuZyc6IGF0dHJpYnV0ZXMubG5nLFxuXHRcdFx0XHQnZGF0YS16b29tJzogYXR0cmlidXRlcy56b29tLFxuXHRcdFx0XHQnZGF0YS10aXRsZSc6IGF0dHJpYnV0ZXMudGl0bGUsXG5cdFx0XHRcdCdkYXRhLW1lZGlhLXVybCc6IGF0dHJpYnV0ZXMubWVkaWFVcmwsXG5cdFx0XHRcdCdkYXRhLWljb24td2lkdGgnOiBhdHRyaWJ1dGVzLmljb25XaWR0aCxcblx0XHRcdFx0J2RhdGEtaWNvbi1oZWlnaHQnOiBhdHRyaWJ1dGVzLmljb25IZWlnaHRcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbWFwL21hcC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/*!*****************************!*\
  !*** ./src/map/editor.scss ***!
  \*****************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYXAvZWRpdG9yLnNjc3M/ZTExZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL21hcC9lZGl0b3Iuc2Nzc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/*!****************************!*\
  !*** ./src/map/style.scss ***!
  \****************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYXAvc3R5bGUuc2Nzcz82YTIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbWFwL3N0eWxlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/*!****************************************************************************!*\
  !*** ./node_modules/@react-google-maps/api/dist/reactgooglemapsapi.esm.js ***!
  \****************************************************************************/
/*! exports provided: Autocomplete, BicyclingLayer, Circle, Data, DirectionsRenderer, DirectionsService, DistanceMatrixService, DrawingManager, GoogleMap, GroundOverlay, HeatmapLayer, InfoBox, InfoWindow, KmlLayer, LoadScript, LoadScriptNext, MapContext, Marker, MarkerClusterer, OverlayView, Polygon, Polyline, Rectangle, StandaloneSearchBox, StreetViewPanorama, StreetViewService, TrafficLayer, TransitLayer, useGoogleMap, useJsApiLoader, useLoadScript */
/*! exports used: GoogleMap, LoadScript, Marker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {/* unused harmony export Autocomplete */\n/* unused harmony export BicyclingLayer */\n/* unused harmony export Circle */\n/* unused harmony export Data */\n/* unused harmony export DirectionsRenderer */\n/* unused harmony export DirectionsService */\n/* unused harmony export DistanceMatrixService */\n/* unused harmony export DrawingManager */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GoogleMap; });\n/* unused harmony export GroundOverlay */\n/* unused harmony export HeatmapLayer */\n/* unused harmony export InfoBox */\n/* unused harmony export InfoWindow */\n/* unused harmony export KmlLayer */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return LoadScript; });\n/* unused harmony export LoadScriptNext */\n/* unused harmony export MapContext */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return Marker; });\n/* unused harmony export MarkerClusterer */\n/* unused harmony export OverlayView */\n/* unused harmony export Polygon */\n/* unused harmony export Polyline */\n/* unused harmony export Rectangle */\n/* unused harmony export StandaloneSearchBox */\n/* unused harmony export StreetViewPanorama */\n/* unused harmony export StreetViewService */\n/* unused harmony export TrafficLayer */\n/* unused harmony export TransitLayer */\n/* unused harmony export useGoogleMap */\n/* unused harmony export useJsApiLoader */\n/* unused harmony export useLoadScript */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_invariant__ = __webpack_require__(/*! invariant */ 10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_invariant___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_invariant__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__googlemaps_js_api_loader__ = __webpack_require__(/*! @googlemaps/js-api-loader */ 11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__react_google_maps_marker_clusterer__ = __webpack_require__(/*! @react-google-maps/marker-clusterer */ 12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_dom__ = __webpack_require__(/*! react-dom */ 13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__react_google_maps_infobox__ = __webpack_require__(/*! @react-google-maps/infobox */ 14);\n\n\n\n\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar MapContext = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createContext\"])(null);\nfunction useGoogleMap() {\n  !!!__WEBPACK_IMPORTED_MODULE_0_react__[\"useContext\"] ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'useGoogleMap is React hook and requires React version 16.8+') : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n  var map = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useContext\"])(MapContext);\n  !!!map ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'useGoogleMap needs a GoogleMap available up in the tree') : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n  return map;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar reduce = function reduce(obj, fn, acc) {\n  return Object.keys(obj).reduce(function reducer(newAcc, key) {\n    return fn(newAcc, obj[key], key);\n  }, acc);\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction forEach(obj, fn) {\n  Object.keys(obj).forEach(function iterator(key) {\n    return fn(obj[key], key);\n  });\n}\n\n/* global google */\nvar applyUpdaterToNextProps = function applyUpdaterToNextProps( // eslint-disable-next-line @typescript-eslint/no-explicit-any\nupdaterMap, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nprevProps, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nnextProps, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ninstance // eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var map = {}; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var iter = function iter(fn, key) {\n    var nextValue = nextProps[key];\n\n    if (nextValue !== prevProps[key]) {\n      map[key] = nextValue;\n      fn(instance, nextValue);\n    }\n  };\n\n  forEach(updaterMap, iter);\n  return map;\n};\nfunction registerEvents( // eslint-disable-next-line @typescript-eslint/no-explicit-any\nprops, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ninstance, eventMap) {\n  var registeredList = reduce(eventMap, function reducer(acc, googleEventName, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onEventName) {\n    if (typeof props[onEventName] === 'function') {\n      acc.push(google.maps.event.addListener(instance, googleEventName, props[onEventName]));\n    }\n\n    return acc;\n  }, []);\n  return registeredList;\n}\n\nfunction unregisterEvent(registered) {\n  google.maps.event.removeListener(registered);\n}\n\nfunction unregisterEvents(events) {\n  if (events === void 0) {\n    events = [];\n  }\n\n  events.forEach(unregisterEvent);\n}\nfunction applyUpdatersToPropsAndRegisterEvents(_ref) {\n  var updaterMap = _ref.updaterMap,\n      eventMap = _ref.eventMap,\n      prevProps = _ref.prevProps,\n      nextProps = _ref.nextProps,\n      instance = _ref.instance;\n  var registeredEvents = registerEvents(nextProps, instance, eventMap);\n  applyUpdaterToNextProps(updaterMap, prevProps, nextProps, instance);\n  return registeredEvents;\n}\n\nvar eventMap = {\n  onDblClick: 'dblclick',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMapTypeIdChanged: 'maptypeid_changed',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseDown: 'mousedown',\n  onMouseUp: 'mouseup',\n  onRightClick: 'rightclick',\n  onTilesLoaded: 'tilesloaded',\n  onBoundsChanged: 'bounds_changed',\n  onCenterChanged: 'center_changed',\n  onClick: 'click',\n  onDrag: 'drag',\n  onHeadingChanged: 'heading_changed',\n  onIdle: 'idle',\n  onProjectionChanged: 'projection_changed',\n  onResize: 'resize',\n  onTiltChanged: 'tilt_changed',\n  onZoomChanged: 'zoom_changed'\n};\nvar updaterMap = {\n  extraMapTypes: function extraMapTypes(map, extra) {\n    extra.forEach(function forEachExtra(it, i) {\n      map.mapTypes.set(String(i), it);\n    });\n  },\n  center: function center(map, _center) {\n    map.setCenter(_center);\n  },\n  clickableIcons: function clickableIcons(map, clickable) {\n    map.setClickableIcons(clickable);\n  },\n  heading: function heading(map, _heading) {\n    map.setHeading(_heading);\n  },\n  mapTypeId: function mapTypeId(map, _mapTypeId) {\n    map.setMapTypeId(_mapTypeId);\n  },\n  options: function options(map, _options) {\n    map.setOptions(_options);\n  },\n  streetView: function streetView(map, _streetView) {\n    map.setStreetView(_streetView);\n  },\n  tilt: function tilt(map, _tilt) {\n    map.setTilt(_tilt);\n  },\n  zoom: function zoom(map, _zoom) {\n    map.setZoom(_zoom);\n  }\n}; // function GoogleMapFunctional({ children, options, id, mapContainerStyle, center, clickableIcons, extraMapTypes, heading, mapContainerClassName, mapTypeId, onBoundsChanged, onCenterChanged, onClick, onDblClick, onDrag, onDragEnd, onDragStart, onHeadingChanged, onIdle, onProjectionChanged, onResize, onTiltChanged, onLoad }: GoogleMapProps): JSX.Element {\n//   const [map, setMap] = React.useState<google.maps.Map | null>(null)\n//   const ref = React.useRef<HTMLDivElement | null>(null)\n//   const getInstance = React.useCallback(() => {\n//     if (ref.current === null) {\n//       return null\n//     }\n//     return new google.maps.Map(ref.current, options)\n//   }, [options])\n//   React.useEffect(() => {\n//   }, [])\n//   const panTo = React.useCallback((latLng: google.maps.LatLng | google.maps.LatLngLiteral): void => {\n//     const map = getInstance()\n//     if (map) {\n//       map.panTo(latLng)\n//     }\n//   }, [])\n//   React.useEffect(() => {\n//     const map = getInstance()\n//   }, [])\n//   return (\n//     <div\n//         id={id}\n//         ref={ref}\n//         style={mapContainerStyle}\n//         className={mapContainerClassName}\n//       >\n//         <MapContext.Provider value={map}>\n//           {map !== null ? children : <></>}\n//         </MapContext.Provider>\n//       </div>\n//   )\n// }\n\nvar GoogleMap = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(GoogleMap, _React$PureComponent);\n\n  function GoogleMap() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.state = {\n      map: null\n    };\n    _this.registeredEvents = [];\n    _this.mapRef = null;\n\n    _this.getInstance = function () {\n      if (_this.mapRef === null) {\n        return null;\n      }\n\n      return new google.maps.Map(_this.mapRef, _this.props.options);\n    };\n\n    _this.panTo = function (latLng) {\n      var map = _this.getInstance();\n\n      if (map) {\n        map.panTo(latLng);\n      }\n    };\n\n    _this.setMapCallback = function () {\n      if (_this.state.map !== null) {\n        if (_this.props.onLoad) {\n          _this.props.onLoad(_this.state.map);\n        }\n      }\n    };\n\n    _this.getRef = function (ref) {\n      _this.mapRef = ref;\n    };\n\n    return _this;\n  }\n\n  var _proto = GoogleMap.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var map = this.getInstance();\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap,\n      eventMap: eventMap,\n      prevProps: {},\n      nextProps: this.props,\n      instance: map\n    });\n    this.setState(function setMap() {\n      return {\n        map: map\n      };\n    }, this.setMapCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.map !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap,\n        eventMap: eventMap,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.map\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.map !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.map);\n      }\n\n      unregisterEvents(this.registeredEvents);\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"div\", {\n      id: this.props.id,\n      ref: this.getRef,\n      style: this.props.mapContainerStyle,\n      className: this.props.mapContainerClassName\n    }, Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(MapContext.Provider, {\n      value: this.state.map\n    }, this.state.map !== null ? this.props.children : Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null)));\n  };\n\n  return GoogleMap;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = createCommonjsModule(function (module) {\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined$1; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined$1) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined$1;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined$1;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined$1;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined$1, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined$1;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined$1;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined$1;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined$1;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined$1;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports \n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n});\n\nvar isBrowser = typeof document !== 'undefined';\n\nvar injectScript = function injectScript(_ref) {\n  var url = _ref.url,\n      id = _ref.id,\n      nonce = _ref.nonce;\n\n  if (!isBrowser) {\n    return Promise.reject(new Error('document is undefined'));\n  }\n\n  return new Promise(function injectScriptCallback(resolve, reject) {\n    var existingScript = document.getElementById(id);\n    var windowWithGoogleMap = window;\n\n    if (existingScript) {\n      // Same script id/url: keep same script\n      var dataStateAttribute = existingScript.getAttribute('data-state');\n\n      if (existingScript.src === url && dataStateAttribute !== 'error') {\n        if (dataStateAttribute === 'ready') {\n          return resolve(id);\n        } else {\n          var originalInitMap = windowWithGoogleMap.initMap;\n          var originalErrorCallback = existingScript.onerror;\n\n          windowWithGoogleMap.initMap = function initMap() {\n            if (originalInitMap) {\n              originalInitMap();\n            }\n\n            resolve(id);\n          };\n\n          existingScript.onerror = function (err) {\n            if (originalErrorCallback) {\n              originalErrorCallback(err);\n            }\n\n            reject(err);\n          };\n\n          return;\n        }\n      } // Same script id, but either\n      // 1. requested URL is different\n      // 2. script failed to load\n      else {\n          existingScript.remove();\n        }\n    }\n\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.id = id;\n    script.async = true;\n    script.nonce = nonce;\n\n    script.onerror = function onerror(err) {\n      script.setAttribute('data-state', 'error');\n      reject(err);\n    };\n\n    windowWithGoogleMap.initMap = function onload() {\n      script.setAttribute('data-state', 'ready');\n      resolve(id);\n    };\n\n    document.head.appendChild(script);\n  })[\"catch\"](function (err) {\n    console.error('injectScript error: ', err);\n    throw err;\n  });\n};\n\nvar isRobotoStyle = function isRobotoStyle(element) {\n  // roboto font download\n  if (element.href && element.href.indexOf('https://fonts.googleapis.com/css?family=Roboto') === 0) {\n    return true;\n  } // roboto style elements\n\n\n  if (element.tagName.toLowerCase() === 'style' && // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  element.styleSheet && // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  element.styleSheet.cssText && // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  element.styleSheet.cssText.replace('\\r\\n', '').indexOf('.gm-style') === 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    element.styleSheet.cssText = '';\n    return true;\n  } // roboto style elements for other browsers\n\n\n  if (element.tagName.toLowerCase() === 'style' && element.innerHTML && element.innerHTML.replace('\\r\\n', '').indexOf('.gm-style') === 0) {\n    element.innerHTML = '';\n    return true;\n  } // when google tries to add empty style\n\n\n  if (element.tagName.toLowerCase() === 'style' && // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  !element.styleSheet && !element.innerHTML) {\n    return true;\n  }\n\n  return false;\n}; // Preventing the Google Maps library from downloading an extra font\n\n\nvar preventGoogleFonts = function preventGoogleFonts() {\n  // we override these methods only for one particular head element\n  // default methods for other elements are not affected\n  var head = document.getElementsByTagName('head')[0];\n  var trueInsertBefore = head.insertBefore.bind(head); // TODO: adding return before reflect solves the TS issue\n  // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n\n  head.insertBefore = function insertBefore(newElement, referenceElement) {\n    if (!isRobotoStyle(newElement)) {\n      Reflect.apply(trueInsertBefore, head, [newElement, referenceElement]);\n    }\n  };\n\n  var trueAppend = head.appendChild.bind(head); // TODO: adding return before reflect solves the TS issue\n  // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n\n  head.appendChild = function appendChild(textNode) {\n    if (!isRobotoStyle(textNode)) {\n      Reflect.apply(trueAppend, head, [textNode]);\n    }\n  };\n};\n\nfunction makeLoadScriptUrl(_ref) {\n  var googleMapsApiKey = _ref.googleMapsApiKey,\n      googleMapsClientId = _ref.googleMapsClientId,\n      _ref$version = _ref.version,\n      version = _ref$version === void 0 ? 'weekly' : _ref$version,\n      language = _ref.language,\n      region = _ref.region,\n      libraries = _ref.libraries,\n      channel = _ref.channel,\n      mapIds = _ref.mapIds;\n  var params = [];\n  !(googleMapsApiKey && googleMapsClientId || !(googleMapsApiKey && googleMapsClientId)) ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time.') : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n\n  if (googleMapsApiKey) {\n    params.push(\"key=\" + googleMapsApiKey);\n  } else if (googleMapsClientId) {\n    params.push(\"client=\" + googleMapsClientId);\n  }\n\n  if (version) {\n    params.push(\"v=\" + version);\n  }\n\n  if (language) {\n    params.push(\"language=\" + language);\n  }\n\n  if (region) {\n    params.push(\"region=\" + region);\n  }\n\n  if (libraries && libraries.length) {\n    params.push(\"libraries=\" + libraries.sort().join(','));\n  }\n\n  if (channel) {\n    params.push(\"channel=\" + channel);\n  }\n\n  if (mapIds && mapIds.length) {\n    params.push(\"map_ids=\" + mapIds.join(','));\n  }\n\n  params.push('callback=initMap');\n  return \"https://maps.googleapis.com/maps/api/js?\" + params.join('&');\n}\n\nvar cleaningUp = false;\nfunction DefaultLoadingElement() {\n  return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"div\", null, \"Loading...\");\n}\nvar defaultLoadScriptProps = {\n  id: 'script-loader',\n  version: 'weekly'\n};\n\nvar LoadScript = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(LoadScript, _React$PureComponent);\n\n  function LoadScript() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.check = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createRef\"])();\n    _this.state = {\n      loaded: false\n    };\n\n    _this.cleanupCallback = function () {\n      // @ts-ignore\n      delete window.google.maps;\n\n      _this.injectScript();\n    };\n\n    _this.isCleaningUp = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n      var promiseCallback;\n      return runtime_1.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              promiseCallback = function _promiseCallback(resolve) {\n                if (!cleaningUp) {\n                  resolve();\n                } else {\n                  if (isBrowser) {\n                    var timer = window.setInterval(function interval() {\n                      if (!cleaningUp) {\n                        window.clearInterval(timer);\n                        resolve();\n                      }\n                    }, 1);\n                  }\n                }\n\n                return;\n              };\n\n              return _context.abrupt(\"return\", new Promise(promiseCallback));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.cleanup = function () {\n      cleaningUp = true;\n      var script = document.getElementById(_this.props.id);\n\n      if (script && script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n\n      Array.prototype.slice.call(document.getElementsByTagName('script')).filter(function filter(script) {\n        return typeof script.src === 'string' && script.src.includes('maps.googleapis');\n      }).forEach(function forEach(script) {\n        if (script.parentNode) {\n          script.parentNode.removeChild(script);\n        }\n      });\n      Array.prototype.slice.call(document.getElementsByTagName('link')).filter(function filter(link) {\n        return link.href === 'https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans';\n      }).forEach(function forEach(link) {\n        if (link.parentNode) {\n          link.parentNode.removeChild(link);\n        }\n      });\n      Array.prototype.slice.call(document.getElementsByTagName('style')).filter(function filter(style) {\n        return style.innerText !== undefined && style.innerText.length > 0 && style.innerText.includes('.gm-');\n      }).forEach(function forEach(style) {\n        if (style.parentNode) {\n          style.parentNode.removeChild(style);\n        }\n      });\n    };\n\n    _this.injectScript = function () {\n      if (_this.props.preventGoogleFontsLoading) {\n        preventGoogleFonts();\n      }\n\n      !!!_this.props.id ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'LoadScript requires \"id\" prop to be a string: %s', _this.props.id) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n      var injectScriptOptions = {\n        id: _this.props.id,\n        nonce: _this.props.nonce,\n        url: makeLoadScriptUrl(_this.props)\n      };\n      injectScript(injectScriptOptions).then(function () {\n        if (_this.props.onLoad) {\n          _this.props.onLoad();\n        }\n\n        _this.setState(function setLoaded() {\n          return {\n            loaded: true\n          };\n        });\n\n        return;\n      })[\"catch\"](function (err) {\n        if (_this.props.onError) {\n          _this.props.onError(err);\n        }\n\n        console.error(\"\\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (\" + (_this.props.googleMapsApiKey || '-') + \") or Client ID (\" + (_this.props.googleMapsClientId || '-') + \") to <LoadScript />\\n          Otherwise it is a Network issue.\\n        \");\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = LoadScript.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (isBrowser) {\n      if (window.google && window.google.maps && !cleaningUp) {\n        console.error('google api is already presented');\n        return;\n      }\n\n      this.isCleaningUp().then(this.injectScript)[\"catch\"](function error(err) {\n        console.error('Error at injecting script after cleaning up: ', err);\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.libraries !== prevProps.libraries) {\n      console.warn('Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables');\n    }\n\n    if (isBrowser && prevProps.language !== this.props.language) {\n      this.cleanup(); // TODO: refactor to use gDSFP maybe... wait for hooks refactoring.\n      // eslint-disable-next-line react/no-did-update-set-state\n\n      this.setState(function setLoaded() {\n        return {\n          loaded: false\n        };\n      }, this.cleanupCallback);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this2 = this;\n\n    if (isBrowser) {\n      this.cleanup();\n\n      var timeoutCallback = function timeoutCallback() {\n        if (!_this2.check.current) {\n          // @ts-ignore\n          delete window.google;\n          cleaningUp = false;\n        }\n      };\n\n      window.setTimeout(timeoutCallback, 1);\n\n      if (this.props.onUnmount) {\n        this.props.onUnmount();\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null, Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"div\", {\n      ref: this.check\n    }), this.state.loaded ? this.props.children : this.props.loadingElement || Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(DefaultLoadingElement, null));\n  };\n\n  return LoadScript;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n\nLoadScript.defaultProps = defaultLoadScriptProps;\n\n/* eslint-disable filenames/match-regex */\nvar previouslyLoadedUrl;\nfunction useLoadScript(_ref) {\n  var _ref$id = _ref.id,\n      id = _ref$id === void 0 ? defaultLoadScriptProps.id : _ref$id,\n      _ref$version = _ref.version,\n      version = _ref$version === void 0 ? defaultLoadScriptProps.version : _ref$version,\n      nonce = _ref.nonce,\n      googleMapsApiKey = _ref.googleMapsApiKey,\n      googleMapsClientId = _ref.googleMapsClientId,\n      language = _ref.language,\n      region = _ref.region,\n      libraries = _ref.libraries,\n      preventGoogleFontsLoading = _ref.preventGoogleFontsLoading,\n      channel = _ref.channel,\n      mapIds = _ref.mapIds;\n  var isMounted = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(false);\n\n  var _React$useState = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(false),\n      isLoaded = _React$useState[0],\n      setLoaded = _React$useState[1];\n\n  var _React$useState2 = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(undefined),\n      loadError = _React$useState2[0],\n      setLoadError = _React$useState2[1];\n\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function trackMountedState() {\n    isMounted.current = true;\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function applyPreventGoogleFonts() {\n    if (isBrowser && preventGoogleFontsLoading) {\n      preventGoogleFonts();\n    }\n  }, [preventGoogleFontsLoading]);\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function validateLoadedState() {\n    if (isLoaded) {\n      !!!window.google ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'useLoadScript was marked as loaded, but window.google is not present. Something went wrong.') : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n    }\n  }, [isLoaded]);\n  var url = makeLoadScriptUrl({\n    version: version,\n    googleMapsApiKey: googleMapsApiKey,\n    googleMapsClientId: googleMapsClientId,\n    language: language,\n    region: region,\n    libraries: libraries,\n    channel: channel,\n    mapIds: mapIds\n  });\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function loadScriptAndModifyLoadedState() {\n    if (!isBrowser) {\n      return;\n    }\n\n    function setLoadedIfMounted() {\n      if (isMounted.current) {\n        setLoaded(true);\n        previouslyLoadedUrl = url;\n      }\n    }\n\n    if (window.google && window.google.maps && previouslyLoadedUrl === url) {\n      setLoadedIfMounted();\n      return;\n    }\n\n    injectScript({\n      id: id,\n      url: url,\n      nonce: nonce\n    }).then(setLoadedIfMounted)[\"catch\"](function handleInjectError(err) {\n      if (isMounted.current) {\n        setLoadError(err);\n      }\n\n      console.warn(\"\\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (\" + (googleMapsApiKey || '-') + \") or Client ID (\" + (googleMapsClientId || '-') + \")\\n        Otherwise it is a Network issue.\\n      \");\n      console.error(err);\n    });\n  }, [id, url, nonce]);\n  var prevLibraries = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])();\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function checkPerformance() {\n    if (prevLibraries.current && libraries !== prevLibraries.current) {\n      console.warn('Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables');\n    }\n\n    prevLibraries.current = libraries;\n  }, [libraries]);\n  return {\n    isLoaded: isLoaded,\n    loadError: loadError,\n    url: url\n  };\n}\n\nvar defaultLoadingElement = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(DefaultLoadingElement, null);\n\nfunction LoadScriptNext(_ref) {\n  var loadingElement = _ref.loadingElement,\n      onLoad = _ref.onLoad,\n      onError = _ref.onError,\n      onUnmount = _ref.onUnmount,\n      children = _ref.children,\n      hookOptions = _objectWithoutPropertiesLoose(_ref, [\"loadingElement\", \"onLoad\", \"onError\", \"onUnmount\", \"children\"]);\n\n  var _useLoadScript = useLoadScript(hookOptions),\n      isLoaded = _useLoadScript.isLoaded,\n      loadError = _useLoadScript.loadError;\n\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function handleOnLoad() {\n    if (isLoaded && typeof onLoad === 'function') {\n      onLoad();\n    }\n  }, [isLoaded, onLoad]);\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function handleOnError() {\n    if (loadError && typeof onError === 'function') {\n      onError(loadError);\n    }\n  }, [loadError, onError]);\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function handleOnUnmount() {\n    return function () {\n      if (onUnmount) {\n        onUnmount();\n      }\n    };\n  }, [onUnmount]);\n  return isLoaded ? children : loadingElement || defaultLoadingElement;\n}\n\nvar LoadScriptNext$1 = /*#__PURE__*/Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"memo\"])(LoadScriptNext);\n\n/* eslint-disable filenames/match-regex */\nfunction useJsApiLoader(_ref) {\n  var _ref$id = _ref.id,\n      id = _ref$id === void 0 ? defaultLoadScriptProps.id : _ref$id,\n      _ref$version = _ref.version,\n      version = _ref$version === void 0 ? defaultLoadScriptProps.version : _ref$version,\n      nonce = _ref.nonce,\n      googleMapsApiKey = _ref.googleMapsApiKey,\n      language = _ref.language,\n      region = _ref.region,\n      libraries = _ref.libraries,\n      preventGoogleFontsLoading = _ref.preventGoogleFontsLoading,\n      mapIds = _ref.mapIds;\n\n  var _React$useState = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(false),\n      isLoaded = _React$useState[0],\n      setLoaded = _React$useState[1];\n\n  var _React$useState2 = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(undefined),\n      loadError = _React$useState2[0],\n      setLoadError = _React$useState2[1];\n\n  var loader = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useMemo\"])(function memo() {\n    return new __WEBPACK_IMPORTED_MODULE_2__googlemaps_js_api_loader__[\"a\" /* Loader */]({\n      id: id,\n      apiKey: googleMapsApiKey,\n      version: version,\n      libraries: libraries,\n      language: language,\n      region: region,\n      mapIds: mapIds,\n      nonce: nonce\n    });\n  }, [id, googleMapsApiKey, version, libraries, language, region, mapIds, nonce]);\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function effect() {\n    if (isLoaded) {\n      return;\n    } else {\n      loader.load().then(function then() {\n        setLoaded(true);\n      })[\"catch\"](function onrejected(error) {\n        setLoadError(error);\n      });\n    }\n  }, []);\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function applyPreventGoogleFonts() {\n    if (isBrowser && preventGoogleFontsLoading) {\n      preventGoogleFonts();\n    }\n  }, [preventGoogleFontsLoading]);\n  var prevLibraries = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])();\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function effect() {\n    if (prevLibraries.current && libraries !== prevLibraries.current) {\n      console.warn('Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables');\n    }\n\n    prevLibraries.current = libraries;\n  }, [libraries]);\n  return {\n    isLoaded: isLoaded,\n    loadError: loadError\n  };\n}\n\nvar eventMap$1 = {};\nvar updaterMap$1 = {\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  }\n};\nvar TrafficLayer = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(TrafficLayer, _PureComponent);\n\n  function TrafficLayer() {\n    var _this;\n\n    _this = _PureComponent.apply(this, arguments) || this;\n    _this.state = {\n      trafficLayer: null\n    };\n\n    _this.setTrafficLayerCallback = function () {\n      if (_this.state.trafficLayer !== null) {\n        if (_this.props.onLoad) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          _this.props.onLoad(_this.state.trafficLayer);\n        }\n      }\n    };\n\n    _this.registeredEvents = [];\n    return _this;\n  }\n\n  var _proto = TrafficLayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var trafficLayer = new google.maps.TrafficLayer(_extends({}, this.props.options || {}, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$1,\n      eventMap: eventMap$1,\n      prevProps: {},\n      nextProps: this.props,\n      instance: trafficLayer\n    });\n    this.setState(function setTrafficLayer() {\n      return {\n        trafficLayer: trafficLayer\n      };\n    }, this.setTrafficLayerCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.trafficLayer !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$1,\n        eventMap: eventMap$1,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.trafficLayer\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.trafficLayer !== null) {\n      if (this.props.onUnmount) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.props.onUnmount(this.state.trafficLayer);\n      }\n\n      unregisterEvents(this.registeredEvents); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n      this.state.trafficLayer.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return TrafficLayer;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nTrafficLayer.contextType = MapContext;\n\nvar BicyclingLayer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(BicyclingLayer, _React$PureComponent);\n\n  function BicyclingLayer() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.state = {\n      bicyclingLayer: null\n    };\n\n    _this.setBicyclingLayerCallback = function () {\n      if (_this.state.bicyclingLayer !== null) {\n        // TODO: how is this possibly null if we're doing a null check\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        _this.state.bicyclingLayer.setMap(_this.context);\n\n        if (_this.props.onLoad) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          _this.props.onLoad(_this.state.bicyclingLayer);\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = BicyclingLayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var bicyclingLayer = new google.maps.BicyclingLayer();\n    this.setState(function setBicyclingLayer() {\n      return {\n        bicyclingLayer: bicyclingLayer\n      };\n    }, this.setBicyclingLayerCallback);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.bicyclingLayer !== null) {\n      if (this.props.onUnmount) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.props.onUnmount(this.state.bicyclingLayer);\n      } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n\n      this.state.bicyclingLayer.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return BicyclingLayer;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nBicyclingLayer.contextType = MapContext;\n\nvar TransitLayer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TransitLayer, _React$PureComponent);\n\n  function TransitLayer() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.state = {\n      transitLayer: null\n    };\n\n    _this.setTransitLayerCallback = function () {\n      if (_this.state.transitLayer !== null) {\n        // TODO: how is this possibly null if we're doing a null check\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        _this.state.transitLayer.setMap(_this.context);\n\n        if (_this.props.onLoad) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          _this.props.onLoad(_this.state.transitLayer);\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = TransitLayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var transitLayer = new google.maps.TransitLayer();\n    this.setState(function setTransitLayer() {\n      return {\n        transitLayer: transitLayer\n      };\n    }, this.setTransitLayerCallback);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.transitLayer !== null) {\n      if (this.props.onUnmount) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.props.onUnmount(this.state.transitLayer);\n      } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n\n      this.state.transitLayer.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return TransitLayer;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nTransitLayer.contextType = MapContext;\n\nvar eventMap$2 = {\n  onCircleComplete: 'circlecomplete',\n  onMarkerComplete: 'markercomplete',\n  onOverlayComplete: 'overlaycomplete',\n  onPolygonComplete: 'polygoncomplete',\n  onPolylineComplete: 'polylinecomplete',\n  onRectangleComplete: 'rectanglecomplete'\n};\nvar updaterMap$2 = {\n  drawingMode: function drawingMode(instance, _drawingMode) {\n    instance.setDrawingMode(_drawingMode);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  }\n};\nvar DrawingManager = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(DrawingManager, _React$PureComponent);\n\n  function DrawingManager(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      drawingManager: null\n    };\n\n    _this.setDrawingManagerCallback = function () {\n      if (_this.state.drawingManager !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.drawingManager);\n      }\n    };\n\n    !!!google.maps.drawing ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, \"Did you include prop libraries={['drawing']} in the URL? %s\", google.maps.drawing) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n    return _this;\n  }\n\n  var _proto = DrawingManager.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var drawingManager = new google.maps.drawing.DrawingManager(_extends({}, this.props.options || {}, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$2,\n      eventMap: eventMap$2,\n      prevProps: {},\n      nextProps: this.props,\n      instance: drawingManager\n    });\n    this.setState(function setDrawingManager() {\n      return {\n        drawingManager: drawingManager\n      };\n    }, this.setDrawingManagerCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.drawingManager !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$2,\n        eventMap: eventMap$2,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.drawingManager\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.drawingManager !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.drawingManager);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.drawingManager.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return DrawingManager;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nDrawingManager.contextType = MapContext;\n\nvar eventMap$3 = {\n  onAnimationChanged: 'animation_changed',\n  onClick: 'click',\n  onClickableChanged: 'clickable_changed',\n  onCursorChanged: 'cursor_changed',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDraggableChanged: 'draggable_changed',\n  onDragStart: 'dragstart',\n  onFlatChanged: 'flat_changed',\n  onIconChanged: 'icon_changed',\n  onMouseDown: 'mousedown',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onPositionChanged: 'position_changed',\n  onRightClick: 'rightclick',\n  onShapeChanged: 'shape_changed',\n  onTitleChanged: 'title_changed',\n  onVisibleChanged: 'visible_changed',\n  onZindexChanged: 'zindex_changed'\n};\nvar updaterMap$3 = {\n  animation: function animation(instance, _animation) {\n    instance.setAnimation(_animation);\n  },\n  clickable: function clickable(instance, _clickable) {\n    instance.setClickable(_clickable);\n  },\n  cursor: function cursor(instance, _cursor) {\n    instance.setCursor(_cursor);\n  },\n  draggable: function draggable(instance, _draggable) {\n    instance.setDraggable(_draggable);\n  },\n  icon: function icon(instance, _icon) {\n    instance.setIcon(_icon);\n  },\n  label: function label(instance, _label) {\n    instance.setLabel(_label);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  opacity: function opacity(instance, _opacity) {\n    instance.setOpacity(_opacity);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  position: function position(instance, _position) {\n    instance.setPosition(_position);\n  },\n  shape: function shape(instance, _shape) {\n    instance.setShape(_shape);\n  },\n  title: function title(instance, _title) {\n    instance.setTitle(_title);\n  },\n  visible: function visible(instance, _visible) {\n    instance.setVisible(_visible);\n  },\n  zIndex: function zIndex(instance, _zIndex) {\n    instance.setZIndex(_zIndex);\n  }\n};\nvar Marker = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Marker, _React$PureComponent);\n\n  function Marker() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    return _this;\n  }\n\n  var _proto = Marker.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var markerOptions = _extends({}, this.props.options || {}, this.props.clusterer ? {} : {\n      map: this.context\n    }, {\n      position: this.props.position\n    }); // Unfortunately we can't just do this in the contstructor, because the\n    // `MapContext` might not be filled in yet.\n\n\n    this.marker = new google.maps.Marker(markerOptions);\n\n    if (this.props.clusterer) {\n      this.props.clusterer.addMarker(this.marker, !!this.props.noClustererRedraw);\n    } else {\n      this.marker.setMap(this.context);\n    }\n\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$3,\n      eventMap: eventMap$3,\n      prevProps: {},\n      nextProps: this.props,\n      instance: this.marker\n    });\n\n    if (this.props.onLoad) {\n      this.props.onLoad(this.marker);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.marker) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$3,\n        eventMap: eventMap$3,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.marker\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.marker) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.marker);\n      }\n\n      unregisterEvents(this.registeredEvents);\n\n      if (this.props.clusterer) {\n        this.props.clusterer.removeMarker(this.marker, !!this.props.noClustererRedraw);\n      } else {\n        this.marker && this.marker.setMap(null);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var children = null;\n\n    if (this.props.children) {\n      children = __WEBPACK_IMPORTED_MODULE_0_react__[\"Children\"].map(this.props.children, function (child) {\n        if (!Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"isValidElement\"])(child)) {\n          return child;\n        }\n\n        var elementChild = child;\n        return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"cloneElement\"])(elementChild, {\n          anchor: _this2.marker\n        });\n      });\n    }\n\n    return children || null;\n  };\n\n  return Marker;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nMarker.contextType = MapContext;\n\nvar eventMap$4 = {\n  onClick: 'click',\n  onClusteringBegin: 'clusteringbegin',\n  onClusteringEnd: 'clusteringend',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover'\n};\nvar updaterMap$4 = {\n  averageCenter: function averageCenter(instance, _averageCenter) {\n    instance.setAverageCenter(_averageCenter);\n  },\n  batchSizeIE: function batchSizeIE(instance, _batchSizeIE) {\n    instance.setBatchSizeIE(_batchSizeIE);\n  },\n  calculator: function calculator(instance, _calculator) {\n    instance.setCalculator(_calculator);\n  },\n  clusterClass: function clusterClass(instance, _clusterClass) {\n    instance.setClusterClass(_clusterClass);\n  },\n  enableRetinaIcons: function enableRetinaIcons(instance, _enableRetinaIcons) {\n    instance.setEnableRetinaIcons(_enableRetinaIcons);\n  },\n  gridSize: function gridSize(instance, _gridSize) {\n    instance.setGridSize(_gridSize);\n  },\n  ignoreHidden: function ignoreHidden(instance, _ignoreHidden) {\n    instance.setIgnoreHidden(_ignoreHidden);\n  },\n  imageExtension: function imageExtension(instance, _imageExtension) {\n    instance.setImageExtension(_imageExtension);\n  },\n  imagePath: function imagePath(instance, _imagePath) {\n    instance.setImagePath(_imagePath);\n  },\n  imageSizes: function imageSizes(instance, _imageSizes) {\n    instance.setImageSizes(_imageSizes);\n  },\n  maxZoom: function maxZoom(instance, _maxZoom) {\n    instance.setMaxZoom(_maxZoom);\n  },\n  minimumClusterSize: function minimumClusterSize(instance, _minimumClusterSize) {\n    instance.setMinimumClusterSize(_minimumClusterSize);\n  },\n  styles: function styles(instance, _styles) {\n    instance.setStyles(_styles);\n  },\n  title: function title(instance, _title) {\n    instance.setTitle(_title);\n  },\n  zoomOnClick: function zoomOnClick(instance, _zoomOnClick) {\n    instance.setZoomOnClick(_zoomOnClick);\n  }\n};\nvar ClustererComponent = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ClustererComponent, _React$PureComponent);\n\n  function ClustererComponent() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      markerClusterer: null\n    };\n\n    _this.setClustererCallback = function () {\n      if (_this.state.markerClusterer !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.markerClusterer);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = ClustererComponent.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.context) {\n      var markerClusterer = new __WEBPACK_IMPORTED_MODULE_3__react_google_maps_marker_clusterer__[\"a\" /* Clusterer */](this.context, [], this.props.options);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$4,\n        eventMap: eventMap$4,\n        prevProps: {},\n        nextProps: this.props,\n        instance: markerClusterer\n      });\n      this.setState(function setClusterer() {\n        return {\n          markerClusterer: markerClusterer\n        };\n      }, this.setClustererCallback);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.markerClusterer) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$4,\n        eventMap: eventMap$4,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.markerClusterer\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.markerClusterer !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.markerClusterer);\n      }\n\n      unregisterEvents(this.registeredEvents); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n      this.state.markerClusterer.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return this.state.markerClusterer !== null ? this.props.children(this.state.markerClusterer) : null;\n  };\n\n  return ClustererComponent;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nClustererComponent.contextType = MapContext;\n\nvar eventMap$5 = {\n  onCloseClick: 'closeclick',\n  onContentChanged: 'content_changed',\n  onDomReady: 'domready',\n  onPositionChanged: 'position_changed',\n  onZindexChanged: 'zindex_changed'\n};\nvar updaterMap$5 = {\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  position: function position(instance, _position) {\n    if (_position instanceof google.maps.LatLng) {\n      instance.setPosition(_position);\n    } else {\n      instance.setPosition(new google.maps.LatLng(_position.lat, _position.lng));\n    }\n  },\n  visible: function visible(instance, _visible) {\n    instance.setVisible(_visible);\n  },\n  zIndex: function zIndex(instance, _zIndex) {\n    instance.setZIndex(_zIndex);\n  }\n};\nvar InfoBoxComponent = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(InfoBoxComponent, _React$PureComponent);\n\n  function InfoBoxComponent() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.containerElement = null;\n    _this.state = {\n      infoBox: null\n    };\n\n    _this.open = function (infoBox, anchor) {\n      if (anchor) {\n        infoBox.open(_this.context, anchor);\n      } else if (infoBox.getPosition()) {\n        infoBox.open(_this.context);\n      } else {\n         process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'You must provide either an anchor or a position prop for <InfoBox>.') : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) ;\n      }\n    };\n\n    _this.setInfoBoxCallback = function () {\n      var _this$props = _this.props,\n          anchor = _this$props.anchor,\n          onLoad = _this$props.onLoad;\n      var infoBox = _this.state.infoBox;\n\n      if (infoBox !== null && _this.containerElement !== null) {\n        infoBox.setContent(_this.containerElement);\n\n        _this.open(infoBox, anchor);\n\n        if (onLoad) {\n          onLoad(infoBox);\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = InfoBoxComponent.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var options = this.props.options;\n\n    var _ref = options || {},\n        position = _ref.position,\n        infoBoxOptions = _objectWithoutPropertiesLoose(_ref, [\"position\"]);\n\n    var positionLatLng;\n\n    if (position && !(position instanceof google.maps.LatLng)) {\n      positionLatLng = new google.maps.LatLng(position.lat, position.lng);\n    }\n\n    var infoBox = new __WEBPACK_IMPORTED_MODULE_5__react_google_maps_infobox__[\"a\" /* InfoBox */](_extends({}, infoBoxOptions, positionLatLng ? {\n      position: positionLatLng\n    } : {}));\n    this.containerElement = document.createElement('div');\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$5,\n      eventMap: eventMap$5,\n      prevProps: {},\n      nextProps: this.props,\n      instance: infoBox\n    });\n    this.setState({\n      infoBox: infoBox\n    }, this.setInfoBoxCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var infoBox = this.state.infoBox;\n\n    if (infoBox !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$5,\n        eventMap: eventMap$5,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: infoBox\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var onUnmount = this.props.onUnmount;\n    var infoBox = this.state.infoBox;\n\n    if (infoBox !== null) {\n      if (onUnmount) {\n        onUnmount(infoBox);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      infoBox.close();\n    }\n  };\n\n  _proto.render = function render() {\n    if (!this.containerElement) {\n      return null;\n    }\n\n    return Object(__WEBPACK_IMPORTED_MODULE_4_react_dom__[\"createPortal\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Children\"].only(this.props.children), this.containerElement);\n  };\n\n  return InfoBoxComponent;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nInfoBoxComponent.contextType = MapContext;\n\nvar eventMap$6 = {\n  onCloseClick: 'closeclick',\n  onContentChanged: 'content_changed',\n  onDomReady: 'domready',\n  onPositionChanged: 'position_changed',\n  onZindexChanged: 'zindex_changed'\n};\nvar updaterMap$6 = {\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  position: function position(instance, _position) {\n    instance.setPosition(_position);\n  },\n  zIndex: function zIndex(instance, _zIndex) {\n    instance.setZIndex(_zIndex);\n  }\n};\nvar InfoWindow = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(InfoWindow, _React$PureComponent);\n\n  function InfoWindow() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.containerElement = null;\n    _this.state = {\n      infoWindow: null\n    };\n\n    _this.open = function (infoWindow, anchor) {\n      if (anchor) {\n        infoWindow.open(_this.context, anchor);\n      } else if (infoWindow.getPosition()) {\n        infoWindow.open(_this.context);\n      } else {\n         process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, \"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.\") : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) ;\n      }\n    };\n\n    _this.setInfoWindowCallback = function () {\n      if (_this.state.infoWindow !== null && _this.containerElement !== null) {\n        _this.state.infoWindow.setContent(_this.containerElement);\n\n        _this.open(_this.state.infoWindow, _this.props.anchor);\n\n        if (_this.props.onLoad) {\n          _this.props.onLoad(_this.state.infoWindow);\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = InfoWindow.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var infoWindow = new google.maps.InfoWindow(_extends({}, this.props.options || {}));\n    this.containerElement = document.createElement('div');\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$6,\n      eventMap: eventMap$6,\n      prevProps: {},\n      nextProps: this.props,\n      instance: infoWindow\n    });\n    this.setState(function setInfoWindow() {\n      return {\n        infoWindow: infoWindow\n      };\n    }, this.setInfoWindowCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.infoWindow !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$6,\n        eventMap: eventMap$6,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.infoWindow\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.infoWindow !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.state.infoWindow.close();\n    }\n  };\n\n  _proto.render = function render() {\n    return this.containerElement ? Object(__WEBPACK_IMPORTED_MODULE_4_react_dom__[\"createPortal\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Children\"].only(this.props.children), this.containerElement) : Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return InfoWindow;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nInfoWindow.contextType = MapContext;\n\nvar eventMap$7 = {\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRightClick: 'rightclick'\n};\nvar updaterMap$7 = {\n  draggable: function draggable(instance, _draggable) {\n    instance.setDraggable(_draggable);\n  },\n  editable: function editable(instance, _editable) {\n    instance.setEditable(_editable);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  path: function path(instance, _path) {\n    instance.setPath(_path);\n  },\n  visible: function visible(instance, _visible) {\n    instance.setVisible(_visible);\n  }\n};\nvar Polyline = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Polyline, _React$PureComponent);\n\n  function Polyline() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      polyline: null\n    };\n\n    _this.setPolylineCallback = function () {\n      if (_this.state.polyline !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.polyline);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Polyline.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var polyline = new google.maps.Polyline(_extends({}, this.props.options || {}, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$7,\n      eventMap: eventMap$7,\n      prevProps: {},\n      nextProps: this.props,\n      instance: polyline\n    });\n    this.setState(function setPolyline() {\n      return {\n        polyline: polyline\n      };\n    }, this.setPolylineCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.polyline !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$7,\n        eventMap: eventMap$7,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.polyline\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.polyline !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.polyline);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.polyline.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return Polyline;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nPolyline.contextType = MapContext;\n\nvar eventMap$8 = {\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRightClick: 'rightclick'\n};\nvar updaterMap$8 = {\n  draggable: function draggable(instance, _draggable) {\n    instance.setDraggable(_draggable);\n  },\n  editable: function editable(instance, _editable) {\n    instance.setEditable(_editable);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  path: function path(instance, _path) {\n    instance.setPath(_path);\n  },\n  paths: function paths(instance, _paths) {\n    instance.setPaths(_paths);\n  },\n  visible: function visible(instance, _visible) {\n    instance.setVisible(_visible);\n  }\n};\nvar Polygon = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Polygon, _React$PureComponent);\n\n  function Polygon() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      polygon: null\n    };\n\n    _this.setPolygonCallback = function () {\n      if (_this.state.polygon !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.polygon);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Polygon.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var polygon = new google.maps.Polygon(_extends({}, this.props.options || {}, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$8,\n      eventMap: eventMap$8,\n      prevProps: {},\n      nextProps: this.props,\n      instance: polygon\n    });\n    this.setState(function setPolygon() {\n      return {\n        polygon: polygon\n      };\n    }, this.setPolygonCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.polygon !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$8,\n        eventMap: eventMap$8,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.polygon\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.polygon !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.polygon);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.polygon && this.state.polygon.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Polygon;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nPolygon.contextType = MapContext;\n\nvar eventMap$9 = {\n  onBoundsChanged: 'bounds_changed',\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRightClick: 'rightclick'\n};\nvar updaterMap$9 = {\n  bounds: function bounds(instance, _bounds) {\n    instance.setBounds(_bounds);\n  },\n  draggable: function draggable(instance, _draggable) {\n    instance.setDraggable(_draggable);\n  },\n  editable: function editable(instance, _editable) {\n    instance.setEditable(_editable);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  visible: function visible(instance, _visible) {\n    instance.setVisible(_visible);\n  }\n};\nvar Rectangle = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Rectangle, _React$PureComponent);\n\n  function Rectangle() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      rectangle: null\n    };\n\n    _this.setRectangleCallback = function () {\n      if (_this.state.rectangle !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.rectangle);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Rectangle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var rectangle = new google.maps.Rectangle(_extends({}, this.props.options || {}, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$9,\n      eventMap: eventMap$9,\n      prevProps: {},\n      nextProps: this.props,\n      instance: rectangle\n    });\n    this.setState(function setRectangle() {\n      return {\n        rectangle: rectangle\n      };\n    }, this.setRectangleCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.rectangle !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$9,\n        eventMap: eventMap$9,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.rectangle\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.rectangle !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.rectangle);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.rectangle.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return Rectangle;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nRectangle.contextType = MapContext;\n\nvar eventMap$a = {\n  onCenterChanged: 'center_changed',\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragStart: 'dragstart',\n  onMouseDown: 'mousedown',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRadiusChanged: 'radius_changed',\n  onRightClick: 'rightclick'\n};\nvar updaterMap$a = {\n  center: function center(instance, _center) {\n    instance.setCenter(_center);\n  },\n  draggable: function draggable(instance, _draggable) {\n    instance.setDraggable(_draggable);\n  },\n  editable: function editable(instance, _editable) {\n    instance.setEditable(_editable);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  radius: function radius(instance, _radius) {\n    instance.setRadius(_radius);\n  },\n  visible: function visible(instance, _visible) {\n    instance.setVisible(_visible);\n  }\n};\nvar Circle = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Circle, _React$PureComponent);\n\n  function Circle() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      circle: null\n    };\n\n    _this.setCircleCallback = function () {\n      if (_this.state.circle !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.circle);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Circle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var circle = new google.maps.Circle(_extends({}, this.props.options || {}, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$a,\n      eventMap: eventMap$a,\n      prevProps: {},\n      nextProps: this.props,\n      instance: circle\n    });\n    this.setState(function setCircle() {\n      return {\n        circle: circle\n      };\n    }, this.setCircleCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.circle !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$a,\n        eventMap: eventMap$a,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.circle\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.circle !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.circle);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.circle && this.state.circle.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return Circle;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nCircle.contextType = MapContext;\n\nvar eventMap$b = {\n  onAddFeature: 'addfeature',\n  onClick: 'click',\n  onDblClick: 'dblclick',\n  onMouseDown: 'mousedown',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onRemoveFeature: 'removefeature',\n  onRemoveProperty: 'removeproperty',\n  onRightClick: 'rightclick',\n  onSetGeometry: 'setgeometry',\n  onSetProperty: 'setproperty'\n};\nvar updaterMap$b = {\n  add: function add(instance, features) {\n    instance.add(features);\n  },\n  addgeojson: function addgeojson(instance, geojson, options) {\n    instance.addGeoJson(geojson, options);\n  },\n  contains: function contains(instance, feature) {\n    instance.contains(feature);\n  },\n  foreach: function foreach(instance, callback) {\n    instance.forEach(callback);\n  },\n  loadgeojson: function loadgeojson(instance, url, options, callback) {\n    instance.loadGeoJson(url, options, callback);\n  },\n  overridestyle: function overridestyle(instance, feature, style) {\n    instance.overrideStyle(feature, style);\n  },\n  remove: function remove(instance, feature) {\n    instance.remove(feature);\n  },\n  revertstyle: function revertstyle(instance, feature) {\n    instance.revertStyle(feature);\n  },\n  controlposition: function controlposition(instance, controlPosition) {\n    instance.setControlPosition(controlPosition);\n  },\n  controls: function controls(instance, _controls) {\n    instance.setControls(_controls);\n  },\n  drawingmode: function drawingmode(instance, mode) {\n    instance.setDrawingMode(mode);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  style: function style(instance, _style) {\n    instance.setStyle(_style);\n  },\n  togeojson: function togeojson(instance, callback) {\n    instance.toGeoJson(callback);\n  }\n};\nvar Data = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Data, _React$PureComponent);\n\n  function Data() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      data: null\n    };\n\n    _this.setDataCallback = function () {\n      if (_this.state.data !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.data);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Data.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var data = new google.maps.Data(_extends({}, this.props.options || {}, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$b,\n      eventMap: eventMap$b,\n      prevProps: {},\n      nextProps: this.props,\n      instance: data\n    });\n    this.setState(function setData() {\n      return {\n        data: data\n      };\n    }, this.setDataCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.data !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$b,\n        eventMap: eventMap$b,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.data\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.data !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.data);\n      }\n\n      unregisterEvents(this.registeredEvents);\n\n      if (this.state.data) {\n        this.state.data.setMap(null);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Data;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nData.contextType = MapContext;\n\nvar eventMap$c = {\n  onClick: 'click',\n  onDefaultViewportChanged: 'defaultviewport_changed',\n  onStatusChanged: 'status_changed'\n};\nvar updaterMap$c = {\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  url: function url(instance, _url) {\n    instance.setUrl(_url);\n  },\n  zIndex: function zIndex(instance, _zIndex) {\n    instance.setZIndex(_zIndex);\n  }\n};\nvar KmlLayer = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(KmlLayer, _PureComponent);\n\n  function KmlLayer() {\n    var _this;\n\n    _this = _PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      kmlLayer: null\n    };\n\n    _this.setKmlLayerCallback = function () {\n      if (_this.state.kmlLayer !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.kmlLayer);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = KmlLayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var kmlLayer = new google.maps.KmlLayer(_extends({}, this.props.options, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$c,\n      eventMap: eventMap$c,\n      prevProps: {},\n      nextProps: this.props,\n      instance: kmlLayer\n    });\n    this.setState(function setLmlLayer() {\n      return {\n        kmlLayer: kmlLayer\n      };\n    }, this.setKmlLayerCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.kmlLayer !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$c,\n        eventMap: eventMap$c,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.kmlLayer\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.kmlLayer !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.kmlLayer);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.kmlLayer.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return KmlLayer;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nKmlLayer.contextType = MapContext;\n\n/* eslint-disable filenames/match-regex */\nfunction getOffsetOverride(containerElement, getPixelPositionOffset) {\n  return typeof getPixelPositionOffset === 'function' ? getPixelPositionOffset(containerElement.offsetWidth, containerElement.offsetHeight) : {};\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nvar createLatLng = function createLatLng(inst, Type) {\n  return new Type(inst.lat, inst.lng);\n}; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nvar createLatLngBounds = function createLatLngBounds(inst, Type) {\n  return new Type(new google.maps.LatLng(inst.ne.lat, inst.ne.lng), new google.maps.LatLng(inst.sw.lat, inst.sw.lng));\n}; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nvar ensureOfType = function ensureOfType(inst, type, factory) {\n  return inst instanceof type ? inst : factory(inst, type);\n};\n\nvar getLayoutStylesByBounds = function getLayoutStylesByBounds(mapCanvasProjection, offset, bounds) {\n  var ne = mapCanvasProjection && mapCanvasProjection.fromLatLngToDivPixel(bounds.getNorthEast());\n  var sw = mapCanvasProjection && mapCanvasProjection.fromLatLngToDivPixel(bounds.getSouthWest());\n\n  if (ne && sw) {\n    return {\n      left: sw.x + offset.x + \"px\",\n      top: ne.y + offset.y + \"px\",\n      width: ne.x - sw.x - offset.x + \"px\",\n      height: sw.y - ne.y - offset.y + \"px\"\n    };\n  }\n\n  return {\n    left: '-9999px',\n    top: '-9999px'\n  };\n};\n\nvar getLayoutStylesByPosition = function getLayoutStylesByPosition(mapCanvasProjection, offset, position) {\n  var point = mapCanvasProjection && mapCanvasProjection.fromLatLngToDivPixel(position);\n\n  if (point) {\n    var x = point.x,\n        y = point.y;\n    return {\n      left: x + offset.x + \"px\",\n      top: y + offset.y + \"px\"\n    };\n  }\n\n  return {\n    left: '-9999px',\n    top: '-9999px'\n  };\n};\n\nvar getLayoutStyles = function getLayoutStyles(mapCanvasProjection, offset, bounds, position) {\n  return bounds !== undefined ? getLayoutStylesByBounds(mapCanvasProjection, offset, ensureOfType(bounds, google.maps.LatLngBounds, createLatLngBounds)) : getLayoutStylesByPosition(mapCanvasProjection, offset, ensureOfType(position, google.maps.LatLng, createLatLng));\n};\nvar arePositionsEqual = function arePositionsEqual(currentPosition, previousPosition) {\n  return currentPosition.left === previousPosition.left && currentPosition.top === previousPosition.top && currentPosition.width === previousPosition.height && currentPosition.height === previousPosition.height;\n};\n\nfunction convertToLatLngString(latLngLike) {\n  if (!latLngLike) {\n    return '';\n  }\n\n  var latLng = latLngLike instanceof google.maps.LatLng ? latLngLike : new google.maps.LatLng(latLngLike.lat, latLngLike.lng);\n  return latLng + '';\n}\n\nfunction convertToLatLngBoundsString(latLngBoundsLike) {\n  if (!latLngBoundsLike) {\n    return '';\n  }\n\n  var latLngBounds = latLngBoundsLike instanceof google.maps.LatLngBounds ? latLngBoundsLike : new google.maps.LatLngBounds(new google.maps.LatLng(latLngBoundsLike.south, latLngBoundsLike.east), new google.maps.LatLng(latLngBoundsLike.north, latLngBoundsLike.west));\n  return latLngBounds + '';\n}\n\nvar OverlayView = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(OverlayView, _React$PureComponent);\n\n  function OverlayView(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.state = {\n      paneEl: null,\n      containerStyle: {\n        // set initial position\n        position: 'absolute'\n      }\n    };\n\n    _this.updatePane = function () {\n      var mapPaneName = _this.props.mapPaneName; // https://developers.google.com/maps/documentation/javascript/3.exp/reference#MapPanes\n\n      var mapPanes = _this.overlayView.getPanes();\n\n      !!!mapPaneName ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, \"OverlayView requires props.mapPaneName but got %s\", mapPaneName) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n\n      if (mapPanes) {\n        _this.setState({\n          paneEl: mapPanes[mapPaneName]\n        });\n      } else {\n        _this.setState({\n          paneEl: null\n        });\n      }\n    };\n\n    _this.onAdd = function () {\n      _this.updatePane();\n\n      _this.props.onLoad == null ? void 0 : _this.props.onLoad(_this.overlayView);\n    };\n\n    _this.onPositionElement = function () {\n      var mapCanvasProjection = _this.overlayView.getProjection();\n\n      var offset = _extends({\n        x: 0,\n        y: 0\n      }, _this.containerRef.current ? getOffsetOverride(_this.containerRef.current, _this.props.getPixelPositionOffset) : {});\n\n      var layoutStyles = getLayoutStyles(mapCanvasProjection, offset, _this.props.bounds, _this.props.position);\n      var _this$state$container = _this.state.containerStyle,\n          left = _this$state$container.left,\n          top = _this$state$container.top,\n          width = _this$state$container.width,\n          height = _this$state$container.height;\n\n      if (!arePositionsEqual(layoutStyles, {\n        left: left,\n        top: top,\n        width: width,\n        height: height\n      })) {\n        _this.setState({\n          containerStyle: _extends({}, layoutStyles, {\n            position: 'absolute'\n          })\n        });\n      }\n    };\n\n    _this.draw = function () {\n      _this.onPositionElement();\n    };\n\n    _this.onRemove = function () {\n      _this.setState(function () {\n        return {\n          paneEl: null\n        };\n      }); // this.mapPaneEl = null\n\n\n      _this.props.onUnmount == null ? void 0 : _this.props.onUnmount(_this.overlayView);\n    };\n\n    _this.containerRef = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createRef\"])(); // You must implement three methods: onAdd(), draw(), and onRemove().\n\n    var overlayView = new google.maps.OverlayView();\n    overlayView.onAdd = _this.onAdd;\n    overlayView.draw = _this.draw;\n    overlayView.onRemove = _this.onRemove;\n    _this.overlayView = overlayView;\n    return _this;\n  }\n\n  var _proto = OverlayView.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    // You must call setMap() with a valid Map object to trigger the call to\n    // the onAdd() method and setMap(null) in order to trigger the onRemove() method.\n    this.overlayView.setMap(this.context);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var prevPositionString = convertToLatLngString(prevProps.position);\n    var positionString = convertToLatLngString(this.props.position);\n    var prevBoundsString = convertToLatLngBoundsString(prevProps.bounds);\n    var boundsString = convertToLatLngBoundsString(this.props.bounds);\n\n    if (prevPositionString !== positionString || prevBoundsString !== boundsString) {\n      this.overlayView.draw();\n    }\n\n    if (prevProps.mapPaneName !== this.props.mapPaneName) {\n      this.updatePane();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.overlayView.setMap(null);\n  };\n\n  _proto.render = function render() {\n    var paneEl = this.state.paneEl;\n\n    if (paneEl) {\n      return Object(__WEBPACK_IMPORTED_MODULE_4_react_dom__[\"createPortal\"])(Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"div\", {\n        ref: this.containerRef,\n        style: this.state.containerStyle\n      }, __WEBPACK_IMPORTED_MODULE_0_react__[\"Children\"].only(this.props.children)), paneEl);\n    } else {\n      return null;\n    }\n  };\n\n  return OverlayView;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nOverlayView.FLOAT_PANE = \"floatPane\";\nOverlayView.MAP_PANE = \"mapPane\";\nOverlayView.MARKER_LAYER = \"markerLayer\";\nOverlayView.OVERLAY_LAYER = \"overlayLayer\";\nOverlayView.OVERLAY_MOUSE_TARGET = \"overlayMouseTarget\";\nOverlayView.contextType = MapContext;\n\nfunction noop() {}\n\nvar eventMap$d = {\n  onDblClick: 'dblclick',\n  onClick: 'click'\n};\nvar updaterMap$d = {\n  opacity: function opacity(instance, _opacity) {\n    instance.setOpacity(_opacity);\n  }\n};\nvar GroundOverlay = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(GroundOverlay, _React$PureComponent);\n\n  function GroundOverlay() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      groundOverlay: null\n    };\n\n    _this.setGroundOverlayCallback = function () {\n      if (_this.state.groundOverlay !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.groundOverlay);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = GroundOverlay.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !(!!this.props.url || !!this.props.bounds) ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, \"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655\") : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n    var groundOverlay = new google.maps.GroundOverlay(this.props.url, this.props.bounds, _extends({}, this.props.options, {\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$d,\n      eventMap: eventMap$d,\n      prevProps: {},\n      nextProps: this.props,\n      instance: groundOverlay\n    });\n    this.setState(function setGroundOverlay() {\n      return {\n        groundOverlay: groundOverlay\n      };\n    }, this.setGroundOverlayCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.groundOverlay !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$d,\n        eventMap: eventMap$d,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.groundOverlay\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.groundOverlay) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.groundOverlay);\n      }\n\n      this.state.groundOverlay.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return GroundOverlay;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nGroundOverlay.defaultProps = {\n  onLoad: noop\n};\nGroundOverlay.contextType = MapContext;\n\nvar eventMap$e = {};\nvar updaterMap$e = {\n  data: function data(instance, _data) {\n    instance.setData(_data);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  }\n};\nvar HeatmapLayer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(HeatmapLayer, _React$PureComponent);\n\n  function HeatmapLayer() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      heatmapLayer: null\n    };\n\n    _this.setHeatmapLayerCallback = function () {\n      if (_this.state.heatmapLayer !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.heatmapLayer);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = HeatmapLayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !!!google.maps.visualization ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'Did you include prop libraries={[\"visualization\"]} to <LoadScript />? %s', google.maps.visualization) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n    !!!this.props.data ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'data property is required in HeatmapLayer %s', this.props.data) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n    var heatmapLayer = new google.maps.visualization.HeatmapLayer(_extends({}, this.props.options || {}, {\n      data: this.props.data,\n      map: this.context\n    }));\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$e,\n      eventMap: eventMap$e,\n      prevProps: {},\n      nextProps: this.props,\n      instance: heatmapLayer\n    });\n    this.setState(function setHeatmapLayer() {\n      return {\n        heatmapLayer: heatmapLayer\n      };\n    }, this.setHeatmapLayerCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    unregisterEvents(this.registeredEvents);\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$e,\n      eventMap: eventMap$e,\n      prevProps: prevProps,\n      nextProps: this.props,\n      instance: this.state.heatmapLayer\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.heatmapLayer !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.heatmapLayer);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.heatmapLayer.setMap(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return HeatmapLayer;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nHeatmapLayer.contextType = MapContext;\n\nvar eventMap$f = {\n  onCloseClick: 'closeclick',\n  onPanoChanged: 'pano_changed',\n  onPositionChanged: 'position_changed',\n  onPovChanged: 'pov_changed',\n  onResize: 'resize',\n  onStatusChanged: 'status_changed',\n  onVisibleChanged: 'visible_changed',\n  onZoomChanged: 'zoom_changed'\n};\nvar updaterMap$f = {\n  register: function register(instance, provider, options) {\n    instance.registerPanoProvider(provider, options);\n  },\n  links: function links(instance, _links) {\n    instance.setLinks(_links);\n  },\n  motionTracking: function motionTracking(instance, _motionTracking) {\n    instance.setMotionTracking(_motionTracking);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  pano: function pano(instance, _pano) {\n    instance.setPano(_pano);\n  },\n  position: function position(instance, _position) {\n    instance.setPosition(_position);\n  },\n  pov: function pov(instance, _pov) {\n    instance.setPov(_pov);\n  },\n  visible: function visible(instance, _visible) {\n    instance.setVisible(_visible);\n  },\n  zoom: function zoom(instance, _zoom) {\n    instance.setZoom(_zoom);\n  }\n};\nvar StreetViewPanorama = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(StreetViewPanorama, _React$PureComponent);\n\n  function StreetViewPanorama() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      streetViewPanorama: null\n    };\n\n    _this.setStreetViewPanoramaCallback = function () {\n      if (_this.state.streetViewPanorama !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.streetViewPanorama);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = StreetViewPanorama.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var streetViewPanorama = this.context.getStreetView();\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$f,\n      eventMap: eventMap$f,\n      prevProps: {},\n      nextProps: this.props,\n      instance: streetViewPanorama\n    });\n    this.setState(function setStreetViewPanorama() {\n      return {\n        streetViewPanorama: streetViewPanorama\n      };\n    }, this.setStreetViewPanoramaCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.streetViewPanorama !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$f,\n        eventMap: eventMap$f,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.streetViewPanorama\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.streetViewPanorama !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.streetViewPanorama);\n      }\n\n      unregisterEvents(this.registeredEvents);\n      this.state.streetViewPanorama.setVisible(false);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return StreetViewPanorama;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nStreetViewPanorama.contextType = MapContext;\n\nvar StreetViewService = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(StreetViewService, _React$PureComponent);\n\n  function StreetViewService() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.state = {\n      streetViewService: null\n    };\n\n    _this.setStreetViewServiceCallback = function () {\n      if (_this.state.streetViewService !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.streetViewService);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = StreetViewService.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var streetViewService = new google.maps.StreetViewService();\n    this.setState(function setStreetViewService() {\n      return {\n        streetViewService: streetViewService\n      };\n    }, this.setStreetViewServiceCallback);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.streetViewService !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.streetViewService);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return StreetViewService;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nStreetViewService.contextType = MapContext;\n\nvar DirectionsService = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(DirectionsService, _React$PureComponent);\n\n  function DirectionsService() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.state = {\n      directionsService: null\n    };\n\n    _this.setDirectionsServiceCallback = function () {\n      if (_this.state.directionsService !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.directionsService);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = DirectionsService.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !!!this.props.options ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'DirectionsService expected options object as parameter, but got %s', this.props.options) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n    var directionsService = new google.maps.DirectionsService();\n    this.setState(function setDirectionsService() {\n      return {\n        directionsService: directionsService\n      };\n    }, this.setDirectionsServiceCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.state.directionsService !== null) {\n      this.state.directionsService.route(this.props.options, this.props.callback);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.directionsService !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.directionsService);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return DirectionsService;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n\nvar eventMap$g = {\n  onDirectionsChanged: 'directions_changed'\n};\nvar updaterMap$g = {\n  directions: function directions(instance, _directions) {\n    instance.setDirections(_directions);\n  },\n  map: function map(instance, _map) {\n    instance.setMap(_map);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  panel: function panel(instance, _panel) {\n    instance.setPanel(_panel);\n  },\n  routeIndex: function routeIndex(instance, _routeIndex) {\n    instance.setRouteIndex(_routeIndex);\n  }\n};\nvar DirectionsRenderer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(DirectionsRenderer, _React$PureComponent);\n\n  function DirectionsRenderer() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.state = {\n      directionsRenderer: null\n    };\n\n    _this.setDirectionsRendererCallback = function () {\n      if (_this.state.directionsRenderer !== null) {\n        _this.state.directionsRenderer.setMap(_this.context);\n\n        if (_this.props.onLoad) {\n          _this.props.onLoad(_this.state.directionsRenderer);\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = DirectionsRenderer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var directionsRenderer = new google.maps.DirectionsRenderer(this.props.options);\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$g,\n      eventMap: eventMap$g,\n      prevProps: {},\n      nextProps: this.props,\n      instance: directionsRenderer\n    });\n    this.setState(function setDirectionsRenderer() {\n      return {\n        directionsRenderer: directionsRenderer\n      };\n    }, this.setDirectionsRendererCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.directionsRenderer !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$g,\n        eventMap: eventMap$g,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.directionsRenderer\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.directionsRenderer !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.directionsRenderer);\n      }\n\n      unregisterEvents(this.registeredEvents);\n\n      if (this.state.directionsRenderer) {\n        this.state.directionsRenderer.setMap(null);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return DirectionsRenderer;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nDirectionsRenderer.contextType = MapContext;\n\nvar DistanceMatrixService = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(DistanceMatrixService, _React$PureComponent);\n\n  function DistanceMatrixService() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.state = {\n      distanceMatrixService: null\n    };\n\n    _this.setDistanceMatrixServiceCallback = function () {\n      if (_this.state.distanceMatrixService !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.distanceMatrixService);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = DistanceMatrixService.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !!!this.props.options ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'DistanceMatrixService expected options object as parameter, but go %s', this.props.options) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n    var distanceMatrixService = new google.maps.DistanceMatrixService();\n    this.setState(function setDistanceMatrixService() {\n      return {\n        distanceMatrixService: distanceMatrixService\n      };\n    }, this.setDistanceMatrixServiceCallback);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.state.distanceMatrixService !== null) {\n      this.state.distanceMatrixService.getDistanceMatrix(this.props.options, this.props.callback);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.distanceMatrixService !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.distanceMatrixService);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"], null);\n  };\n\n  return DistanceMatrixService;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n\nvar eventMap$h = {\n  onPlacesChanged: 'places_changed'\n};\nvar updaterMap$h = {\n  bounds: function bounds(instance, _bounds) {\n    instance.setBounds(_bounds);\n  }\n};\n\nvar StandaloneSearchBox = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(StandaloneSearchBox, _React$PureComponent);\n\n  function StandaloneSearchBox() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.containerElement = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createRef\"])();\n    _this.state = {\n      searchBox: null\n    };\n\n    _this.setSearchBoxCallback = function () {\n      if (_this.state.searchBox !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.searchBox);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = StandaloneSearchBox.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !!!google.maps.places ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'You need to provide libraries={[\"places\"]} prop to <LoadScript /> component %s', google.maps.places) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0;\n\n    if (this.containerElement !== null && this.containerElement.current !== null) {\n      var input = this.containerElement.current.querySelector('input');\n\n      if (input !== null) {\n        var searchBox = new google.maps.places.SearchBox(input, this.props.options);\n        this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n          updaterMap: updaterMap$h,\n          eventMap: eventMap$h,\n          prevProps: {},\n          nextProps: this.props,\n          instance: searchBox\n        });\n        this.setState(function setSearchBox() {\n          return {\n            searchBox: searchBox\n          };\n        }, this.setSearchBoxCallback);\n      }\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.state.searchBox !== null) {\n      unregisterEvents(this.registeredEvents);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$h,\n        eventMap: eventMap$h,\n        prevProps: prevProps,\n        nextProps: this.props,\n        instance: this.state.searchBox\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.searchBox !== null) {\n      if (this.props.onUnmount) {\n        this.props.onUnmount(this.state.searchBox);\n      }\n\n      unregisterEvents(this.registeredEvents);\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"div\", {\n      ref: this.containerElement\n    }, __WEBPACK_IMPORTED_MODULE_0_react__[\"Children\"].only(this.props.children));\n  };\n\n  return StandaloneSearchBox;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n\nStandaloneSearchBox.contextType = MapContext;\n\nvar eventMap$i = {\n  onPlaceChanged: 'place_changed'\n};\nvar updaterMap$i = {\n  bounds: function bounds(instance, _bounds) {\n    instance.setBounds(_bounds);\n  },\n  restrictions: function restrictions(instance, _restrictions) {\n    instance.setComponentRestrictions(_restrictions);\n  },\n  fields: function fields(instance, _fields) {\n    instance.setFields(_fields);\n  },\n  options: function options(instance, _options) {\n    instance.setOptions(_options);\n  },\n  types: function types(instance, _types) {\n    instance.setTypes(_types);\n  }\n};\nvar Autocomplete = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Autocomplete, _React$PureComponent);\n\n  function Autocomplete() {\n    var _this;\n\n    _this = _React$PureComponent.apply(this, arguments) || this;\n    _this.registeredEvents = [];\n    _this.containerElement = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createRef\"])();\n    _this.state = {\n      autocomplete: null\n    };\n\n    _this.setAutocompleteCallback = function () {\n      if (_this.state.autocomplete !== null && _this.props.onLoad) {\n        _this.props.onLoad(_this.state.autocomplete);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Autocomplete.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !!!google.maps.places ? process.env.NODE_ENV !== \"production\" ? __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false, 'You need to provide libraries={[\"places\"]} prop to <LoadScript /> component %s', google.maps.places) : __WEBPACK_IMPORTED_MODULE_1_invariant___default()(false) : void 0; // TODO: why current could be equal null?\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n    var input = this.containerElement.current.querySelector('input');\n\n    if (input) {\n      var autocomplete = new google.maps.places.Autocomplete(input, this.props.options);\n      this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n        updaterMap: updaterMap$i,\n        eventMap: eventMap$i,\n        prevProps: {},\n        nextProps: this.props,\n        instance: autocomplete\n      });\n      this.setState(function setAutocomplete() {\n        return {\n          autocomplete: autocomplete\n        };\n      }, this.setAutocompleteCallback);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    unregisterEvents(this.registeredEvents);\n    this.registeredEvents = applyUpdatersToPropsAndRegisterEvents({\n      updaterMap: updaterMap$i,\n      eventMap: eventMap$i,\n      prevProps: prevProps,\n      nextProps: this.props,\n      instance: this.state.autocomplete\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.state.autocomplete !== null) {\n      unregisterEvents(this.registeredEvents);\n    }\n  };\n\n  _proto.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"div\", {\n      ref: this.containerElement,\n      className: this.props.className || ''\n    }, __WEBPACK_IMPORTED_MODULE_0_react__[\"Children\"].only(this.props.children));\n  };\n\n  return Autocomplete;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nAutocomplete.contextType = MapContext;\n\n\n//# sourceMappingURL=reactgooglemapsapi.esm.js.map\n\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(/*! ./../../../process/browser.js */ 0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcmVhY3QtZ29vZ2xlLW1hcHMvYXBpL2Rpc3QvcmVhY3Rnb29nbGVtYXBzYXBpLmVzbS5qcz9jZDgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIGNyZWF0ZUVsZW1lbnQsIEZyYWdtZW50LCBQdXJlQ29tcG9uZW50LCBjcmVhdGVSZWYsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgbWVtbywgdXNlTWVtbywgQ2hpbGRyZW4sIGlzVmFsaWRFbGVtZW50LCBjbG9uZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tICdAZ29vZ2xlbWFwcy9qcy1hcGktbG9hZGVyJztcbmltcG9ydCB7IENsdXN0ZXJlciB9IGZyb20gJ0ByZWFjdC1nb29nbGUtbWFwcy9tYXJrZXItY2x1c3RlcmVyJztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBJbmZvQm94IH0gZnJvbSAnQHJlYWN0LWdvb2dsZS1tYXBzL2luZm9ib3gnO1xuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIE1hcENvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbmZ1bmN0aW9uIHVzZUdvb2dsZU1hcCgpIHtcbiAgISEhdXNlQ29udGV4dCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ3VzZUdvb2dsZU1hcCBpcyBSZWFjdCBob29rIGFuZCByZXF1aXJlcyBSZWFjdCB2ZXJzaW9uIDE2LjgrJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgbWFwID0gdXNlQ29udGV4dChNYXBDb250ZXh0KTtcbiAgISEhbWFwID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAndXNlR29vZ2xlTWFwIG5lZWRzIGEgR29vZ2xlTWFwIGF2YWlsYWJsZSB1cCBpbiB0aGUgdHJlZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgcmV0dXJuIG1hcDtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnZhciByZWR1Y2UgPSBmdW5jdGlvbiByZWR1Y2Uob2JqLCBmbiwgYWNjKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiByZWR1Y2VyKG5ld0FjYywga2V5KSB7XG4gICAgcmV0dXJuIGZuKG5ld0FjYywgb2JqW2tleV0sIGtleSk7XG4gIH0sIGFjYyk7XG59O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiBpdGVyYXRvcihrZXkpIHtcbiAgICByZXR1cm4gZm4ob2JqW2tleV0sIGtleSk7XG4gIH0pO1xufVxuXG4vKiBnbG9iYWwgZ29vZ2xlICovXG52YXIgYXBwbHlVcGRhdGVyVG9OZXh0UHJvcHMgPSBmdW5jdGlvbiBhcHBseVVwZGF0ZXJUb05leHRQcm9wcyggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnVwZGF0ZXJNYXAsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5wcmV2UHJvcHMsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5uZXh0UHJvcHMsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5pbnN0YW5jZSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHZhciBtYXAgPSB7fTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcblxuICB2YXIgaXRlciA9IGZ1bmN0aW9uIGl0ZXIoZm4sIGtleSkge1xuICAgIHZhciBuZXh0VmFsdWUgPSBuZXh0UHJvcHNba2V5XTtcblxuICAgIGlmIChuZXh0VmFsdWUgIT09IHByZXZQcm9wc1trZXldKSB7XG4gICAgICBtYXBba2V5XSA9IG5leHRWYWx1ZTtcbiAgICAgIGZuKGluc3RhbmNlLCBuZXh0VmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBmb3JFYWNoKHVwZGF0ZXJNYXAsIGl0ZXIpO1xuICByZXR1cm4gbWFwO1xufTtcbmZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRzKCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxucHJvcHMsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5pbnN0YW5jZSwgZXZlbnRNYXApIHtcbiAgdmFyIHJlZ2lzdGVyZWRMaXN0ID0gcmVkdWNlKGV2ZW50TWFwLCBmdW5jdGlvbiByZWR1Y2VyKGFjYywgZ29vZ2xlRXZlbnROYW1lLCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBvbkV2ZW50TmFtZSkge1xuICAgIGlmICh0eXBlb2YgcHJvcHNbb25FdmVudE5hbWVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhY2MucHVzaChnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpbnN0YW5jZSwgZ29vZ2xlRXZlbnROYW1lLCBwcm9wc1tvbkV2ZW50TmFtZV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG4gIHJldHVybiByZWdpc3RlcmVkTGlzdDtcbn1cblxuZnVuY3Rpb24gdW5yZWdpc3RlckV2ZW50KHJlZ2lzdGVyZWQpIHtcbiAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIocmVnaXN0ZXJlZCk7XG59XG5cbmZ1bmN0aW9uIHVucmVnaXN0ZXJFdmVudHMoZXZlbnRzKSB7XG4gIGlmIChldmVudHMgPT09IHZvaWQgMCkge1xuICAgIGV2ZW50cyA9IFtdO1xuICB9XG5cbiAgZXZlbnRzLmZvckVhY2godW5yZWdpc3RlckV2ZW50KTtcbn1cbmZ1bmN0aW9uIGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoX3JlZikge1xuICB2YXIgdXBkYXRlck1hcCA9IF9yZWYudXBkYXRlck1hcCxcbiAgICAgIGV2ZW50TWFwID0gX3JlZi5ldmVudE1hcCxcbiAgICAgIHByZXZQcm9wcyA9IF9yZWYucHJldlByb3BzLFxuICAgICAgbmV4dFByb3BzID0gX3JlZi5uZXh0UHJvcHMsXG4gICAgICBpbnN0YW5jZSA9IF9yZWYuaW5zdGFuY2U7XG4gIHZhciByZWdpc3RlcmVkRXZlbnRzID0gcmVnaXN0ZXJFdmVudHMobmV4dFByb3BzLCBpbnN0YW5jZSwgZXZlbnRNYXApO1xuICBhcHBseVVwZGF0ZXJUb05leHRQcm9wcyh1cGRhdGVyTWFwLCBwcmV2UHJvcHMsIG5leHRQcm9wcywgaW5zdGFuY2UpO1xuICByZXR1cm4gcmVnaXN0ZXJlZEV2ZW50cztcbn1cblxudmFyIGV2ZW50TWFwID0ge1xuICBvbkRibENsaWNrOiAnZGJsY2xpY2snLFxuICBvbkRyYWdFbmQ6ICdkcmFnZW5kJyxcbiAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICBvbk1hcFR5cGVJZENoYW5nZWQ6ICdtYXB0eXBlaWRfY2hhbmdlZCcsXG4gIG9uTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIG9uTW91c2VVcDogJ21vdXNldXAnLFxuICBvblJpZ2h0Q2xpY2s6ICdyaWdodGNsaWNrJyxcbiAgb25UaWxlc0xvYWRlZDogJ3RpbGVzbG9hZGVkJyxcbiAgb25Cb3VuZHNDaGFuZ2VkOiAnYm91bmRzX2NoYW5nZWQnLFxuICBvbkNlbnRlckNoYW5nZWQ6ICdjZW50ZXJfY2hhbmdlZCcsXG4gIG9uQ2xpY2s6ICdjbGljaycsXG4gIG9uRHJhZzogJ2RyYWcnLFxuICBvbkhlYWRpbmdDaGFuZ2VkOiAnaGVhZGluZ19jaGFuZ2VkJyxcbiAgb25JZGxlOiAnaWRsZScsXG4gIG9uUHJvamVjdGlvbkNoYW5nZWQ6ICdwcm9qZWN0aW9uX2NoYW5nZWQnLFxuICBvblJlc2l6ZTogJ3Jlc2l6ZScsXG4gIG9uVGlsdENoYW5nZWQ6ICd0aWx0X2NoYW5nZWQnLFxuICBvblpvb21DaGFuZ2VkOiAnem9vbV9jaGFuZ2VkJ1xufTtcbnZhciB1cGRhdGVyTWFwID0ge1xuICBleHRyYU1hcFR5cGVzOiBmdW5jdGlvbiBleHRyYU1hcFR5cGVzKG1hcCwgZXh0cmEpIHtcbiAgICBleHRyYS5mb3JFYWNoKGZ1bmN0aW9uIGZvckVhY2hFeHRyYShpdCwgaSkge1xuICAgICAgbWFwLm1hcFR5cGVzLnNldChTdHJpbmcoaSksIGl0KTtcbiAgICB9KTtcbiAgfSxcbiAgY2VudGVyOiBmdW5jdGlvbiBjZW50ZXIobWFwLCBfY2VudGVyKSB7XG4gICAgbWFwLnNldENlbnRlcihfY2VudGVyKTtcbiAgfSxcbiAgY2xpY2thYmxlSWNvbnM6IGZ1bmN0aW9uIGNsaWNrYWJsZUljb25zKG1hcCwgY2xpY2thYmxlKSB7XG4gICAgbWFwLnNldENsaWNrYWJsZUljb25zKGNsaWNrYWJsZSk7XG4gIH0sXG4gIGhlYWRpbmc6IGZ1bmN0aW9uIGhlYWRpbmcobWFwLCBfaGVhZGluZykge1xuICAgIG1hcC5zZXRIZWFkaW5nKF9oZWFkaW5nKTtcbiAgfSxcbiAgbWFwVHlwZUlkOiBmdW5jdGlvbiBtYXBUeXBlSWQobWFwLCBfbWFwVHlwZUlkKSB7XG4gICAgbWFwLnNldE1hcFR5cGVJZChfbWFwVHlwZUlkKTtcbiAgfSxcbiAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhtYXAsIF9vcHRpb25zKSB7XG4gICAgbWFwLnNldE9wdGlvbnMoX29wdGlvbnMpO1xuICB9LFxuICBzdHJlZXRWaWV3OiBmdW5jdGlvbiBzdHJlZXRWaWV3KG1hcCwgX3N0cmVldFZpZXcpIHtcbiAgICBtYXAuc2V0U3RyZWV0Vmlldyhfc3RyZWV0Vmlldyk7XG4gIH0sXG4gIHRpbHQ6IGZ1bmN0aW9uIHRpbHQobWFwLCBfdGlsdCkge1xuICAgIG1hcC5zZXRUaWx0KF90aWx0KTtcbiAgfSxcbiAgem9vbTogZnVuY3Rpb24gem9vbShtYXAsIF96b29tKSB7XG4gICAgbWFwLnNldFpvb20oX3pvb20pO1xuICB9XG59OyAvLyBmdW5jdGlvbiBHb29nbGVNYXBGdW5jdGlvbmFsKHsgY2hpbGRyZW4sIG9wdGlvbnMsIGlkLCBtYXBDb250YWluZXJTdHlsZSwgY2VudGVyLCBjbGlja2FibGVJY29ucywgZXh0cmFNYXBUeXBlcywgaGVhZGluZywgbWFwQ29udGFpbmVyQ2xhc3NOYW1lLCBtYXBUeXBlSWQsIG9uQm91bmRzQ2hhbmdlZCwgb25DZW50ZXJDaGFuZ2VkLCBvbkNsaWNrLCBvbkRibENsaWNrLCBvbkRyYWcsIG9uRHJhZ0VuZCwgb25EcmFnU3RhcnQsIG9uSGVhZGluZ0NoYW5nZWQsIG9uSWRsZSwgb25Qcm9qZWN0aW9uQ2hhbmdlZCwgb25SZXNpemUsIG9uVGlsdENoYW5nZWQsIG9uTG9hZCB9OiBHb29nbGVNYXBQcm9wcyk6IEpTWC5FbGVtZW50IHtcbi8vICAgY29uc3QgW21hcCwgc2V0TWFwXSA9IFJlYWN0LnVzZVN0YXRlPGdvb2dsZS5tYXBzLk1hcCB8IG51bGw+KG51bGwpXG4vLyAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpXG4vLyAgIGNvbnN0IGdldEluc3RhbmNlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuLy8gICAgIGlmIChyZWYuY3VycmVudCA9PT0gbnVsbCkge1xuLy8gICAgICAgcmV0dXJuIG51bGxcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5NYXAocmVmLmN1cnJlbnQsIG9wdGlvbnMpXG4vLyAgIH0sIFtvcHRpb25zXSlcbi8vICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbi8vICAgfSwgW10pXG4vLyAgIGNvbnN0IHBhblRvID0gUmVhY3QudXNlQ2FsbGJhY2soKGxhdExuZzogZ29vZ2xlLm1hcHMuTGF0TG5nIHwgZ29vZ2xlLm1hcHMuTGF0TG5nTGl0ZXJhbCk6IHZvaWQgPT4ge1xuLy8gICAgIGNvbnN0IG1hcCA9IGdldEluc3RhbmNlKClcbi8vICAgICBpZiAobWFwKSB7XG4vLyAgICAgICBtYXAucGFuVG8obGF0TG5nKVxuLy8gICAgIH1cbi8vICAgfSwgW10pXG4vLyAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4vLyAgICAgY29uc3QgbWFwID0gZ2V0SW5zdGFuY2UoKVxuLy8gICB9LCBbXSlcbi8vICAgcmV0dXJuIChcbi8vICAgICA8ZGl2XG4vLyAgICAgICAgIGlkPXtpZH1cbi8vICAgICAgICAgcmVmPXtyZWZ9XG4vLyAgICAgICAgIHN0eWxlPXttYXBDb250YWluZXJTdHlsZX1cbi8vICAgICAgICAgY2xhc3NOYW1lPXttYXBDb250YWluZXJDbGFzc05hbWV9XG4vLyAgICAgICA+XG4vLyAgICAgICAgIDxNYXBDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXttYXB9PlxuLy8gICAgICAgICAgIHttYXAgIT09IG51bGwgPyBjaGlsZHJlbiA6IDw+PC8+fVxuLy8gICAgICAgICA8L01hcENvbnRleHQuUHJvdmlkZXI+XG4vLyAgICAgICA8L2Rpdj5cbi8vICAgKVxuLy8gfVxuXG52YXIgR29vZ2xlTWFwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShHb29nbGVNYXAsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBHb29nbGVNYXAoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBtYXA6IG51bGxcbiAgICB9O1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5tYXBSZWYgPSBudWxsO1xuXG4gICAgX3RoaXMuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMubWFwUmVmID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLk1hcChfdGhpcy5tYXBSZWYsIF90aGlzLnByb3BzLm9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBfdGhpcy5wYW5UbyA9IGZ1bmN0aW9uIChsYXRMbmcpIHtcbiAgICAgIHZhciBtYXAgPSBfdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICBpZiAobWFwKSB7XG4gICAgICAgIG1hcC5wYW5UbyhsYXRMbmcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRNYXBDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5tYXAgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5tYXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmdldFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLm1hcFJlZiA9IHJlZjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEdvb2dsZU1hcC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAsXG4gICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgaW5zdGFuY2U6IG1hcFxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0TWFwKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWFwOiBtYXBcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRNYXBDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5tYXAgIT09IG51bGwpIHtcbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwLFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAsXG4gICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLm1hcFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1hcCAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUubWFwKTtcbiAgICAgIH1cblxuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgcmVmOiB0aGlzLmdldFJlZixcbiAgICAgIHN0eWxlOiB0aGlzLnByb3BzLm1hcENvbnRhaW5lclN0eWxlLFxuICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLm1hcENvbnRhaW5lckNsYXNzTmFtZVxuICAgIH0sIGNyZWF0ZUVsZW1lbnQoTWFwQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubWFwXG4gICAgfSwgdGhpcy5zdGF0ZS5tYXAgIT09IG51bGwgPyB0aGlzLnByb3BzLmNoaWxkcmVuIDogY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCkpKTtcbiAgfTtcblxuICByZXR1cm4gR29vZ2xlTWFwO1xufShQdXJlQ29tcG9uZW50KTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBydW50aW1lXzEgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkJDE7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkJDEpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkJDEsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkJDE7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQkMTtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgIG1vZHVsZS5leHBvcnRzIFxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxufSk7XG5cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgaW5qZWN0U2NyaXB0ID0gZnVuY3Rpb24gaW5qZWN0U2NyaXB0KF9yZWYpIHtcbiAgdmFyIHVybCA9IF9yZWYudXJsLFxuICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgbm9uY2UgPSBfcmVmLm5vbmNlO1xuXG4gIGlmICghaXNCcm93c2VyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZG9jdW1lbnQgaXMgdW5kZWZpbmVkJykpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGluamVjdFNjcmlwdENhbGxiYWNrKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBleGlzdGluZ1NjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICB2YXIgd2luZG93V2l0aEdvb2dsZU1hcCA9IHdpbmRvdztcblxuICAgIGlmIChleGlzdGluZ1NjcmlwdCkge1xuICAgICAgLy8gU2FtZSBzY3JpcHQgaWQvdXJsOiBrZWVwIHNhbWUgc2NyaXB0XG4gICAgICB2YXIgZGF0YVN0YXRlQXR0cmlidXRlID0gZXhpc3RpbmdTY3JpcHQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJyk7XG5cbiAgICAgIGlmIChleGlzdGluZ1NjcmlwdC5zcmMgPT09IHVybCAmJiBkYXRhU3RhdGVBdHRyaWJ1dGUgIT09ICdlcnJvcicpIHtcbiAgICAgICAgaWYgKGRhdGFTdGF0ZUF0dHJpYnV0ZSA9PT0gJ3JlYWR5Jykge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKGlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb3JpZ2luYWxJbml0TWFwID0gd2luZG93V2l0aEdvb2dsZU1hcC5pbml0TWFwO1xuICAgICAgICAgIHZhciBvcmlnaW5hbEVycm9yQ2FsbGJhY2sgPSBleGlzdGluZ1NjcmlwdC5vbmVycm9yO1xuXG4gICAgICAgICAgd2luZG93V2l0aEdvb2dsZU1hcC5pbml0TWFwID0gZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEluaXRNYXApIHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxJbml0TWFwKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBleGlzdGluZ1NjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsRXJyb3JDYWxsYmFjaykge1xuICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yQ2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSAvLyBTYW1lIHNjcmlwdCBpZCwgYnV0IGVpdGhlclxuICAgICAgLy8gMS4gcmVxdWVzdGVkIFVSTCBpcyBkaWZmZXJlbnRcbiAgICAgIC8vIDIuIHNjcmlwdCBmYWlsZWQgdG8gbG9hZFxuICAgICAgZWxzZSB7XG4gICAgICAgICAgZXhpc3RpbmdTY3JpcHQucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgIHNjcmlwdC5pZCA9IGlkO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgc2NyaXB0Lm5vbmNlID0gbm9uY2U7XG5cbiAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uIG9uZXJyb3IoZXJyKSB7XG4gICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgJ2Vycm9yJyk7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9O1xuXG4gICAgd2luZG93V2l0aEdvb2dsZU1hcC5pbml0TWFwID0gZnVuY3Rpb24gb25sb2FkKCkge1xuICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0ZScsICdyZWFkeScpO1xuICAgICAgcmVzb2x2ZShpZCk7XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignaW5qZWN0U2NyaXB0IGVycm9yOiAnLCBlcnIpO1xuICAgIHRocm93IGVycjtcbiAgfSk7XG59O1xuXG52YXIgaXNSb2JvdG9TdHlsZSA9IGZ1bmN0aW9uIGlzUm9ib3RvU3R5bGUoZWxlbWVudCkge1xuICAvLyByb2JvdG8gZm9udCBkb3dubG9hZFxuICBpZiAoZWxlbWVudC5ocmVmICYmIGVsZW1lbnQuaHJlZi5pbmRleE9mKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvJykgPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyByb2JvdG8gc3R5bGUgZWxlbWVudHNcblxuXG4gIGlmIChlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N0eWxlJyAmJiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgLy8gQHRzLWlnbm9yZVxuICBlbGVtZW50LnN0eWxlU2hlZXQgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gIC8vIEB0cy1pZ25vcmVcbiAgZWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gIC8vIEB0cy1pZ25vcmVcbiAgZWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQucmVwbGFjZSgnXFxyXFxuJywgJycpLmluZGV4T2YoJy5nbS1zdHlsZScpID09PSAwKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gJyc7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gcm9ib3RvIHN0eWxlIGVsZW1lbnRzIGZvciBvdGhlciBicm93c2Vyc1xuXG5cbiAgaWYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3R5bGUnICYmIGVsZW1lbnQuaW5uZXJIVE1MICYmIGVsZW1lbnQuaW5uZXJIVE1MLnJlcGxhY2UoJ1xcclxcbicsICcnKS5pbmRleE9mKCcuZ20tc3R5bGUnKSA9PT0gMCkge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gd2hlbiBnb29nbGUgdHJpZXMgdG8gYWRkIGVtcHR5IHN0eWxlXG5cblxuICBpZiAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdHlsZScgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gIC8vIEB0cy1pZ25vcmVcbiAgIWVsZW1lbnQuc3R5bGVTaGVldCAmJiAhZWxlbWVudC5pbm5lckhUTUwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07IC8vIFByZXZlbnRpbmcgdGhlIEdvb2dsZSBNYXBzIGxpYnJhcnkgZnJvbSBkb3dubG9hZGluZyBhbiBleHRyYSBmb250XG5cblxudmFyIHByZXZlbnRHb29nbGVGb250cyA9IGZ1bmN0aW9uIHByZXZlbnRHb29nbGVGb250cygpIHtcbiAgLy8gd2Ugb3ZlcnJpZGUgdGhlc2UgbWV0aG9kcyBvbmx5IGZvciBvbmUgcGFydGljdWxhciBoZWFkIGVsZW1lbnRcbiAgLy8gZGVmYXVsdCBtZXRob2RzIGZvciBvdGhlciBlbGVtZW50cyBhcmUgbm90IGFmZmVjdGVkXG4gIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgdmFyIHRydWVJbnNlcnRCZWZvcmUgPSBoZWFkLmluc2VydEJlZm9yZS5iaW5kKGhlYWQpOyAvLyBUT0RPOiBhZGRpbmcgcmV0dXJuIGJlZm9yZSByZWZsZWN0IHNvbHZlcyB0aGUgVFMgaXNzdWVcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gIC8vIEB0cy1pZ25vcmVcblxuICBoZWFkLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIGluc2VydEJlZm9yZShuZXdFbGVtZW50LCByZWZlcmVuY2VFbGVtZW50KSB7XG4gICAgaWYgKCFpc1JvYm90b1N0eWxlKG5ld0VsZW1lbnQpKSB7XG4gICAgICBSZWZsZWN0LmFwcGx5KHRydWVJbnNlcnRCZWZvcmUsIGhlYWQsIFtuZXdFbGVtZW50LCByZWZlcmVuY2VFbGVtZW50XSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciB0cnVlQXBwZW5kID0gaGVhZC5hcHBlbmRDaGlsZC5iaW5kKGhlYWQpOyAvLyBUT0RPOiBhZGRpbmcgcmV0dXJuIGJlZm9yZSByZWZsZWN0IHNvbHZlcyB0aGUgVFMgaXNzdWVcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gIC8vIEB0cy1pZ25vcmVcblxuICBoZWFkLmFwcGVuZENoaWxkID0gZnVuY3Rpb24gYXBwZW5kQ2hpbGQodGV4dE5vZGUpIHtcbiAgICBpZiAoIWlzUm9ib3RvU3R5bGUodGV4dE5vZGUpKSB7XG4gICAgICBSZWZsZWN0LmFwcGx5KHRydWVBcHBlbmQsIGhlYWQsIFt0ZXh0Tm9kZV0pO1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIG1ha2VMb2FkU2NyaXB0VXJsKF9yZWYpIHtcbiAgdmFyIGdvb2dsZU1hcHNBcGlLZXkgPSBfcmVmLmdvb2dsZU1hcHNBcGlLZXksXG4gICAgICBnb29nbGVNYXBzQ2xpZW50SWQgPSBfcmVmLmdvb2dsZU1hcHNDbGllbnRJZCxcbiAgICAgIF9yZWYkdmVyc2lvbiA9IF9yZWYudmVyc2lvbixcbiAgICAgIHZlcnNpb24gPSBfcmVmJHZlcnNpb24gPT09IHZvaWQgMCA/ICd3ZWVrbHknIDogX3JlZiR2ZXJzaW9uLFxuICAgICAgbGFuZ3VhZ2UgPSBfcmVmLmxhbmd1YWdlLFxuICAgICAgcmVnaW9uID0gX3JlZi5yZWdpb24sXG4gICAgICBsaWJyYXJpZXMgPSBfcmVmLmxpYnJhcmllcyxcbiAgICAgIGNoYW5uZWwgPSBfcmVmLmNoYW5uZWwsXG4gICAgICBtYXBJZHMgPSBfcmVmLm1hcElkcztcbiAgdmFyIHBhcmFtcyA9IFtdO1xuICAhKGdvb2dsZU1hcHNBcGlLZXkgJiYgZ29vZ2xlTWFwc0NsaWVudElkIHx8ICEoZ29vZ2xlTWFwc0FwaUtleSAmJiBnb29nbGVNYXBzQ2xpZW50SWQpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1lvdSBuZWVkIHRvIHNwZWNpZnkgZWl0aGVyIGdvb2dsZU1hcHNBcGlLZXkgb3IgZ29vZ2xlTWFwc0NsaWVudElkIGZvciBAcmVhY3QtZ29vZ2xlLW1hcHMvYXBpIGxvYWQgc2NyaXB0IHRvIHdvcmsuIFlvdSBjYW5ub3QgdXNlIGJvdGggYXQgdGhlIHNhbWUgdGltZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgaWYgKGdvb2dsZU1hcHNBcGlLZXkpIHtcbiAgICBwYXJhbXMucHVzaChcImtleT1cIiArIGdvb2dsZU1hcHNBcGlLZXkpO1xuICB9IGVsc2UgaWYgKGdvb2dsZU1hcHNDbGllbnRJZCkge1xuICAgIHBhcmFtcy5wdXNoKFwiY2xpZW50PVwiICsgZ29vZ2xlTWFwc0NsaWVudElkKTtcbiAgfVxuXG4gIGlmICh2ZXJzaW9uKSB7XG4gICAgcGFyYW1zLnB1c2goXCJ2PVwiICsgdmVyc2lvbik7XG4gIH1cblxuICBpZiAobGFuZ3VhZ2UpIHtcbiAgICBwYXJhbXMucHVzaChcImxhbmd1YWdlPVwiICsgbGFuZ3VhZ2UpO1xuICB9XG5cbiAgaWYgKHJlZ2lvbikge1xuICAgIHBhcmFtcy5wdXNoKFwicmVnaW9uPVwiICsgcmVnaW9uKTtcbiAgfVxuXG4gIGlmIChsaWJyYXJpZXMgJiYgbGlicmFyaWVzLmxlbmd0aCkge1xuICAgIHBhcmFtcy5wdXNoKFwibGlicmFyaWVzPVwiICsgbGlicmFyaWVzLnNvcnQoKS5qb2luKCcsJykpO1xuICB9XG5cbiAgaWYgKGNoYW5uZWwpIHtcbiAgICBwYXJhbXMucHVzaChcImNoYW5uZWw9XCIgKyBjaGFubmVsKTtcbiAgfVxuXG4gIGlmIChtYXBJZHMgJiYgbWFwSWRzLmxlbmd0aCkge1xuICAgIHBhcmFtcy5wdXNoKFwibWFwX2lkcz1cIiArIG1hcElkcy5qb2luKCcsJykpO1xuICB9XG5cbiAgcGFyYW1zLnB1c2goJ2NhbGxiYWNrPWluaXRNYXAnKTtcbiAgcmV0dXJuIFwiaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP1wiICsgcGFyYW1zLmpvaW4oJyYnKTtcbn1cblxudmFyIGNsZWFuaW5nVXAgPSBmYWxzZTtcbmZ1bmN0aW9uIERlZmF1bHRMb2FkaW5nRWxlbWVudCgpIHtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgXCJMb2FkaW5nLi4uXCIpO1xufVxudmFyIGRlZmF1bHRMb2FkU2NyaXB0UHJvcHMgPSB7XG4gIGlkOiAnc2NyaXB0LWxvYWRlcicsXG4gIHZlcnNpb246ICd3ZWVrbHknXG59O1xuXG52YXIgTG9hZFNjcmlwdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTG9hZFNjcmlwdCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExvYWRTY3JpcHQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuY2hlY2sgPSBjcmVhdGVSZWYoKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xlYW51cENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZGVsZXRlIHdpbmRvdy5nb29nbGUubWFwcztcblxuICAgICAgX3RoaXMuaW5qZWN0U2NyaXB0KCk7XG4gICAgfTtcblxuICAgIF90aGlzLmlzQ2xlYW5pbmdVcCA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICB2YXIgcHJvbWlzZUNhbGxiYWNrO1xuICAgICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBwcm9taXNlQ2FsbGJhY2sgPSBmdW5jdGlvbiBfcHJvbWlzZUNhbGxiYWNrKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNsZWFuaW5nVXApIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gaW50ZXJ2YWwoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbGVhbmluZ1VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBuZXcgUHJvbWlzZShwcm9taXNlQ2FsbGJhY2spKTtcblxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZSk7XG4gICAgfSkpO1xuXG4gICAgX3RoaXMuY2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFuaW5nVXAgPSB0cnVlO1xuICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLnByb3BzLmlkKTtcblxuICAgICAgaWYgKHNjcmlwdCAmJiBzY3JpcHQucGFyZW50Tm9kZSkge1xuICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgfVxuXG4gICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JykpLmZpbHRlcihmdW5jdGlvbiBmaWx0ZXIoc2NyaXB0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc2NyaXB0LnNyYyA9PT0gJ3N0cmluZycgJiYgc2NyaXB0LnNyYy5pbmNsdWRlcygnbWFwcy5nb29nbGVhcGlzJyk7XG4gICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIGZvckVhY2goc2NyaXB0KSB7XG4gICAgICAgIGlmIChzY3JpcHQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpbmsnKSkuZmlsdGVyKGZ1bmN0aW9uIGZpbHRlcihsaW5rKSB7XG4gICAgICAgIHJldHVybiBsaW5rLmhyZWYgPT09ICdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvOjMwMCw0MDAsNTAwLDcwMHxHb29nbGUrU2Fucyc7XG4gICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIGZvckVhY2gobGluaykge1xuICAgICAgICBpZiAobGluay5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgbGluay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdHlsZScpKS5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyKHN0eWxlKSB7XG4gICAgICAgIHJldHVybiBzdHlsZS5pbm5lclRleHQgIT09IHVuZGVmaW5lZCAmJiBzdHlsZS5pbm5lclRleHQubGVuZ3RoID4gMCAmJiBzdHlsZS5pbm5lclRleHQuaW5jbHVkZXMoJy5nbS0nKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gZm9yRWFjaChzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaW5qZWN0U2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLnByZXZlbnRHb29nbGVGb250c0xvYWRpbmcpIHtcbiAgICAgICAgcHJldmVudEdvb2dsZUZvbnRzKCk7XG4gICAgICB9XG5cbiAgICAgICEhIV90aGlzLnByb3BzLmlkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTG9hZFNjcmlwdCByZXF1aXJlcyBcImlkXCIgcHJvcCB0byBiZSBhIHN0cmluZzogJXMnLCBfdGhpcy5wcm9wcy5pZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGluamVjdFNjcmlwdE9wdGlvbnMgPSB7XG4gICAgICAgIGlkOiBfdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgbm9uY2U6IF90aGlzLnByb3BzLm5vbmNlLFxuICAgICAgICB1cmw6IG1ha2VMb2FkU2NyaXB0VXJsKF90aGlzLnByb3BzKVxuICAgICAgfTtcbiAgICAgIGluamVjdFNjcmlwdChpbmplY3RTY3JpcHRPcHRpb25zKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uTG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0TG9hZGVkKCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2FkZWQ6IHRydWVcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uRXJyb3IpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkVycm9yKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmVycm9yKFwiXFxuICAgICAgICAgIFRoZXJlIGhhcyBiZWVuIGFuIEVycm9yIHdpdGggbG9hZGluZyBHb29nbGUgTWFwcyBBUEkgc2NyaXB0LCBwbGVhc2UgY2hlY2sgdGhhdCB5b3UgcHJvdmlkZWQgY29ycmVjdCBnb29nbGUgQVBJIGtleSAoXCIgKyAoX3RoaXMucHJvcHMuZ29vZ2xlTWFwc0FwaUtleSB8fCAnLScpICsgXCIpIG9yIENsaWVudCBJRCAoXCIgKyAoX3RoaXMucHJvcHMuZ29vZ2xlTWFwc0NsaWVudElkIHx8ICctJykgKyBcIikgdG8gPExvYWRTY3JpcHQgLz5cXG4gICAgICAgICAgT3RoZXJ3aXNlIGl0IGlzIGEgTmV0d29yayBpc3N1ZS5cXG4gICAgICAgIFwiKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTG9hZFNjcmlwdC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgaWYgKHdpbmRvdy5nb29nbGUgJiYgd2luZG93Lmdvb2dsZS5tYXBzICYmICFjbGVhbmluZ1VwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dvb2dsZSBhcGkgaXMgYWxyZWFkeSBwcmVzZW50ZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzQ2xlYW5pbmdVcCgpLnRoZW4odGhpcy5pbmplY3RTY3JpcHQpW1wiY2F0Y2hcIl0oZnVuY3Rpb24gZXJyb3IoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGF0IGluamVjdGluZyBzY3JpcHQgYWZ0ZXIgY2xlYW5pbmcgdXA6ICcsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5saWJyYXJpZXMgIT09IHByZXZQcm9wcy5saWJyYXJpZXMpIHtcbiAgICAgIGNvbnNvbGUud2FybignUGVyZm9ybWFuY2Ugd2FybmluZyEgTG9hZFNjcmlwdCBoYXMgYmVlbiByZWxvYWRlZCB1bmludGVudGlvbmFsbHkhIFlvdSBzaG91bGQgbm90IHBhc3MgYGxpYnJhcmllc2AgcHJvcCBhcyBuZXcgYXJyYXkuIFBsZWFzZSBrZWVwIGFuIGFycmF5IG9mIGxpYnJhcmllcyBhcyBzdGF0aWMgY2xhc3MgcHJvcGVydHkgZm9yIENvbXBvbmVudHMgYW5kIFB1cmVDb21wb25lbnRzLCBvciBqdXN0IGEgY29uc3QgdmFyaWFibGUgb3V0c2lkZSBvZiBjb21wb25lbnQsIG9yIHNvbWV3aGVyZSBpbiBjb25maWcgZmlsZXMgb3IgRU5WIHZhcmlhYmxlcycpO1xuICAgIH1cblxuICAgIGlmIChpc0Jyb3dzZXIgJiYgcHJldlByb3BzLmxhbmd1YWdlICE9PSB0aGlzLnByb3BzLmxhbmd1YWdlKSB7XG4gICAgICB0aGlzLmNsZWFudXAoKTsgLy8gVE9ETzogcmVmYWN0b3IgdG8gdXNlIGdEU0ZQIG1heWJlLi4uIHdhaXQgZm9yIGhvb2tzIHJlZmFjdG9yaW5nLlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWRpZC11cGRhdGUtc2V0LXN0YXRlXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0TG9hZGVkKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxvYWRlZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH0sIHRoaXMuY2xlYW51cENhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICB0aGlzLmNsZWFudXAoKTtcblxuICAgICAgdmFyIHRpbWVvdXRDYWxsYmFjayA9IGZ1bmN0aW9uIHRpbWVvdXRDYWxsYmFjaygpIHtcbiAgICAgICAgaWYgKCFfdGhpczIuY2hlY2suY3VycmVudCkge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBkZWxldGUgd2luZG93Lmdvb2dsZTtcbiAgICAgICAgICBjbGVhbmluZ1VwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRpbWVvdXRDYWxsYmFjaywgMSk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogdGhpcy5jaGVja1xuICAgIH0pLCB0aGlzLnN0YXRlLmxvYWRlZCA/IHRoaXMucHJvcHMuY2hpbGRyZW4gOiB0aGlzLnByb3BzLmxvYWRpbmdFbGVtZW50IHx8IGNyZWF0ZUVsZW1lbnQoRGVmYXVsdExvYWRpbmdFbGVtZW50LCBudWxsKSk7XG4gIH07XG5cbiAgcmV0dXJuIExvYWRTY3JpcHQ7XG59KFB1cmVDb21wb25lbnQpO1xuXG5Mb2FkU2NyaXB0LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRMb2FkU2NyaXB0UHJvcHM7XG5cbi8qIGVzbGludC1kaXNhYmxlIGZpbGVuYW1lcy9tYXRjaC1yZWdleCAqL1xudmFyIHByZXZpb3VzbHlMb2FkZWRVcmw7XG5mdW5jdGlvbiB1c2VMb2FkU2NyaXB0KF9yZWYpIHtcbiAgdmFyIF9yZWYkaWQgPSBfcmVmLmlkLFxuICAgICAgaWQgPSBfcmVmJGlkID09PSB2b2lkIDAgPyBkZWZhdWx0TG9hZFNjcmlwdFByb3BzLmlkIDogX3JlZiRpZCxcbiAgICAgIF9yZWYkdmVyc2lvbiA9IF9yZWYudmVyc2lvbixcbiAgICAgIHZlcnNpb24gPSBfcmVmJHZlcnNpb24gPT09IHZvaWQgMCA/IGRlZmF1bHRMb2FkU2NyaXB0UHJvcHMudmVyc2lvbiA6IF9yZWYkdmVyc2lvbixcbiAgICAgIG5vbmNlID0gX3JlZi5ub25jZSxcbiAgICAgIGdvb2dsZU1hcHNBcGlLZXkgPSBfcmVmLmdvb2dsZU1hcHNBcGlLZXksXG4gICAgICBnb29nbGVNYXBzQ2xpZW50SWQgPSBfcmVmLmdvb2dsZU1hcHNDbGllbnRJZCxcbiAgICAgIGxhbmd1YWdlID0gX3JlZi5sYW5ndWFnZSxcbiAgICAgIHJlZ2lvbiA9IF9yZWYucmVnaW9uLFxuICAgICAgbGlicmFyaWVzID0gX3JlZi5saWJyYXJpZXMsXG4gICAgICBwcmV2ZW50R29vZ2xlRm9udHNMb2FkaW5nID0gX3JlZi5wcmV2ZW50R29vZ2xlRm9udHNMb2FkaW5nLFxuICAgICAgY2hhbm5lbCA9IF9yZWYuY2hhbm5lbCxcbiAgICAgIG1hcElkcyA9IF9yZWYubWFwSWRzO1xuICB2YXIgaXNNb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaXNMb2FkZWQgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRMb2FkZWQgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTIgPSB1c2VTdGF0ZSh1bmRlZmluZWQpLFxuICAgICAgbG9hZEVycm9yID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICAgIHNldExvYWRFcnJvciA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIHRyYWNrTW91bnRlZFN0YXRlKCkge1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiBhcHBseVByZXZlbnRHb29nbGVGb250cygpIHtcbiAgICBpZiAoaXNCcm93c2VyICYmIHByZXZlbnRHb29nbGVGb250c0xvYWRpbmcpIHtcbiAgICAgIHByZXZlbnRHb29nbGVGb250cygpO1xuICAgIH1cbiAgfSwgW3ByZXZlbnRHb29nbGVGb250c0xvYWRpbmddKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIHZhbGlkYXRlTG9hZGVkU3RhdGUoKSB7XG4gICAgaWYgKGlzTG9hZGVkKSB7XG4gICAgICAhISF3aW5kb3cuZ29vZ2xlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAndXNlTG9hZFNjcmlwdCB3YXMgbWFya2VkIGFzIGxvYWRlZCwgYnV0IHdpbmRvdy5nb29nbGUgaXMgbm90IHByZXNlbnQuIFNvbWV0aGluZyB3ZW50IHdyb25nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gIH0sIFtpc0xvYWRlZF0pO1xuICB2YXIgdXJsID0gbWFrZUxvYWRTY3JpcHRVcmwoe1xuICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgZ29vZ2xlTWFwc0FwaUtleTogZ29vZ2xlTWFwc0FwaUtleSxcbiAgICBnb29nbGVNYXBzQ2xpZW50SWQ6IGdvb2dsZU1hcHNDbGllbnRJZCxcbiAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsXG4gICAgcmVnaW9uOiByZWdpb24sXG4gICAgbGlicmFyaWVzOiBsaWJyYXJpZXMsXG4gICAgY2hhbm5lbDogY2hhbm5lbCxcbiAgICBtYXBJZHM6IG1hcElkc1xuICB9KTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGxvYWRTY3JpcHRBbmRNb2RpZnlMb2FkZWRTdGF0ZSgpIHtcbiAgICBpZiAoIWlzQnJvd3Nlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldExvYWRlZElmTW91bnRlZCgpIHtcbiAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICBzZXRMb2FkZWQodHJ1ZSk7XG4gICAgICAgIHByZXZpb3VzbHlMb2FkZWRVcmwgPSB1cmw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5nb29nbGUgJiYgd2luZG93Lmdvb2dsZS5tYXBzICYmIHByZXZpb3VzbHlMb2FkZWRVcmwgPT09IHVybCkge1xuICAgICAgc2V0TG9hZGVkSWZNb3VudGVkKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5qZWN0U2NyaXB0KHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgbm9uY2U6IG5vbmNlXG4gICAgfSkudGhlbihzZXRMb2FkZWRJZk1vdW50ZWQpW1wiY2F0Y2hcIl0oZnVuY3Rpb24gaGFuZGxlSW5qZWN0RXJyb3IoZXJyKSB7XG4gICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgICAgc2V0TG9hZEVycm9yKGVycik7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUud2FybihcIlxcbiAgICAgICAgVGhlcmUgaGFzIGJlZW4gYW4gRXJyb3Igd2l0aCBsb2FkaW5nIEdvb2dsZSBNYXBzIEFQSSBzY3JpcHQsIHBsZWFzZSBjaGVjayB0aGF0IHlvdSBwcm92aWRlZCBjb3JyZWN0IGdvb2dsZSBBUEkga2V5IChcIiArIChnb29nbGVNYXBzQXBpS2V5IHx8ICctJykgKyBcIikgb3IgQ2xpZW50IElEIChcIiArIChnb29nbGVNYXBzQ2xpZW50SWQgfHwgJy0nKSArIFwiKVxcbiAgICAgICAgT3RoZXJ3aXNlIGl0IGlzIGEgTmV0d29yayBpc3N1ZS5cXG4gICAgICBcIik7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSk7XG4gIH0sIFtpZCwgdXJsLCBub25jZV0pO1xuICB2YXIgcHJldkxpYnJhcmllcyA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gY2hlY2tQZXJmb3JtYW5jZSgpIHtcbiAgICBpZiAocHJldkxpYnJhcmllcy5jdXJyZW50ICYmIGxpYnJhcmllcyAhPT0gcHJldkxpYnJhcmllcy5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1BlcmZvcm1hbmNlIHdhcm5pbmchIExvYWRTY3JpcHQgaGFzIGJlZW4gcmVsb2FkZWQgdW5pbnRlbnRpb25hbGx5ISBZb3Ugc2hvdWxkIG5vdCBwYXNzIGBsaWJyYXJpZXNgIHByb3AgYXMgbmV3IGFycmF5LiBQbGVhc2Uga2VlcCBhbiBhcnJheSBvZiBsaWJyYXJpZXMgYXMgc3RhdGljIGNsYXNzIHByb3BlcnR5IGZvciBDb21wb25lbnRzIGFuZCBQdXJlQ29tcG9uZW50cywgb3IganVzdCBhIGNvbnN0IHZhcmlhYmxlIG91dHNpZGUgb2YgY29tcG9uZW50LCBvciBzb21ld2hlcmUgaW4gY29uZmlnIGZpbGVzIG9yIEVOViB2YXJpYWJsZXMnKTtcbiAgICB9XG5cbiAgICBwcmV2TGlicmFyaWVzLmN1cnJlbnQgPSBsaWJyYXJpZXM7XG4gIH0sIFtsaWJyYXJpZXNdKTtcbiAgcmV0dXJuIHtcbiAgICBpc0xvYWRlZDogaXNMb2FkZWQsXG4gICAgbG9hZEVycm9yOiBsb2FkRXJyb3IsXG4gICAgdXJsOiB1cmxcbiAgfTtcbn1cblxudmFyIGRlZmF1bHRMb2FkaW5nRWxlbWVudCA9IC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KERlZmF1bHRMb2FkaW5nRWxlbWVudCwgbnVsbCk7XG5cbmZ1bmN0aW9uIExvYWRTY3JpcHROZXh0KF9yZWYpIHtcbiAgdmFyIGxvYWRpbmdFbGVtZW50ID0gX3JlZi5sb2FkaW5nRWxlbWVudCxcbiAgICAgIG9uTG9hZCA9IF9yZWYub25Mb2FkLFxuICAgICAgb25FcnJvciA9IF9yZWYub25FcnJvcixcbiAgICAgIG9uVW5tb3VudCA9IF9yZWYub25Vbm1vdW50LFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgaG9va09wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJsb2FkaW5nRWxlbWVudFwiLCBcIm9uTG9hZFwiLCBcIm9uRXJyb3JcIiwgXCJvblVubW91bnRcIiwgXCJjaGlsZHJlblwiXSk7XG5cbiAgdmFyIF91c2VMb2FkU2NyaXB0ID0gdXNlTG9hZFNjcmlwdChob29rT3B0aW9ucyksXG4gICAgICBpc0xvYWRlZCA9IF91c2VMb2FkU2NyaXB0LmlzTG9hZGVkLFxuICAgICAgbG9hZEVycm9yID0gX3VzZUxvYWRTY3JpcHQubG9hZEVycm9yO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBoYW5kbGVPbkxvYWQoKSB7XG4gICAgaWYgKGlzTG9hZGVkICYmIHR5cGVvZiBvbkxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9uTG9hZCgpO1xuICAgIH1cbiAgfSwgW2lzTG9hZGVkLCBvbkxvYWRdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGhhbmRsZU9uRXJyb3IoKSB7XG4gICAgaWYgKGxvYWRFcnJvciAmJiB0eXBlb2Ygb25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25FcnJvcihsb2FkRXJyb3IpO1xuICAgIH1cbiAgfSwgW2xvYWRFcnJvciwgb25FcnJvcl0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gaGFuZGxlT25Vbm1vdW50KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAob25Vbm1vdW50KSB7XG4gICAgICAgIG9uVW5tb3VudCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtvblVubW91bnRdKTtcbiAgcmV0dXJuIGlzTG9hZGVkID8gY2hpbGRyZW4gOiBsb2FkaW5nRWxlbWVudCB8fCBkZWZhdWx0TG9hZGluZ0VsZW1lbnQ7XG59XG5cbnZhciBMb2FkU2NyaXB0TmV4dCQxID0gLyojX19QVVJFX18qL21lbW8oTG9hZFNjcmlwdE5leHQpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBmaWxlbmFtZXMvbWF0Y2gtcmVnZXggKi9cbmZ1bmN0aW9uIHVzZUpzQXBpTG9hZGVyKF9yZWYpIHtcbiAgdmFyIF9yZWYkaWQgPSBfcmVmLmlkLFxuICAgICAgaWQgPSBfcmVmJGlkID09PSB2b2lkIDAgPyBkZWZhdWx0TG9hZFNjcmlwdFByb3BzLmlkIDogX3JlZiRpZCxcbiAgICAgIF9yZWYkdmVyc2lvbiA9IF9yZWYudmVyc2lvbixcbiAgICAgIHZlcnNpb24gPSBfcmVmJHZlcnNpb24gPT09IHZvaWQgMCA/IGRlZmF1bHRMb2FkU2NyaXB0UHJvcHMudmVyc2lvbiA6IF9yZWYkdmVyc2lvbixcbiAgICAgIG5vbmNlID0gX3JlZi5ub25jZSxcbiAgICAgIGdvb2dsZU1hcHNBcGlLZXkgPSBfcmVmLmdvb2dsZU1hcHNBcGlLZXksXG4gICAgICBsYW5ndWFnZSA9IF9yZWYubGFuZ3VhZ2UsXG4gICAgICByZWdpb24gPSBfcmVmLnJlZ2lvbixcbiAgICAgIGxpYnJhcmllcyA9IF9yZWYubGlicmFyaWVzLFxuICAgICAgcHJldmVudEdvb2dsZUZvbnRzTG9hZGluZyA9IF9yZWYucHJldmVudEdvb2dsZUZvbnRzTG9hZGluZyxcbiAgICAgIG1hcElkcyA9IF9yZWYubWFwSWRzO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBpc0xvYWRlZCA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldExvYWRlZCA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMiA9IHVzZVN0YXRlKHVuZGVmaW5lZCksXG4gICAgICBsb2FkRXJyb3IgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0TG9hZEVycm9yID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgbG9hZGVyID0gdXNlTWVtbyhmdW5jdGlvbiBtZW1vKCkge1xuICAgIHJldHVybiBuZXcgTG9hZGVyKHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGFwaUtleTogZ29vZ2xlTWFwc0FwaUtleSxcbiAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICBsaWJyYXJpZXM6IGxpYnJhcmllcyxcbiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgbWFwSWRzOiBtYXBJZHMsXG4gICAgICBub25jZTogbm9uY2VcbiAgICB9KTtcbiAgfSwgW2lkLCBnb29nbGVNYXBzQXBpS2V5LCB2ZXJzaW9uLCBsaWJyYXJpZXMsIGxhbmd1YWdlLCByZWdpb24sIG1hcElkcywgbm9uY2VdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGVmZmVjdCgpIHtcbiAgICBpZiAoaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGVyLmxvYWQoKS50aGVuKGZ1bmN0aW9uIHRoZW4oKSB7XG4gICAgICAgIHNldExvYWRlZCh0cnVlKTtcbiAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gb25yZWplY3RlZChlcnJvcikge1xuICAgICAgICBzZXRMb2FkRXJyb3IoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiBhcHBseVByZXZlbnRHb29nbGVGb250cygpIHtcbiAgICBpZiAoaXNCcm93c2VyICYmIHByZXZlbnRHb29nbGVGb250c0xvYWRpbmcpIHtcbiAgICAgIHByZXZlbnRHb29nbGVGb250cygpO1xuICAgIH1cbiAgfSwgW3ByZXZlbnRHb29nbGVGb250c0xvYWRpbmddKTtcbiAgdmFyIHByZXZMaWJyYXJpZXMgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGVmZmVjdCgpIHtcbiAgICBpZiAocHJldkxpYnJhcmllcy5jdXJyZW50ICYmIGxpYnJhcmllcyAhPT0gcHJldkxpYnJhcmllcy5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1BlcmZvcm1hbmNlIHdhcm5pbmchIExvYWRTY3JpcHQgaGFzIGJlZW4gcmVsb2FkZWQgdW5pbnRlbnRpb25hbGx5ISBZb3Ugc2hvdWxkIG5vdCBwYXNzIGBsaWJyYXJpZXNgIHByb3AgYXMgbmV3IGFycmF5LiBQbGVhc2Uga2VlcCBhbiBhcnJheSBvZiBsaWJyYXJpZXMgYXMgc3RhdGljIGNsYXNzIHByb3BlcnR5IGZvciBDb21wb25lbnRzIGFuZCBQdXJlQ29tcG9uZW50cywgb3IganVzdCBhIGNvbnN0IHZhcmlhYmxlIG91dHNpZGUgb2YgY29tcG9uZW50LCBvciBzb21ld2hlcmUgaW4gY29uZmlnIGZpbGVzIG9yIEVOViB2YXJpYWJsZXMnKTtcbiAgICB9XG5cbiAgICBwcmV2TGlicmFyaWVzLmN1cnJlbnQgPSBsaWJyYXJpZXM7XG4gIH0sIFtsaWJyYXJpZXNdKTtcbiAgcmV0dXJuIHtcbiAgICBpc0xvYWRlZDogaXNMb2FkZWQsXG4gICAgbG9hZEVycm9yOiBsb2FkRXJyb3JcbiAgfTtcbn1cblxudmFyIGV2ZW50TWFwJDEgPSB7fTtcbnZhciB1cGRhdGVyTWFwJDEgPSB7XG4gIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoaW5zdGFuY2UsIF9vcHRpb25zKSB7XG4gICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhfb3B0aW9ucyk7XG4gIH1cbn07XG52YXIgVHJhZmZpY0xheWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUcmFmZmljTGF5ZXIsIF9QdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFmZmljTGF5ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0cmFmZmljTGF5ZXI6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0VHJhZmZpY0xheWVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUudHJhZmZpY0xheWVyICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgX3RoaXMucHJvcHMub25Mb2FkKF90aGlzLnN0YXRlLnRyYWZmaWNMYXllcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBUcmFmZmljTGF5ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciB0cmFmZmljTGF5ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuVHJhZmZpY0xheWVyKF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLm9wdGlvbnMgfHwge30sIHtcbiAgICAgIG1hcDogdGhpcy5jb250ZXh0XG4gICAgfSkpO1xuICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQxLFxuICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDEsXG4gICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgaW5zdGFuY2U6IHRyYWZmaWNMYXllclxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0VHJhZmZpY0xheWVyKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhZmZpY0xheWVyOiB0cmFmZmljTGF5ZXJcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRUcmFmZmljTGF5ZXJDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS50cmFmZmljTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDEsXG4gICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQxLFxuICAgICAgICBwcmV2UHJvcHM6IHByZXZQcm9wcyxcbiAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS50cmFmZmljTGF5ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS50cmFmZmljTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLnRyYWZmaWNMYXllcik7XG4gICAgICB9XG5cbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgIHRoaXMuc3RhdGUudHJhZmZpY0xheWVyLnNldE1hcChudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gVHJhZmZpY0xheWVyO1xufShQdXJlQ29tcG9uZW50KTtcblRyYWZmaWNMYXllci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbnZhciBCaWN5Y2xpbmdMYXllciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQmljeWNsaW5nTGF5ZXIsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBCaWN5Y2xpbmdMYXllcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGJpY3ljbGluZ0xheWVyOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLnNldEJpY3ljbGluZ0xheWVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuYmljeWNsaW5nTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogaG93IGlzIHRoaXMgcG9zc2libHkgbnVsbCBpZiB3ZSdyZSBkb2luZyBhIG51bGwgY2hlY2tcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgX3RoaXMuc3RhdGUuYmljeWNsaW5nTGF5ZXIuc2V0TWFwKF90aGlzLmNvbnRleHQpO1xuXG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgX3RoaXMucHJvcHMub25Mb2FkKF90aGlzLnN0YXRlLmJpY3ljbGluZ0xheWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQmljeWNsaW5nTGF5ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBiaWN5Y2xpbmdMYXllciA9IG5ldyBnb29nbGUubWFwcy5CaWN5Y2xpbmdMYXllcigpO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0QmljeWNsaW5nTGF5ZXIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiaWN5Y2xpbmdMYXllcjogYmljeWNsaW5nTGF5ZXJcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRCaWN5Y2xpbmdMYXllckNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iaWN5Y2xpbmdMYXllciAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuYmljeWNsaW5nTGF5ZXIpO1xuICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgIC8vIEB0cy1pZ25vcmVcblxuXG4gICAgICB0aGlzLnN0YXRlLmJpY3ljbGluZ0xheWVyLnNldE1hcChudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gQmljeWNsaW5nTGF5ZXI7XG59KFB1cmVDb21wb25lbnQpO1xuQmljeWNsaW5nTGF5ZXIuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgVHJhbnNpdExheWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUcmFuc2l0TGF5ZXIsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUcmFuc2l0TGF5ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0cmFuc2l0TGF5ZXI6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0VHJhbnNpdExheWVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUudHJhbnNpdExheWVyICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IGhvdyBpcyB0aGlzIHBvc3NpYmx5IG51bGwgaWYgd2UncmUgZG9pbmcgYSBudWxsIGNoZWNrXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIF90aGlzLnN0YXRlLnRyYW5zaXRMYXllci5zZXRNYXAoX3RoaXMuY29udGV4dCk7XG5cbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbkxvYWQoX3RoaXMuc3RhdGUudHJhbnNpdExheWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gVHJhbnNpdExheWVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgdHJhbnNpdExheWVyID0gbmV3IGdvb2dsZS5tYXBzLlRyYW5zaXRMYXllcigpO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0VHJhbnNpdExheWVyKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNpdExheWVyOiB0cmFuc2l0TGF5ZXJcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRUcmFuc2l0TGF5ZXJDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudHJhbnNpdExheWVyICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS50cmFuc2l0TGF5ZXIpO1xuICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgIC8vIEB0cy1pZ25vcmVcblxuXG4gICAgICB0aGlzLnN0YXRlLnRyYW5zaXRMYXllci5zZXRNYXAobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFRyYW5zaXRMYXllcjtcbn0oUHVyZUNvbXBvbmVudCk7XG5UcmFuc2l0TGF5ZXIuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgZXZlbnRNYXAkMiA9IHtcbiAgb25DaXJjbGVDb21wbGV0ZTogJ2NpcmNsZWNvbXBsZXRlJyxcbiAgb25NYXJrZXJDb21wbGV0ZTogJ21hcmtlcmNvbXBsZXRlJyxcbiAgb25PdmVybGF5Q29tcGxldGU6ICdvdmVybGF5Y29tcGxldGUnLFxuICBvblBvbHlnb25Db21wbGV0ZTogJ3BvbHlnb25jb21wbGV0ZScsXG4gIG9uUG9seWxpbmVDb21wbGV0ZTogJ3BvbHlsaW5lY29tcGxldGUnLFxuICBvblJlY3RhbmdsZUNvbXBsZXRlOiAncmVjdGFuZ2xlY29tcGxldGUnXG59O1xudmFyIHVwZGF0ZXJNYXAkMiA9IHtcbiAgZHJhd2luZ01vZGU6IGZ1bmN0aW9uIGRyYXdpbmdNb2RlKGluc3RhbmNlLCBfZHJhd2luZ01vZGUpIHtcbiAgICBpbnN0YW5jZS5zZXREcmF3aW5nTW9kZShfZHJhd2luZ01vZGUpO1xuICB9LFxuICBvcHRpb25zOiBmdW5jdGlvbiBvcHRpb25zKGluc3RhbmNlLCBfb3B0aW9ucykge1xuICAgIGluc3RhbmNlLnNldE9wdGlvbnMoX29wdGlvbnMpO1xuICB9XG59O1xudmFyIERyYXdpbmdNYW5hZ2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShEcmF3aW5nTWFuYWdlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERyYXdpbmdNYW5hZ2VyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRyYXdpbmdNYW5hZ2VyOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLnNldERyYXdpbmdNYW5hZ2VyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuZHJhd2luZ01hbmFnZXIgIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5kcmF3aW5nTWFuYWdlcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgICEhIWdvb2dsZS5tYXBzLmRyYXdpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiRGlkIHlvdSBpbmNsdWRlIHByb3AgbGlicmFyaWVzPXtbJ2RyYXdpbmcnXX0gaW4gdGhlIFVSTD8gJXNcIiwgZ29vZ2xlLm1hcHMuZHJhd2luZykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBEcmF3aW5nTWFuYWdlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGRyYXdpbmdNYW5hZ2VyID0gbmV3IGdvb2dsZS5tYXBzLmRyYXdpbmcuRHJhd2luZ01hbmFnZXIoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMub3B0aW9ucyB8fCB7fSwge1xuICAgICAgbWFwOiB0aGlzLmNvbnRleHRcbiAgICB9KSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDIsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAkMixcbiAgICAgIHByZXZQcm9wczoge30sXG4gICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICBpbnN0YW5jZTogZHJhd2luZ01hbmFnZXJcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIHNldERyYXdpbmdNYW5hZ2VyKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZHJhd2luZ01hbmFnZXI6IGRyYXdpbmdNYW5hZ2VyXG4gICAgICB9O1xuICAgIH0sIHRoaXMuc2V0RHJhd2luZ01hbmFnZXJDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcmF3aW5nTWFuYWdlciAhPT0gbnVsbCkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkMixcbiAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDIsXG4gICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmRyYXdpbmdNYW5hZ2VyXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJhd2luZ01hbmFnZXIgIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLmRyYXdpbmdNYW5hZ2VyKTtcbiAgICAgIH1cblxuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5zdGF0ZS5kcmF3aW5nTWFuYWdlci5zZXRNYXAobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwpO1xuICB9O1xuXG4gIHJldHVybiBEcmF3aW5nTWFuYWdlcjtcbn0oUHVyZUNvbXBvbmVudCk7XG5EcmF3aW5nTWFuYWdlci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbnZhciBldmVudE1hcCQzID0ge1xuICBvbkFuaW1hdGlvbkNoYW5nZWQ6ICdhbmltYXRpb25fY2hhbmdlZCcsXG4gIG9uQ2xpY2s6ICdjbGljaycsXG4gIG9uQ2xpY2thYmxlQ2hhbmdlZDogJ2NsaWNrYWJsZV9jaGFuZ2VkJyxcbiAgb25DdXJzb3JDaGFuZ2VkOiAnY3Vyc29yX2NoYW5nZWQnLFxuICBvbkRibENsaWNrOiAnZGJsY2xpY2snLFxuICBvbkRyYWc6ICdkcmFnJyxcbiAgb25EcmFnRW5kOiAnZHJhZ2VuZCcsXG4gIG9uRHJhZ2dhYmxlQ2hhbmdlZDogJ2RyYWdnYWJsZV9jaGFuZ2VkJyxcbiAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICBvbkZsYXRDaGFuZ2VkOiAnZmxhdF9jaGFuZ2VkJyxcbiAgb25JY29uQ2hhbmdlZDogJ2ljb25fY2hhbmdlZCcsXG4gIG9uTW91c2VEb3duOiAnbW91c2Vkb3duJyxcbiAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICBvbk1vdXNlVXA6ICdtb3VzZXVwJyxcbiAgb25Qb3NpdGlvbkNoYW5nZWQ6ICdwb3NpdGlvbl9jaGFuZ2VkJyxcbiAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaycsXG4gIG9uU2hhcGVDaGFuZ2VkOiAnc2hhcGVfY2hhbmdlZCcsXG4gIG9uVGl0bGVDaGFuZ2VkOiAndGl0bGVfY2hhbmdlZCcsXG4gIG9uVmlzaWJsZUNoYW5nZWQ6ICd2aXNpYmxlX2NoYW5nZWQnLFxuICBvblppbmRleENoYW5nZWQ6ICd6aW5kZXhfY2hhbmdlZCdcbn07XG52YXIgdXBkYXRlck1hcCQzID0ge1xuICBhbmltYXRpb246IGZ1bmN0aW9uIGFuaW1hdGlvbihpbnN0YW5jZSwgX2FuaW1hdGlvbikge1xuICAgIGluc3RhbmNlLnNldEFuaW1hdGlvbihfYW5pbWF0aW9uKTtcbiAgfSxcbiAgY2xpY2thYmxlOiBmdW5jdGlvbiBjbGlja2FibGUoaW5zdGFuY2UsIF9jbGlja2FibGUpIHtcbiAgICBpbnN0YW5jZS5zZXRDbGlja2FibGUoX2NsaWNrYWJsZSk7XG4gIH0sXG4gIGN1cnNvcjogZnVuY3Rpb24gY3Vyc29yKGluc3RhbmNlLCBfY3Vyc29yKSB7XG4gICAgaW5zdGFuY2Uuc2V0Q3Vyc29yKF9jdXJzb3IpO1xuICB9LFxuICBkcmFnZ2FibGU6IGZ1bmN0aW9uIGRyYWdnYWJsZShpbnN0YW5jZSwgX2RyYWdnYWJsZSkge1xuICAgIGluc3RhbmNlLnNldERyYWdnYWJsZShfZHJhZ2dhYmxlKTtcbiAgfSxcbiAgaWNvbjogZnVuY3Rpb24gaWNvbihpbnN0YW5jZSwgX2ljb24pIHtcbiAgICBpbnN0YW5jZS5zZXRJY29uKF9pY29uKTtcbiAgfSxcbiAgbGFiZWw6IGZ1bmN0aW9uIGxhYmVsKGluc3RhbmNlLCBfbGFiZWwpIHtcbiAgICBpbnN0YW5jZS5zZXRMYWJlbChfbGFiZWwpO1xuICB9LFxuICBtYXA6IGZ1bmN0aW9uIG1hcChpbnN0YW5jZSwgX21hcCkge1xuICAgIGluc3RhbmNlLnNldE1hcChfbWFwKTtcbiAgfSxcbiAgb3BhY2l0eTogZnVuY3Rpb24gb3BhY2l0eShpbnN0YW5jZSwgX29wYWNpdHkpIHtcbiAgICBpbnN0YW5jZS5zZXRPcGFjaXR5KF9vcGFjaXR5KTtcbiAgfSxcbiAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhpbnN0YW5jZSwgX29wdGlvbnMpIHtcbiAgICBpbnN0YW5jZS5zZXRPcHRpb25zKF9vcHRpb25zKTtcbiAgfSxcbiAgcG9zaXRpb246IGZ1bmN0aW9uIHBvc2l0aW9uKGluc3RhbmNlLCBfcG9zaXRpb24pIHtcbiAgICBpbnN0YW5jZS5zZXRQb3NpdGlvbihfcG9zaXRpb24pO1xuICB9LFxuICBzaGFwZTogZnVuY3Rpb24gc2hhcGUoaW5zdGFuY2UsIF9zaGFwZSkge1xuICAgIGluc3RhbmNlLnNldFNoYXBlKF9zaGFwZSk7XG4gIH0sXG4gIHRpdGxlOiBmdW5jdGlvbiB0aXRsZShpbnN0YW5jZSwgX3RpdGxlKSB7XG4gICAgaW5zdGFuY2Uuc2V0VGl0bGUoX3RpdGxlKTtcbiAgfSxcbiAgdmlzaWJsZTogZnVuY3Rpb24gdmlzaWJsZShpbnN0YW5jZSwgX3Zpc2libGUpIHtcbiAgICBpbnN0YW5jZS5zZXRWaXNpYmxlKF92aXNpYmxlKTtcbiAgfSxcbiAgekluZGV4OiBmdW5jdGlvbiB6SW5kZXgoaW5zdGFuY2UsIF96SW5kZXgpIHtcbiAgICBpbnN0YW5jZS5zZXRaSW5kZXgoX3pJbmRleCk7XG4gIH1cbn07XG52YXIgTWFya2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShNYXJrZXIsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNYXJrZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBNYXJrZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBtYXJrZXJPcHRpb25zID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMub3B0aW9ucyB8fCB7fSwgdGhpcy5wcm9wcy5jbHVzdGVyZXIgPyB7fSA6IHtcbiAgICAgIG1hcDogdGhpcy5jb250ZXh0XG4gICAgfSwge1xuICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMucG9zaXRpb25cbiAgICB9KTsgLy8gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndCBqdXN0IGRvIHRoaXMgaW4gdGhlIGNvbnRzdHJ1Y3RvciwgYmVjYXVzZSB0aGVcbiAgICAvLyBgTWFwQ29udGV4dGAgbWlnaHQgbm90IGJlIGZpbGxlZCBpbiB5ZXQuXG5cblxuICAgIHRoaXMubWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcihtYXJrZXJPcHRpb25zKTtcblxuICAgIGlmICh0aGlzLnByb3BzLmNsdXN0ZXJlcikge1xuICAgICAgdGhpcy5wcm9wcy5jbHVzdGVyZXIuYWRkTWFya2VyKHRoaXMubWFya2VyLCAhIXRoaXMucHJvcHMubm9DbHVzdGVyZXJSZWRyYXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcmtlci5zZXRNYXAodGhpcy5jb250ZXh0KTtcbiAgICB9XG5cbiAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkMyxcbiAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQzLFxuICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgIGluc3RhbmNlOiB0aGlzLm1hcmtlclxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICB0aGlzLnByb3BzLm9uTG9hZCh0aGlzLm1hcmtlcik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMubWFya2VyKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQzLFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkMyxcbiAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMubWFya2VyXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMubWFya2VyKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5tYXJrZXIpO1xuICAgICAgfVxuXG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmNsdXN0ZXJlcikge1xuICAgICAgICB0aGlzLnByb3BzLmNsdXN0ZXJlci5yZW1vdmVNYXJrZXIodGhpcy5tYXJrZXIsICEhdGhpcy5wcm9wcy5ub0NsdXN0ZXJlclJlZHJhdyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1hcmtlciAmJiB0aGlzLm1hcmtlci5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBudWxsO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIGNoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKHRoaXMucHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbGVtZW50Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChlbGVtZW50Q2hpbGQsIHtcbiAgICAgICAgICBhbmNob3I6IF90aGlzMi5tYXJrZXJcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRyZW4gfHwgbnVsbDtcbiAgfTtcblxuICByZXR1cm4gTWFya2VyO1xufShQdXJlQ29tcG9uZW50KTtcbk1hcmtlci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbnZhciBldmVudE1hcCQ0ID0ge1xuICBvbkNsaWNrOiAnY2xpY2snLFxuICBvbkNsdXN0ZXJpbmdCZWdpbjogJ2NsdXN0ZXJpbmdiZWdpbicsXG4gIG9uQ2x1c3RlcmluZ0VuZDogJ2NsdXN0ZXJpbmdlbmQnLFxuICBvbk1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICBvbk1vdXNlT3ZlcjogJ21vdXNlb3Zlcidcbn07XG52YXIgdXBkYXRlck1hcCQ0ID0ge1xuICBhdmVyYWdlQ2VudGVyOiBmdW5jdGlvbiBhdmVyYWdlQ2VudGVyKGluc3RhbmNlLCBfYXZlcmFnZUNlbnRlcikge1xuICAgIGluc3RhbmNlLnNldEF2ZXJhZ2VDZW50ZXIoX2F2ZXJhZ2VDZW50ZXIpO1xuICB9LFxuICBiYXRjaFNpemVJRTogZnVuY3Rpb24gYmF0Y2hTaXplSUUoaW5zdGFuY2UsIF9iYXRjaFNpemVJRSkge1xuICAgIGluc3RhbmNlLnNldEJhdGNoU2l6ZUlFKF9iYXRjaFNpemVJRSk7XG4gIH0sXG4gIGNhbGN1bGF0b3I6IGZ1bmN0aW9uIGNhbGN1bGF0b3IoaW5zdGFuY2UsIF9jYWxjdWxhdG9yKSB7XG4gICAgaW5zdGFuY2Uuc2V0Q2FsY3VsYXRvcihfY2FsY3VsYXRvcik7XG4gIH0sXG4gIGNsdXN0ZXJDbGFzczogZnVuY3Rpb24gY2x1c3RlckNsYXNzKGluc3RhbmNlLCBfY2x1c3RlckNsYXNzKSB7XG4gICAgaW5zdGFuY2Uuc2V0Q2x1c3RlckNsYXNzKF9jbHVzdGVyQ2xhc3MpO1xuICB9LFxuICBlbmFibGVSZXRpbmFJY29uczogZnVuY3Rpb24gZW5hYmxlUmV0aW5hSWNvbnMoaW5zdGFuY2UsIF9lbmFibGVSZXRpbmFJY29ucykge1xuICAgIGluc3RhbmNlLnNldEVuYWJsZVJldGluYUljb25zKF9lbmFibGVSZXRpbmFJY29ucyk7XG4gIH0sXG4gIGdyaWRTaXplOiBmdW5jdGlvbiBncmlkU2l6ZShpbnN0YW5jZSwgX2dyaWRTaXplKSB7XG4gICAgaW5zdGFuY2Uuc2V0R3JpZFNpemUoX2dyaWRTaXplKTtcbiAgfSxcbiAgaWdub3JlSGlkZGVuOiBmdW5jdGlvbiBpZ25vcmVIaWRkZW4oaW5zdGFuY2UsIF9pZ25vcmVIaWRkZW4pIHtcbiAgICBpbnN0YW5jZS5zZXRJZ25vcmVIaWRkZW4oX2lnbm9yZUhpZGRlbik7XG4gIH0sXG4gIGltYWdlRXh0ZW5zaW9uOiBmdW5jdGlvbiBpbWFnZUV4dGVuc2lvbihpbnN0YW5jZSwgX2ltYWdlRXh0ZW5zaW9uKSB7XG4gICAgaW5zdGFuY2Uuc2V0SW1hZ2VFeHRlbnNpb24oX2ltYWdlRXh0ZW5zaW9uKTtcbiAgfSxcbiAgaW1hZ2VQYXRoOiBmdW5jdGlvbiBpbWFnZVBhdGgoaW5zdGFuY2UsIF9pbWFnZVBhdGgpIHtcbiAgICBpbnN0YW5jZS5zZXRJbWFnZVBhdGgoX2ltYWdlUGF0aCk7XG4gIH0sXG4gIGltYWdlU2l6ZXM6IGZ1bmN0aW9uIGltYWdlU2l6ZXMoaW5zdGFuY2UsIF9pbWFnZVNpemVzKSB7XG4gICAgaW5zdGFuY2Uuc2V0SW1hZ2VTaXplcyhfaW1hZ2VTaXplcyk7XG4gIH0sXG4gIG1heFpvb206IGZ1bmN0aW9uIG1heFpvb20oaW5zdGFuY2UsIF9tYXhab29tKSB7XG4gICAgaW5zdGFuY2Uuc2V0TWF4Wm9vbShfbWF4Wm9vbSk7XG4gIH0sXG4gIG1pbmltdW1DbHVzdGVyU2l6ZTogZnVuY3Rpb24gbWluaW11bUNsdXN0ZXJTaXplKGluc3RhbmNlLCBfbWluaW11bUNsdXN0ZXJTaXplKSB7XG4gICAgaW5zdGFuY2Uuc2V0TWluaW11bUNsdXN0ZXJTaXplKF9taW5pbXVtQ2x1c3RlclNpemUpO1xuICB9LFxuICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcyhpbnN0YW5jZSwgX3N0eWxlcykge1xuICAgIGluc3RhbmNlLnNldFN0eWxlcyhfc3R5bGVzKTtcbiAgfSxcbiAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKGluc3RhbmNlLCBfdGl0bGUpIHtcbiAgICBpbnN0YW5jZS5zZXRUaXRsZShfdGl0bGUpO1xuICB9LFxuICB6b29tT25DbGljazogZnVuY3Rpb24gem9vbU9uQ2xpY2soaW5zdGFuY2UsIF96b29tT25DbGljaykge1xuICAgIGluc3RhbmNlLnNldFpvb21PbkNsaWNrKF96b29tT25DbGljayk7XG4gIH1cbn07XG52YXIgQ2x1c3RlcmVyQ29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDbHVzdGVyZXJDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDbHVzdGVyZXJDb21wb25lbnQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgbWFya2VyQ2x1c3RlcmVyOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLnNldENsdXN0ZXJlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLm1hcmtlckNsdXN0ZXJlciAhPT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Mb2FkKF90aGlzLnN0YXRlLm1hcmtlckNsdXN0ZXJlcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBDbHVzdGVyZXJDb21wb25lbnQucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgIHZhciBtYXJrZXJDbHVzdGVyZXIgPSBuZXcgQ2x1c3RlcmVyKHRoaXMuY29udGV4dCwgW10sIHRoaXMucHJvcHMub3B0aW9ucyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ0LFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkNCxcbiAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICBpbnN0YW5jZTogbWFya2VyQ2x1c3RlcmVyXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0Q2x1c3RlcmVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hcmtlckNsdXN0ZXJlcjogbWFya2VyQ2x1c3RlcmVyXG4gICAgICAgIH07XG4gICAgICB9LCB0aGlzLnNldENsdXN0ZXJlckNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXIpIHtcbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDQsXG4gICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQ0LFxuICAgICAgICBwcmV2UHJvcHM6IHByZXZQcm9wcyxcbiAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXIgIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLm1hcmtlckNsdXN0ZXJlcik7XG4gICAgICB9XG5cbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgIHRoaXMuc3RhdGUubWFya2VyQ2x1c3RlcmVyLnNldE1hcChudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tYXJrZXJDbHVzdGVyZXIgIT09IG51bGwgPyB0aGlzLnByb3BzLmNoaWxkcmVuKHRoaXMuc3RhdGUubWFya2VyQ2x1c3RlcmVyKSA6IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIENsdXN0ZXJlckNvbXBvbmVudDtcbn0oUHVyZUNvbXBvbmVudCk7XG5DbHVzdGVyZXJDb21wb25lbnQuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgZXZlbnRNYXAkNSA9IHtcbiAgb25DbG9zZUNsaWNrOiAnY2xvc2VjbGljaycsXG4gIG9uQ29udGVudENoYW5nZWQ6ICdjb250ZW50X2NoYW5nZWQnLFxuICBvbkRvbVJlYWR5OiAnZG9tcmVhZHknLFxuICBvblBvc2l0aW9uQ2hhbmdlZDogJ3Bvc2l0aW9uX2NoYW5nZWQnLFxuICBvblppbmRleENoYW5nZWQ6ICd6aW5kZXhfY2hhbmdlZCdcbn07XG52YXIgdXBkYXRlck1hcCQ1ID0ge1xuICBvcHRpb25zOiBmdW5jdGlvbiBvcHRpb25zKGluc3RhbmNlLCBfb3B0aW9ucykge1xuICAgIGluc3RhbmNlLnNldE9wdGlvbnMoX29wdGlvbnMpO1xuICB9LFxuICBwb3NpdGlvbjogZnVuY3Rpb24gcG9zaXRpb24oaW5zdGFuY2UsIF9wb3NpdGlvbikge1xuICAgIGlmIChfcG9zaXRpb24gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmcpIHtcbiAgICAgIGluc3RhbmNlLnNldFBvc2l0aW9uKF9wb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnNldFBvc2l0aW9uKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoX3Bvc2l0aW9uLmxhdCwgX3Bvc2l0aW9uLmxuZykpO1xuICAgIH1cbiAgfSxcbiAgdmlzaWJsZTogZnVuY3Rpb24gdmlzaWJsZShpbnN0YW5jZSwgX3Zpc2libGUpIHtcbiAgICBpbnN0YW5jZS5zZXRWaXNpYmxlKF92aXNpYmxlKTtcbiAgfSxcbiAgekluZGV4OiBmdW5jdGlvbiB6SW5kZXgoaW5zdGFuY2UsIF96SW5kZXgpIHtcbiAgICBpbnN0YW5jZS5zZXRaSW5kZXgoX3pJbmRleCk7XG4gIH1cbn07XG52YXIgSW5mb0JveENvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoSW5mb0JveENvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEluZm9Cb3hDb21wb25lbnQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgIF90aGlzLmNvbnRhaW5lckVsZW1lbnQgPSBudWxsO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaW5mb0JveDogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5vcGVuID0gZnVuY3Rpb24gKGluZm9Cb3gsIGFuY2hvcikge1xuICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICBpbmZvQm94Lm9wZW4oX3RoaXMuY29udGV4dCwgYW5jaG9yKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5mb0JveC5nZXRQb3NpdGlvbigpKSB7XG4gICAgICAgIGluZm9Cb3gub3BlbihfdGhpcy5jb250ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBhbmNob3Igb3IgYSBwb3NpdGlvbiBwcm9wIGZvciA8SW5mb0JveD4uJykgOiBpbnZhcmlhbnQoZmFsc2UpIDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0SW5mb0JveENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgYW5jaG9yID0gX3RoaXMkcHJvcHMuYW5jaG9yLFxuICAgICAgICAgIG9uTG9hZCA9IF90aGlzJHByb3BzLm9uTG9hZDtcbiAgICAgIHZhciBpbmZvQm94ID0gX3RoaXMuc3RhdGUuaW5mb0JveDtcblxuICAgICAgaWYgKGluZm9Cb3ggIT09IG51bGwgJiYgX3RoaXMuY29udGFpbmVyRWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICBpbmZvQm94LnNldENvbnRlbnQoX3RoaXMuY29udGFpbmVyRWxlbWVudCk7XG5cbiAgICAgICAgX3RoaXMub3BlbihpbmZvQm94LCBhbmNob3IpO1xuXG4gICAgICAgIGlmIChvbkxvYWQpIHtcbiAgICAgICAgICBvbkxvYWQoaW5mb0JveCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEluZm9Cb3hDb21wb25lbnQucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xuXG4gICAgdmFyIF9yZWYgPSBvcHRpb25zIHx8IHt9LFxuICAgICAgICBwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sXG4gICAgICAgIGluZm9Cb3hPcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wicG9zaXRpb25cIl0pO1xuXG4gICAgdmFyIHBvc2l0aW9uTGF0TG5nO1xuXG4gICAgaWYgKHBvc2l0aW9uICYmICEocG9zaXRpb24gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmcpKSB7XG4gICAgICBwb3NpdGlvbkxhdExuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcocG9zaXRpb24ubGF0LCBwb3NpdGlvbi5sbmcpO1xuICAgIH1cblxuICAgIHZhciBpbmZvQm94ID0gbmV3IEluZm9Cb3goX2V4dGVuZHMoe30sIGluZm9Cb3hPcHRpb25zLCBwb3NpdGlvbkxhdExuZyA/IHtcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbkxhdExuZ1xuICAgIH0gOiB7fSkpO1xuICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ1LFxuICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDUsXG4gICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgaW5zdGFuY2U6IGluZm9Cb3hcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGluZm9Cb3g6IGluZm9Cb3hcbiAgICB9LCB0aGlzLnNldEluZm9Cb3hDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgaW5mb0JveCA9IHRoaXMuc3RhdGUuaW5mb0JveDtcblxuICAgIGlmIChpbmZvQm94ICE9PSBudWxsKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ1LFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkNSxcbiAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IGluZm9Cb3hcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB2YXIgb25Vbm1vdW50ID0gdGhpcy5wcm9wcy5vblVubW91bnQ7XG4gICAgdmFyIGluZm9Cb3ggPSB0aGlzLnN0YXRlLmluZm9Cb3g7XG5cbiAgICBpZiAoaW5mb0JveCAhPT0gbnVsbCkge1xuICAgICAgaWYgKG9uVW5tb3VudCkge1xuICAgICAgICBvblVubW91bnQoaW5mb0JveCk7XG4gICAgICB9XG5cbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgIGluZm9Cb3guY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVyRWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pLCB0aGlzLmNvbnRhaW5lckVsZW1lbnQpO1xuICB9O1xuXG4gIHJldHVybiBJbmZvQm94Q29tcG9uZW50O1xufShQdXJlQ29tcG9uZW50KTtcbkluZm9Cb3hDb21wb25lbnQuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgZXZlbnRNYXAkNiA9IHtcbiAgb25DbG9zZUNsaWNrOiAnY2xvc2VjbGljaycsXG4gIG9uQ29udGVudENoYW5nZWQ6ICdjb250ZW50X2NoYW5nZWQnLFxuICBvbkRvbVJlYWR5OiAnZG9tcmVhZHknLFxuICBvblBvc2l0aW9uQ2hhbmdlZDogJ3Bvc2l0aW9uX2NoYW5nZWQnLFxuICBvblppbmRleENoYW5nZWQ6ICd6aW5kZXhfY2hhbmdlZCdcbn07XG52YXIgdXBkYXRlck1hcCQ2ID0ge1xuICBvcHRpb25zOiBmdW5jdGlvbiBvcHRpb25zKGluc3RhbmNlLCBfb3B0aW9ucykge1xuICAgIGluc3RhbmNlLnNldE9wdGlvbnMoX29wdGlvbnMpO1xuICB9LFxuICBwb3NpdGlvbjogZnVuY3Rpb24gcG9zaXRpb24oaW5zdGFuY2UsIF9wb3NpdGlvbikge1xuICAgIGluc3RhbmNlLnNldFBvc2l0aW9uKF9wb3NpdGlvbik7XG4gIH0sXG4gIHpJbmRleDogZnVuY3Rpb24gekluZGV4KGluc3RhbmNlLCBfekluZGV4KSB7XG4gICAgaW5zdGFuY2Uuc2V0WkluZGV4KF96SW5kZXgpO1xuICB9XG59O1xudmFyIEluZm9XaW5kb3cgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEluZm9XaW5kb3csIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBJbmZvV2luZG93KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5jb250YWluZXJFbGVtZW50ID0gbnVsbDtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGluZm9XaW5kb3c6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uIChpbmZvV2luZG93LCBhbmNob3IpIHtcbiAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgaW5mb1dpbmRvdy5vcGVuKF90aGlzLmNvbnRleHQsIGFuY2hvcik7XG4gICAgICB9IGVsc2UgaWYgKGluZm9XaW5kb3cuZ2V0UG9zaXRpb24oKSkge1xuICAgICAgICBpbmZvV2luZG93Lm9wZW4oX3RoaXMuY29udGV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBtdXN0IHByb3ZpZGUgZWl0aGVyIGFuIGFuY2hvciAodHlwaWNhbGx5IHJlbmRlciBpdCBpbnNpZGUgYSA8TWFya2VyPikgb3IgYSBwb3NpdGlvbiBwcm9wcyBmb3IgPEluZm9XaW5kb3c+LlwiKSA6IGludmFyaWFudChmYWxzZSkgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRJbmZvV2luZG93Q2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuaW5mb1dpbmRvdyAhPT0gbnVsbCAmJiBfdGhpcy5jb250YWluZXJFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLnN0YXRlLmluZm9XaW5kb3cuc2V0Q29udGVudChfdGhpcy5jb250YWluZXJFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5vcGVuKF90aGlzLnN0YXRlLmluZm9XaW5kb3csIF90aGlzLnByb3BzLmFuY2hvcik7XG5cbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5pbmZvV2luZG93KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gSW5mb1dpbmRvdy5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyhfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5vcHRpb25zIHx8IHt9KSk7XG4gICAgdGhpcy5jb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDYsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAkNixcbiAgICAgIHByZXZQcm9wczoge30sXG4gICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICBpbnN0YW5jZTogaW5mb1dpbmRvd1xuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0SW5mb1dpbmRvdygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluZm9XaW5kb3c6IGluZm9XaW5kb3dcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRJbmZvV2luZG93Q2FsbGJhY2spO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaW5mb1dpbmRvdyAhPT0gbnVsbCkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkNixcbiAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDYsXG4gICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmluZm9XaW5kb3dcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pbmZvV2luZG93ICE9PSBudWxsKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnN0YXRlLmluZm9XaW5kb3cuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXJFbGVtZW50ID8gY3JlYXRlUG9ydGFsKENoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbiksIHRoaXMuY29udGFpbmVyRWxlbWVudCkgOiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsKTtcbiAgfTtcblxuICByZXR1cm4gSW5mb1dpbmRvdztcbn0oUHVyZUNvbXBvbmVudCk7XG5JbmZvV2luZG93LmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxudmFyIGV2ZW50TWFwJDcgPSB7XG4gIG9uQ2xpY2s6ICdjbGljaycsXG4gIG9uRGJsQ2xpY2s6ICdkYmxjbGljaycsXG4gIG9uRHJhZzogJ2RyYWcnLFxuICBvbkRyYWdFbmQ6ICdkcmFnZW5kJyxcbiAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIG9uTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICBvbk1vdXNlVXA6ICdtb3VzZXVwJyxcbiAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaydcbn07XG52YXIgdXBkYXRlck1hcCQ3ID0ge1xuICBkcmFnZ2FibGU6IGZ1bmN0aW9uIGRyYWdnYWJsZShpbnN0YW5jZSwgX2RyYWdnYWJsZSkge1xuICAgIGluc3RhbmNlLnNldERyYWdnYWJsZShfZHJhZ2dhYmxlKTtcbiAgfSxcbiAgZWRpdGFibGU6IGZ1bmN0aW9uIGVkaXRhYmxlKGluc3RhbmNlLCBfZWRpdGFibGUpIHtcbiAgICBpbnN0YW5jZS5zZXRFZGl0YWJsZShfZWRpdGFibGUpO1xuICB9LFxuICBtYXA6IGZ1bmN0aW9uIG1hcChpbnN0YW5jZSwgX21hcCkge1xuICAgIGluc3RhbmNlLnNldE1hcChfbWFwKTtcbiAgfSxcbiAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhpbnN0YW5jZSwgX29wdGlvbnMpIHtcbiAgICBpbnN0YW5jZS5zZXRPcHRpb25zKF9vcHRpb25zKTtcbiAgfSxcbiAgcGF0aDogZnVuY3Rpb24gcGF0aChpbnN0YW5jZSwgX3BhdGgpIHtcbiAgICBpbnN0YW5jZS5zZXRQYXRoKF9wYXRoKTtcbiAgfSxcbiAgdmlzaWJsZTogZnVuY3Rpb24gdmlzaWJsZShpbnN0YW5jZSwgX3Zpc2libGUpIHtcbiAgICBpbnN0YW5jZS5zZXRWaXNpYmxlKF92aXNpYmxlKTtcbiAgfVxufTtcbnZhciBQb2x5bGluZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUG9seWxpbmUsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb2x5bGluZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBwb2x5bGluZTogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRQb2x5bGluZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLnBvbHlsaW5lICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkxvYWQoX3RoaXMuc3RhdGUucG9seWxpbmUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUG9seWxpbmUucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBwb2x5bGluZSA9IG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5vcHRpb25zIHx8IHt9LCB7XG4gICAgICBtYXA6IHRoaXMuY29udGV4dFxuICAgIH0pKTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkNyxcbiAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQ3LFxuICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgIGluc3RhbmNlOiBwb2x5bGluZVxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0UG9seWxpbmUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwb2x5bGluZTogcG9seWxpbmVcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRQb2x5bGluZUNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLnBvbHlsaW5lICE9PSBudWxsKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ3LFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkNyxcbiAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUucG9seWxpbmVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5wb2x5bGluZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUucG9seWxpbmUpO1xuICAgICAgfVxuXG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnN0YXRlLnBvbHlsaW5lLnNldE1hcChudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvbHlsaW5lO1xufShQdXJlQ29tcG9uZW50KTtcblBvbHlsaW5lLmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxudmFyIGV2ZW50TWFwJDggPSB7XG4gIG9uQ2xpY2s6ICdjbGljaycsXG4gIG9uRGJsQ2xpY2s6ICdkYmxjbGljaycsXG4gIG9uRHJhZzogJ2RyYWcnLFxuICBvbkRyYWdFbmQ6ICdkcmFnZW5kJyxcbiAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIG9uTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICBvbk1vdXNlVXA6ICdtb3VzZXVwJyxcbiAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaydcbn07XG52YXIgdXBkYXRlck1hcCQ4ID0ge1xuICBkcmFnZ2FibGU6IGZ1bmN0aW9uIGRyYWdnYWJsZShpbnN0YW5jZSwgX2RyYWdnYWJsZSkge1xuICAgIGluc3RhbmNlLnNldERyYWdnYWJsZShfZHJhZ2dhYmxlKTtcbiAgfSxcbiAgZWRpdGFibGU6IGZ1bmN0aW9uIGVkaXRhYmxlKGluc3RhbmNlLCBfZWRpdGFibGUpIHtcbiAgICBpbnN0YW5jZS5zZXRFZGl0YWJsZShfZWRpdGFibGUpO1xuICB9LFxuICBtYXA6IGZ1bmN0aW9uIG1hcChpbnN0YW5jZSwgX21hcCkge1xuICAgIGluc3RhbmNlLnNldE1hcChfbWFwKTtcbiAgfSxcbiAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhpbnN0YW5jZSwgX29wdGlvbnMpIHtcbiAgICBpbnN0YW5jZS5zZXRPcHRpb25zKF9vcHRpb25zKTtcbiAgfSxcbiAgcGF0aDogZnVuY3Rpb24gcGF0aChpbnN0YW5jZSwgX3BhdGgpIHtcbiAgICBpbnN0YW5jZS5zZXRQYXRoKF9wYXRoKTtcbiAgfSxcbiAgcGF0aHM6IGZ1bmN0aW9uIHBhdGhzKGluc3RhbmNlLCBfcGF0aHMpIHtcbiAgICBpbnN0YW5jZS5zZXRQYXRocyhfcGF0aHMpO1xuICB9LFxuICB2aXNpYmxlOiBmdW5jdGlvbiB2aXNpYmxlKGluc3RhbmNlLCBfdmlzaWJsZSkge1xuICAgIGluc3RhbmNlLnNldFZpc2libGUoX3Zpc2libGUpO1xuICB9XG59O1xudmFyIFBvbHlnb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFBvbHlnb24sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb2x5Z29uKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBvbHlnb246IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0UG9seWdvbkNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLnBvbHlnb24gIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5wb2x5Z29uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFBvbHlnb24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBwb2x5Z29uID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlnb24oX2V4dGVuZHMoe30sIHRoaXMucHJvcHMub3B0aW9ucyB8fCB7fSwge1xuICAgICAgbWFwOiB0aGlzLmNvbnRleHRcbiAgICB9KSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDgsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAkOCxcbiAgICAgIHByZXZQcm9wczoge30sXG4gICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICBpbnN0YW5jZTogcG9seWdvblxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0UG9seWdvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvbHlnb246IHBvbHlnb25cbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRQb2x5Z29uQ2FsbGJhY2spO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUucG9seWdvbiAhPT0gbnVsbCkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkOCxcbiAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDgsXG4gICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLnBvbHlnb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5wb2x5Z29uICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5wb2x5Z29uKTtcbiAgICAgIH1cblxuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5zdGF0ZS5wb2x5Z29uICYmIHRoaXMuc3RhdGUucG9seWdvbi5zZXRNYXAobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFBvbHlnb247XG59KFB1cmVDb21wb25lbnQpO1xuUG9seWdvbi5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbnZhciBldmVudE1hcCQ5ID0ge1xuICBvbkJvdW5kc0NoYW5nZWQ6ICdib3VuZHNfY2hhbmdlZCcsXG4gIG9uQ2xpY2s6ICdjbGljaycsXG4gIG9uRGJsQ2xpY2s6ICdkYmxjbGljaycsXG4gIG9uRHJhZzogJ2RyYWcnLFxuICBvbkRyYWdFbmQ6ICdkcmFnZW5kJyxcbiAgb25EcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIG9uTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgb25Nb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgb25Nb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICBvbk1vdXNlVXA6ICdtb3VzZXVwJyxcbiAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaydcbn07XG52YXIgdXBkYXRlck1hcCQ5ID0ge1xuICBib3VuZHM6IGZ1bmN0aW9uIGJvdW5kcyhpbnN0YW5jZSwgX2JvdW5kcykge1xuICAgIGluc3RhbmNlLnNldEJvdW5kcyhfYm91bmRzKTtcbiAgfSxcbiAgZHJhZ2dhYmxlOiBmdW5jdGlvbiBkcmFnZ2FibGUoaW5zdGFuY2UsIF9kcmFnZ2FibGUpIHtcbiAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoX2RyYWdnYWJsZSk7XG4gIH0sXG4gIGVkaXRhYmxlOiBmdW5jdGlvbiBlZGl0YWJsZShpbnN0YW5jZSwgX2VkaXRhYmxlKSB7XG4gICAgaW5zdGFuY2Uuc2V0RWRpdGFibGUoX2VkaXRhYmxlKTtcbiAgfSxcbiAgbWFwOiBmdW5jdGlvbiBtYXAoaW5zdGFuY2UsIF9tYXApIHtcbiAgICBpbnN0YW5jZS5zZXRNYXAoX21hcCk7XG4gIH0sXG4gIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoaW5zdGFuY2UsIF9vcHRpb25zKSB7XG4gICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhfb3B0aW9ucyk7XG4gIH0sXG4gIHZpc2libGU6IGZ1bmN0aW9uIHZpc2libGUoaW5zdGFuY2UsIF92aXNpYmxlKSB7XG4gICAgaW5zdGFuY2Uuc2V0VmlzaWJsZShfdmlzaWJsZSk7XG4gIH1cbn07XG52YXIgUmVjdGFuZ2xlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSZWN0YW5nbGUsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSZWN0YW5nbGUoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IFtdO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgcmVjdGFuZ2xlOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLnNldFJlY3RhbmdsZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLnJlY3RhbmdsZSAhPT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Mb2FkKF90aGlzLnN0YXRlLnJlY3RhbmdsZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSZWN0YW5nbGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciByZWN0YW5nbGUgPSBuZXcgZ29vZ2xlLm1hcHMuUmVjdGFuZ2xlKF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLm9wdGlvbnMgfHwge30sIHtcbiAgICAgIG1hcDogdGhpcy5jb250ZXh0XG4gICAgfSkpO1xuICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCQ5LFxuICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJDksXG4gICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgaW5zdGFuY2U6IHJlY3RhbmdsZVxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0UmVjdGFuZ2xlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVjdGFuZ2xlOiByZWN0YW5nbGVcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRSZWN0YW5nbGVDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5yZWN0YW5nbGUgIT09IG51bGwpIHtcbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJDksXG4gICAgICAgIGV2ZW50TWFwOiBldmVudE1hcCQ5LFxuICAgICAgICBwcmV2UHJvcHM6IHByZXZQcm9wcyxcbiAgICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICBpbnN0YW5jZTogdGhpcy5zdGF0ZS5yZWN0YW5nbGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5yZWN0YW5nbGUgIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLnJlY3RhbmdsZSk7XG4gICAgICB9XG5cbiAgICAgIHVucmVnaXN0ZXJFdmVudHModGhpcy5yZWdpc3RlcmVkRXZlbnRzKTtcbiAgICAgIHRoaXMuc3RhdGUucmVjdGFuZ2xlLnNldE1hcChudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIFJlY3RhbmdsZTtcbn0oUHVyZUNvbXBvbmVudCk7XG5SZWN0YW5nbGUuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgZXZlbnRNYXAkYSA9IHtcbiAgb25DZW50ZXJDaGFuZ2VkOiAnY2VudGVyX2NoYW5nZWQnLFxuICBvbkNsaWNrOiAnY2xpY2snLFxuICBvbkRibENsaWNrOiAnZGJsY2xpY2snLFxuICBvbkRyYWc6ICdkcmFnJyxcbiAgb25EcmFnRW5kOiAnZHJhZ2VuZCcsXG4gIG9uRHJhZ1N0YXJ0OiAnZHJhZ3N0YXJ0JyxcbiAgb25Nb3VzZURvd246ICdtb3VzZWRvd24nLFxuICBvbk1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gIG9uTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gIG9uTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgb25Nb3VzZVVwOiAnbW91c2V1cCcsXG4gIG9uUmFkaXVzQ2hhbmdlZDogJ3JhZGl1c19jaGFuZ2VkJyxcbiAgb25SaWdodENsaWNrOiAncmlnaHRjbGljaydcbn07XG52YXIgdXBkYXRlck1hcCRhID0ge1xuICBjZW50ZXI6IGZ1bmN0aW9uIGNlbnRlcihpbnN0YW5jZSwgX2NlbnRlcikge1xuICAgIGluc3RhbmNlLnNldENlbnRlcihfY2VudGVyKTtcbiAgfSxcbiAgZHJhZ2dhYmxlOiBmdW5jdGlvbiBkcmFnZ2FibGUoaW5zdGFuY2UsIF9kcmFnZ2FibGUpIHtcbiAgICBpbnN0YW5jZS5zZXREcmFnZ2FibGUoX2RyYWdnYWJsZSk7XG4gIH0sXG4gIGVkaXRhYmxlOiBmdW5jdGlvbiBlZGl0YWJsZShpbnN0YW5jZSwgX2VkaXRhYmxlKSB7XG4gICAgaW5zdGFuY2Uuc2V0RWRpdGFibGUoX2VkaXRhYmxlKTtcbiAgfSxcbiAgbWFwOiBmdW5jdGlvbiBtYXAoaW5zdGFuY2UsIF9tYXApIHtcbiAgICBpbnN0YW5jZS5zZXRNYXAoX21hcCk7XG4gIH0sXG4gIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoaW5zdGFuY2UsIF9vcHRpb25zKSB7XG4gICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhfb3B0aW9ucyk7XG4gIH0sXG4gIHJhZGl1czogZnVuY3Rpb24gcmFkaXVzKGluc3RhbmNlLCBfcmFkaXVzKSB7XG4gICAgaW5zdGFuY2Uuc2V0UmFkaXVzKF9yYWRpdXMpO1xuICB9LFxuICB2aXNpYmxlOiBmdW5jdGlvbiB2aXNpYmxlKGluc3RhbmNlLCBfdmlzaWJsZSkge1xuICAgIGluc3RhbmNlLnNldFZpc2libGUoX3Zpc2libGUpO1xuICB9XG59O1xudmFyIENpcmNsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ2lyY2xlLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNpcmNsZTogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRDaXJjbGVDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5jaXJjbGUgIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5jaXJjbGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ2lyY2xlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgY2lyY2xlID0gbmV3IGdvb2dsZS5tYXBzLkNpcmNsZShfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5vcHRpb25zIHx8IHt9LCB7XG4gICAgICBtYXA6IHRoaXMuY29udGV4dFxuICAgIH0pKTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkYSxcbiAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRhLFxuICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgIGluc3RhbmNlOiBjaXJjbGVcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIHNldENpcmNsZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNpcmNsZTogY2lyY2xlXG4gICAgICB9O1xuICAgIH0sIHRoaXMuc2V0Q2lyY2xlQ2FsbGJhY2spO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2lyY2xlICE9PSBudWxsKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRhLFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkYSxcbiAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUuY2lyY2xlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2lyY2xlICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5jaXJjbGUpO1xuICAgICAgfVxuXG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnN0YXRlLmNpcmNsZSAmJiB0aGlzLnN0YXRlLmNpcmNsZS5zZXRNYXAobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwpO1xuICB9O1xuXG4gIHJldHVybiBDaXJjbGU7XG59KFB1cmVDb21wb25lbnQpO1xuQ2lyY2xlLmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxudmFyIGV2ZW50TWFwJGIgPSB7XG4gIG9uQWRkRmVhdHVyZTogJ2FkZGZlYXR1cmUnLFxuICBvbkNsaWNrOiAnY2xpY2snLFxuICBvbkRibENsaWNrOiAnZGJsY2xpY2snLFxuICBvbk1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIG9uTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gIG9uTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgb25Nb3VzZVVwOiAnbW91c2V1cCcsXG4gIG9uUmVtb3ZlRmVhdHVyZTogJ3JlbW92ZWZlYXR1cmUnLFxuICBvblJlbW92ZVByb3BlcnR5OiAncmVtb3ZlcHJvcGVydHknLFxuICBvblJpZ2h0Q2xpY2s6ICdyaWdodGNsaWNrJyxcbiAgb25TZXRHZW9tZXRyeTogJ3NldGdlb21ldHJ5JyxcbiAgb25TZXRQcm9wZXJ0eTogJ3NldHByb3BlcnR5J1xufTtcbnZhciB1cGRhdGVyTWFwJGIgPSB7XG4gIGFkZDogZnVuY3Rpb24gYWRkKGluc3RhbmNlLCBmZWF0dXJlcykge1xuICAgIGluc3RhbmNlLmFkZChmZWF0dXJlcyk7XG4gIH0sXG4gIGFkZGdlb2pzb246IGZ1bmN0aW9uIGFkZGdlb2pzb24oaW5zdGFuY2UsIGdlb2pzb24sIG9wdGlvbnMpIHtcbiAgICBpbnN0YW5jZS5hZGRHZW9Kc29uKGdlb2pzb24sIG9wdGlvbnMpO1xuICB9LFxuICBjb250YWluczogZnVuY3Rpb24gY29udGFpbnMoaW5zdGFuY2UsIGZlYXR1cmUpIHtcbiAgICBpbnN0YW5jZS5jb250YWlucyhmZWF0dXJlKTtcbiAgfSxcbiAgZm9yZWFjaDogZnVuY3Rpb24gZm9yZWFjaChpbnN0YW5jZSwgY2FsbGJhY2spIHtcbiAgICBpbnN0YW5jZS5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgfSxcbiAgbG9hZGdlb2pzb246IGZ1bmN0aW9uIGxvYWRnZW9qc29uKGluc3RhbmNlLCB1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgaW5zdGFuY2UubG9hZEdlb0pzb24odXJsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gIH0sXG4gIG92ZXJyaWRlc3R5bGU6IGZ1bmN0aW9uIG92ZXJyaWRlc3R5bGUoaW5zdGFuY2UsIGZlYXR1cmUsIHN0eWxlKSB7XG4gICAgaW5zdGFuY2Uub3ZlcnJpZGVTdHlsZShmZWF0dXJlLCBzdHlsZSk7XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGluc3RhbmNlLCBmZWF0dXJlKSB7XG4gICAgaW5zdGFuY2UucmVtb3ZlKGZlYXR1cmUpO1xuICB9LFxuICByZXZlcnRzdHlsZTogZnVuY3Rpb24gcmV2ZXJ0c3R5bGUoaW5zdGFuY2UsIGZlYXR1cmUpIHtcbiAgICBpbnN0YW5jZS5yZXZlcnRTdHlsZShmZWF0dXJlKTtcbiAgfSxcbiAgY29udHJvbHBvc2l0aW9uOiBmdW5jdGlvbiBjb250cm9scG9zaXRpb24oaW5zdGFuY2UsIGNvbnRyb2xQb3NpdGlvbikge1xuICAgIGluc3RhbmNlLnNldENvbnRyb2xQb3NpdGlvbihjb250cm9sUG9zaXRpb24pO1xuICB9LFxuICBjb250cm9sczogZnVuY3Rpb24gY29udHJvbHMoaW5zdGFuY2UsIF9jb250cm9scykge1xuICAgIGluc3RhbmNlLnNldENvbnRyb2xzKF9jb250cm9scyk7XG4gIH0sXG4gIGRyYXdpbmdtb2RlOiBmdW5jdGlvbiBkcmF3aW5nbW9kZShpbnN0YW5jZSwgbW9kZSkge1xuICAgIGluc3RhbmNlLnNldERyYXdpbmdNb2RlKG1vZGUpO1xuICB9LFxuICBtYXA6IGZ1bmN0aW9uIG1hcChpbnN0YW5jZSwgX21hcCkge1xuICAgIGluc3RhbmNlLnNldE1hcChfbWFwKTtcbiAgfSxcbiAgc3R5bGU6IGZ1bmN0aW9uIHN0eWxlKGluc3RhbmNlLCBfc3R5bGUpIHtcbiAgICBpbnN0YW5jZS5zZXRTdHlsZShfc3R5bGUpO1xuICB9LFxuICB0b2dlb2pzb246IGZ1bmN0aW9uIHRvZ2VvanNvbihpbnN0YW5jZSwgY2FsbGJhY2spIHtcbiAgICBpbnN0YW5jZS50b0dlb0pzb24oY2FsbGJhY2spO1xuICB9XG59O1xudmFyIERhdGEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKERhdGEsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRhKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRhdGE6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0RGF0YUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmRhdGEgIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5kYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IERhdGEucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBkYXRhID0gbmV3IGdvb2dsZS5tYXBzLkRhdGEoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMub3B0aW9ucyB8fCB7fSwge1xuICAgICAgbWFwOiB0aGlzLmNvbnRleHRcbiAgICB9KSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGIsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAkYixcbiAgICAgIHByZXZQcm9wczoge30sXG4gICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICBpbnN0YW5jZTogZGF0YVxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0RGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXREYXRhQ2FsbGJhY2spO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZGF0YSAhPT0gbnVsbCkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkYixcbiAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGIsXG4gICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kYXRhICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5kYXRhKTtcbiAgICAgIH1cblxuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kYXRhKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuZGF0YS5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIERhdGE7XG59KFB1cmVDb21wb25lbnQpO1xuRGF0YS5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbnZhciBldmVudE1hcCRjID0ge1xuICBvbkNsaWNrOiAnY2xpY2snLFxuICBvbkRlZmF1bHRWaWV3cG9ydENoYW5nZWQ6ICdkZWZhdWx0dmlld3BvcnRfY2hhbmdlZCcsXG4gIG9uU3RhdHVzQ2hhbmdlZDogJ3N0YXR1c19jaGFuZ2VkJ1xufTtcbnZhciB1cGRhdGVyTWFwJGMgPSB7XG4gIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoaW5zdGFuY2UsIF9vcHRpb25zKSB7XG4gICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhfb3B0aW9ucyk7XG4gIH0sXG4gIHVybDogZnVuY3Rpb24gdXJsKGluc3RhbmNlLCBfdXJsKSB7XG4gICAgaW5zdGFuY2Uuc2V0VXJsKF91cmwpO1xuICB9LFxuICB6SW5kZXg6IGZ1bmN0aW9uIHpJbmRleChpbnN0YW5jZSwgX3pJbmRleCkge1xuICAgIGluc3RhbmNlLnNldFpJbmRleChfekluZGV4KTtcbiAgfVxufTtcbnZhciBLbWxMYXllciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoS21sTGF5ZXIsIF9QdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBLbWxMYXllcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9QdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBrbWxMYXllcjogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRLbWxMYXllckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmttbExheWVyICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkxvYWQoX3RoaXMuc3RhdGUua21sTGF5ZXIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gS21sTGF5ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBrbWxMYXllciA9IG5ldyBnb29nbGUubWFwcy5LbWxMYXllcihfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5vcHRpb25zLCB7XG4gICAgICBtYXA6IHRoaXMuY29udGV4dFxuICAgIH0pKTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkYyxcbiAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRjLFxuICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgIGluc3RhbmNlOiBrbWxMYXllclxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0TG1sTGF5ZXIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrbWxMYXllcjoga21sTGF5ZXJcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRLbWxMYXllckNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmttbExheWVyICE9PSBudWxsKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRjLFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkYyxcbiAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUua21sTGF5ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5rbWxMYXllciAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUua21sTGF5ZXIpO1xuICAgICAgfVxuXG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnN0YXRlLmttbExheWVyLnNldE1hcChudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gS21sTGF5ZXI7XG59KFB1cmVDb21wb25lbnQpO1xuS21sTGF5ZXIuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBmaWxlbmFtZXMvbWF0Y2gtcmVnZXggKi9cbmZ1bmN0aW9uIGdldE9mZnNldE92ZXJyaWRlKGNvbnRhaW5lckVsZW1lbnQsIGdldFBpeGVsUG9zaXRpb25PZmZzZXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBnZXRQaXhlbFBvc2l0aW9uT2Zmc2V0ID09PSAnZnVuY3Rpb24nID8gZ2V0UGl4ZWxQb3NpdGlvbk9mZnNldChjb250YWluZXJFbGVtZW50Lm9mZnNldFdpZHRoLCBjb250YWluZXJFbGVtZW50Lm9mZnNldEhlaWdodCkgOiB7fTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcblxudmFyIGNyZWF0ZUxhdExuZyA9IGZ1bmN0aW9uIGNyZWF0ZUxhdExuZyhpbnN0LCBUeXBlKSB7XG4gIHJldHVybiBuZXcgVHlwZShpbnN0LmxhdCwgaW5zdC5sbmcpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcblxuXG52YXIgY3JlYXRlTGF0TG5nQm91bmRzID0gZnVuY3Rpb24gY3JlYXRlTGF0TG5nQm91bmRzKGluc3QsIFR5cGUpIHtcbiAgcmV0dXJuIG5ldyBUeXBlKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoaW5zdC5uZS5sYXQsIGluc3QubmUubG5nKSwgbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhpbnN0LnN3LmxhdCwgaW5zdC5zdy5sbmcpKTtcbn07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cblxudmFyIGVuc3VyZU9mVHlwZSA9IGZ1bmN0aW9uIGVuc3VyZU9mVHlwZShpbnN0LCB0eXBlLCBmYWN0b3J5KSB7XG4gIHJldHVybiBpbnN0IGluc3RhbmNlb2YgdHlwZSA/IGluc3QgOiBmYWN0b3J5KGluc3QsIHR5cGUpO1xufTtcblxudmFyIGdldExheW91dFN0eWxlc0J5Qm91bmRzID0gZnVuY3Rpb24gZ2V0TGF5b3V0U3R5bGVzQnlCb3VuZHMobWFwQ2FudmFzUHJvamVjdGlvbiwgb2Zmc2V0LCBib3VuZHMpIHtcbiAgdmFyIG5lID0gbWFwQ2FudmFzUHJvamVjdGlvbiAmJiBtYXBDYW52YXNQcm9qZWN0aW9uLmZyb21MYXRMbmdUb0RpdlBpeGVsKGJvdW5kcy5nZXROb3J0aEVhc3QoKSk7XG4gIHZhciBzdyA9IG1hcENhbnZhc1Byb2plY3Rpb24gJiYgbWFwQ2FudmFzUHJvamVjdGlvbi5mcm9tTGF0TG5nVG9EaXZQaXhlbChib3VuZHMuZ2V0U291dGhXZXN0KCkpO1xuXG4gIGlmIChuZSAmJiBzdykge1xuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiBzdy54ICsgb2Zmc2V0LnggKyBcInB4XCIsXG4gICAgICB0b3A6IG5lLnkgKyBvZmZzZXQueSArIFwicHhcIixcbiAgICAgIHdpZHRoOiBuZS54IC0gc3cueCAtIG9mZnNldC54ICsgXCJweFwiLFxuICAgICAgaGVpZ2h0OiBzdy55IC0gbmUueSAtIG9mZnNldC55ICsgXCJweFwiXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGVmdDogJy05OTk5cHgnLFxuICAgIHRvcDogJy05OTk5cHgnXG4gIH07XG59O1xuXG52YXIgZ2V0TGF5b3V0U3R5bGVzQnlQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldExheW91dFN0eWxlc0J5UG9zaXRpb24obWFwQ2FudmFzUHJvamVjdGlvbiwgb2Zmc2V0LCBwb3NpdGlvbikge1xuICB2YXIgcG9pbnQgPSBtYXBDYW52YXNQcm9qZWN0aW9uICYmIG1hcENhbnZhc1Byb2plY3Rpb24uZnJvbUxhdExuZ1RvRGl2UGl4ZWwocG9zaXRpb24pO1xuXG4gIGlmIChwb2ludCkge1xuICAgIHZhciB4ID0gcG9pbnQueCxcbiAgICAgICAgeSA9IHBvaW50Lnk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHggKyBvZmZzZXQueCArIFwicHhcIixcbiAgICAgIHRvcDogeSArIG9mZnNldC55ICsgXCJweFwiXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGVmdDogJy05OTk5cHgnLFxuICAgIHRvcDogJy05OTk5cHgnXG4gIH07XG59O1xuXG52YXIgZ2V0TGF5b3V0U3R5bGVzID0gZnVuY3Rpb24gZ2V0TGF5b3V0U3R5bGVzKG1hcENhbnZhc1Byb2plY3Rpb24sIG9mZnNldCwgYm91bmRzLCBwb3NpdGlvbikge1xuICByZXR1cm4gYm91bmRzICE9PSB1bmRlZmluZWQgPyBnZXRMYXlvdXRTdHlsZXNCeUJvdW5kcyhtYXBDYW52YXNQcm9qZWN0aW9uLCBvZmZzZXQsIGVuc3VyZU9mVHlwZShib3VuZHMsIGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcywgY3JlYXRlTGF0TG5nQm91bmRzKSkgOiBnZXRMYXlvdXRTdHlsZXNCeVBvc2l0aW9uKG1hcENhbnZhc1Byb2plY3Rpb24sIG9mZnNldCwgZW5zdXJlT2ZUeXBlKHBvc2l0aW9uLCBnb29nbGUubWFwcy5MYXRMbmcsIGNyZWF0ZUxhdExuZykpO1xufTtcbnZhciBhcmVQb3NpdGlvbnNFcXVhbCA9IGZ1bmN0aW9uIGFyZVBvc2l0aW9uc0VxdWFsKGN1cnJlbnRQb3NpdGlvbiwgcHJldmlvdXNQb3NpdGlvbikge1xuICByZXR1cm4gY3VycmVudFBvc2l0aW9uLmxlZnQgPT09IHByZXZpb3VzUG9zaXRpb24ubGVmdCAmJiBjdXJyZW50UG9zaXRpb24udG9wID09PSBwcmV2aW91c1Bvc2l0aW9uLnRvcCAmJiBjdXJyZW50UG9zaXRpb24ud2lkdGggPT09IHByZXZpb3VzUG9zaXRpb24uaGVpZ2h0ICYmIGN1cnJlbnRQb3NpdGlvbi5oZWlnaHQgPT09IHByZXZpb3VzUG9zaXRpb24uaGVpZ2h0O1xufTtcblxuZnVuY3Rpb24gY29udmVydFRvTGF0TG5nU3RyaW5nKGxhdExuZ0xpa2UpIHtcbiAgaWYgKCFsYXRMbmdMaWtlKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgdmFyIGxhdExuZyA9IGxhdExuZ0xpa2UgaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmcgPyBsYXRMbmdMaWtlIDogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXRMbmdMaWtlLmxhdCwgbGF0TG5nTGlrZS5sbmcpO1xuICByZXR1cm4gbGF0TG5nICsgJyc7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb0xhdExuZ0JvdW5kc1N0cmluZyhsYXRMbmdCb3VuZHNMaWtlKSB7XG4gIGlmICghbGF0TG5nQm91bmRzTGlrZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBsYXRMbmdCb3VuZHMgPSBsYXRMbmdCb3VuZHNMaWtlIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzID8gbGF0TG5nQm91bmRzTGlrZSA6IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXRMbmdCb3VuZHNMaWtlLnNvdXRoLCBsYXRMbmdCb3VuZHNMaWtlLmVhc3QpLCBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdExuZ0JvdW5kc0xpa2Uubm9ydGgsIGxhdExuZ0JvdW5kc0xpa2Uud2VzdCkpO1xuICByZXR1cm4gbGF0TG5nQm91bmRzICsgJyc7XG59XG5cbnZhciBPdmVybGF5VmlldyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoT3ZlcmxheVZpZXcsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBPdmVybGF5Vmlldyhwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBhbmVFbDogbnVsbCxcbiAgICAgIGNvbnRhaW5lclN0eWxlOiB7XG4gICAgICAgIC8vIHNldCBpbml0aWFsIHBvc2l0aW9uXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnVwZGF0ZVBhbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWFwUGFuZU5hbWUgPSBfdGhpcy5wcm9wcy5tYXBQYW5lTmFtZTsgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvMy5leHAvcmVmZXJlbmNlI01hcFBhbmVzXG5cbiAgICAgIHZhciBtYXBQYW5lcyA9IF90aGlzLm92ZXJsYXlWaWV3LmdldFBhbmVzKCk7XG5cbiAgICAgICEhIW1hcFBhbmVOYW1lID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIk92ZXJsYXlWaWV3IHJlcXVpcmVzIHByb3BzLm1hcFBhbmVOYW1lIGJ1dCBnb3QgJXNcIiwgbWFwUGFuZU5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgICAgaWYgKG1hcFBhbmVzKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwYW5lRWw6IG1hcFBhbmVzW21hcFBhbmVOYW1lXVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwYW5lRWw6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uQWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMudXBkYXRlUGFuZSgpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkxvYWQgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5vdmVybGF5Vmlldyk7XG4gICAgfTtcblxuICAgIF90aGlzLm9uUG9zaXRpb25FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1hcENhbnZhc1Byb2plY3Rpb24gPSBfdGhpcy5vdmVybGF5Vmlldy5nZXRQcm9qZWN0aW9uKCk7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBfZXh0ZW5kcyh7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICAgIH0sIF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50ID8gZ2V0T2Zmc2V0T3ZlcnJpZGUoX3RoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQsIF90aGlzLnByb3BzLmdldFBpeGVsUG9zaXRpb25PZmZzZXQpIDoge30pO1xuXG4gICAgICB2YXIgbGF5b3V0U3R5bGVzID0gZ2V0TGF5b3V0U3R5bGVzKG1hcENhbnZhc1Byb2plY3Rpb24sIG9mZnNldCwgX3RoaXMucHJvcHMuYm91bmRzLCBfdGhpcy5wcm9wcy5wb3NpdGlvbik7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUkY29udGFpbmVyID0gX3RoaXMuc3RhdGUuY29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgbGVmdCA9IF90aGlzJHN0YXRlJGNvbnRhaW5lci5sZWZ0LFxuICAgICAgICAgIHRvcCA9IF90aGlzJHN0YXRlJGNvbnRhaW5lci50b3AsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRzdGF0ZSRjb250YWluZXIud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkc3RhdGUkY29udGFpbmVyLmhlaWdodDtcblxuICAgICAgaWYgKCFhcmVQb3NpdGlvbnNFcXVhbChsYXlvdXRTdHlsZXMsIHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH0pKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb250YWluZXJTdHlsZTogX2V4dGVuZHMoe30sIGxheW91dFN0eWxlcywge1xuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLm9uUG9zaXRpb25FbGVtZW50KCk7XG4gICAgfTtcblxuICAgIF90aGlzLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhbmVFbDogbnVsbFxuICAgICAgICB9O1xuICAgICAgfSk7IC8vIHRoaXMubWFwUGFuZUVsID0gbnVsbFxuXG5cbiAgICAgIF90aGlzLnByb3BzLm9uVW5tb3VudCA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMucHJvcHMub25Vbm1vdW50KF90aGlzLm92ZXJsYXlWaWV3KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY29udGFpbmVyUmVmID0gY3JlYXRlUmVmKCk7IC8vIFlvdSBtdXN0IGltcGxlbWVudCB0aHJlZSBtZXRob2RzOiBvbkFkZCgpLCBkcmF3KCksIGFuZCBvblJlbW92ZSgpLlxuXG4gICAgdmFyIG92ZXJsYXlWaWV3ID0gbmV3IGdvb2dsZS5tYXBzLk92ZXJsYXlWaWV3KCk7XG4gICAgb3ZlcmxheVZpZXcub25BZGQgPSBfdGhpcy5vbkFkZDtcbiAgICBvdmVybGF5Vmlldy5kcmF3ID0gX3RoaXMuZHJhdztcbiAgICBvdmVybGF5Vmlldy5vblJlbW92ZSA9IF90aGlzLm9uUmVtb3ZlO1xuICAgIF90aGlzLm92ZXJsYXlWaWV3ID0gb3ZlcmxheVZpZXc7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IE92ZXJsYXlWaWV3LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyBZb3UgbXVzdCBjYWxsIHNldE1hcCgpIHdpdGggYSB2YWxpZCBNYXAgb2JqZWN0IHRvIHRyaWdnZXIgdGhlIGNhbGwgdG9cbiAgICAvLyB0aGUgb25BZGQoKSBtZXRob2QgYW5kIHNldE1hcChudWxsKSBpbiBvcmRlciB0byB0cmlnZ2VyIHRoZSBvblJlbW92ZSgpIG1ldGhvZC5cbiAgICB0aGlzLm92ZXJsYXlWaWV3LnNldE1hcCh0aGlzLmNvbnRleHQpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIHByZXZQb3NpdGlvblN0cmluZyA9IGNvbnZlcnRUb0xhdExuZ1N0cmluZyhwcmV2UHJvcHMucG9zaXRpb24pO1xuICAgIHZhciBwb3NpdGlvblN0cmluZyA9IGNvbnZlcnRUb0xhdExuZ1N0cmluZyh0aGlzLnByb3BzLnBvc2l0aW9uKTtcbiAgICB2YXIgcHJldkJvdW5kc1N0cmluZyA9IGNvbnZlcnRUb0xhdExuZ0JvdW5kc1N0cmluZyhwcmV2UHJvcHMuYm91bmRzKTtcbiAgICB2YXIgYm91bmRzU3RyaW5nID0gY29udmVydFRvTGF0TG5nQm91bmRzU3RyaW5nKHRoaXMucHJvcHMuYm91bmRzKTtcblxuICAgIGlmIChwcmV2UG9zaXRpb25TdHJpbmcgIT09IHBvc2l0aW9uU3RyaW5nIHx8IHByZXZCb3VuZHNTdHJpbmcgIT09IGJvdW5kc1N0cmluZykge1xuICAgICAgdGhpcy5vdmVybGF5Vmlldy5kcmF3KCk7XG4gICAgfVxuXG4gICAgaWYgKHByZXZQcm9wcy5tYXBQYW5lTmFtZSAhPT0gdGhpcy5wcm9wcy5tYXBQYW5lTmFtZSkge1xuICAgICAgdGhpcy51cGRhdGVQYW5lKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMub3ZlcmxheVZpZXcuc2V0TWFwKG51bGwpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHBhbmVFbCA9IHRoaXMuc3RhdGUucGFuZUVsO1xuXG4gICAgaWYgKHBhbmVFbCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiB0aGlzLmNvbnRhaW5lclJlZixcbiAgICAgICAgc3R5bGU6IHRoaXMuc3RhdGUuY29udGFpbmVyU3R5bGVcbiAgICAgIH0sIENoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbikpLCBwYW5lRWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE92ZXJsYXlWaWV3O1xufShQdXJlQ29tcG9uZW50KTtcbk92ZXJsYXlWaWV3LkZMT0FUX1BBTkUgPSBcImZsb2F0UGFuZVwiO1xuT3ZlcmxheVZpZXcuTUFQX1BBTkUgPSBcIm1hcFBhbmVcIjtcbk92ZXJsYXlWaWV3Lk1BUktFUl9MQVlFUiA9IFwibWFya2VyTGF5ZXJcIjtcbk92ZXJsYXlWaWV3Lk9WRVJMQVlfTEFZRVIgPSBcIm92ZXJsYXlMYXllclwiO1xuT3ZlcmxheVZpZXcuT1ZFUkxBWV9NT1VTRV9UQVJHRVQgPSBcIm92ZXJsYXlNb3VzZVRhcmdldFwiO1xuT3ZlcmxheVZpZXcuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIGV2ZW50TWFwJGQgPSB7XG4gIG9uRGJsQ2xpY2s6ICdkYmxjbGljaycsXG4gIG9uQ2xpY2s6ICdjbGljaydcbn07XG52YXIgdXBkYXRlck1hcCRkID0ge1xuICBvcGFjaXR5OiBmdW5jdGlvbiBvcGFjaXR5KGluc3RhbmNlLCBfb3BhY2l0eSkge1xuICAgIGluc3RhbmNlLnNldE9wYWNpdHkoX29wYWNpdHkpO1xuICB9XG59O1xudmFyIEdyb3VuZE92ZXJsYXkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEdyb3VuZE92ZXJsYXksIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBHcm91bmRPdmVybGF5KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGdyb3VuZE92ZXJsYXk6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0R3JvdW5kT3ZlcmxheUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmdyb3VuZE92ZXJsYXkgIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5ncm91bmRPdmVybGF5KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEdyb3VuZE92ZXJsYXkucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICEoISF0aGlzLnByb3BzLnVybCB8fCAhIXRoaXMucHJvcHMuYm91bmRzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJGb3IgR3JvdW5kT3ZlcmxheSwgdXJsIGFuZCBib3VuZHMgYXJlIHBhc3NlZCBpbiB0byBjb25zdHJ1Y3RvciBhbmQgYXJlIGltbXV0YWJsZSBhZnRlciBpbnN0YW50aWF0ZWQuIFRoaXMgaXMgdGhlIGJlaGF2aW9yIG9mIEdvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJIHYzICggU2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL21hcHMvZG9jdW1lbnRhdGlvbi9qYXZhc2NyaXB0L3JlZmVyZW5jZSNHcm91bmRPdmVybGF5KSBIZW5jZSwgdXNlIHRoZSBjb3JyZXNwb25kaW5nIHR3byBwcm9wcyBwcm92aWRlZCBieSBgcmVhY3QtZ29vZ2xlLW1hcHMtYXBpYCwgdXJsIGFuZCBib3VuZHMuIEluIHNvbWUgY2FzZXMsIHlvdSdsbCBuZWVkIHRoZSBHcm91bmRPdmVybGF5IGNvbXBvbmVudCB0byByZWZsZWN0IHRoZSBjaGFuZ2VzIG9mIHVybCBhbmQgYm91bmRzLiBZb3UgY2FuIGxldmVyYWdlIHRoZSBSZWFjdCdzIGtleSBwcm9wZXJ0eSB0byByZW1vdW50IHRoZSBjb21wb25lbnQuIFR5cGljYWxseSwganVzdCBga2V5PXt1cmx9YCB3b3VsZCBzZXJ2ZSB5b3VyIG5lZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdG9tY2hlbnR3L3JlYWN0LWdvb2dsZS1tYXBzL2lzc3Vlcy82NTVcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBncm91bmRPdmVybGF5ID0gbmV3IGdvb2dsZS5tYXBzLkdyb3VuZE92ZXJsYXkodGhpcy5wcm9wcy51cmwsIHRoaXMucHJvcHMuYm91bmRzLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5vcHRpb25zLCB7XG4gICAgICBtYXA6IHRoaXMuY29udGV4dFxuICAgIH0pKTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkZCxcbiAgICAgIGV2ZW50TWFwOiBldmVudE1hcCRkLFxuICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgIGluc3RhbmNlOiBncm91bmRPdmVybGF5XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXRHcm91bmRPdmVybGF5KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ3JvdW5kT3ZlcmxheTogZ3JvdW5kT3ZlcmxheVxuICAgICAgfTtcbiAgICB9LCB0aGlzLnNldEdyb3VuZE92ZXJsYXlDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5ncm91bmRPdmVybGF5ICE9PSBudWxsKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRkLFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkZCxcbiAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUuZ3JvdW5kT3ZlcmxheVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmdyb3VuZE92ZXJsYXkpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLmdyb3VuZE92ZXJsYXkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlLmdyb3VuZE92ZXJsYXkuc2V0TWFwKG51bGwpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBHcm91bmRPdmVybGF5O1xufShQdXJlQ29tcG9uZW50KTtcbkdyb3VuZE92ZXJsYXkuZGVmYXVsdFByb3BzID0ge1xuICBvbkxvYWQ6IG5vb3Bcbn07XG5Hcm91bmRPdmVybGF5LmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxudmFyIGV2ZW50TWFwJGUgPSB7fTtcbnZhciB1cGRhdGVyTWFwJGUgPSB7XG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoaW5zdGFuY2UsIF9kYXRhKSB7XG4gICAgaW5zdGFuY2Uuc2V0RGF0YShfZGF0YSk7XG4gIH0sXG4gIG1hcDogZnVuY3Rpb24gbWFwKGluc3RhbmNlLCBfbWFwKSB7XG4gICAgaW5zdGFuY2Uuc2V0TWFwKF9tYXApO1xuICB9LFxuICBvcHRpb25zOiBmdW5jdGlvbiBvcHRpb25zKGluc3RhbmNlLCBfb3B0aW9ucykge1xuICAgIGluc3RhbmNlLnNldE9wdGlvbnMoX29wdGlvbnMpO1xuICB9XG59O1xudmFyIEhlYXRtYXBMYXllciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoSGVhdG1hcExheWVyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSGVhdG1hcExheWVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhlYXRtYXBMYXllcjogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRIZWF0bWFwTGF5ZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5oZWF0bWFwTGF5ZXIgIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5oZWF0bWFwTGF5ZXIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gSGVhdG1hcExheWVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAhISFnb29nbGUubWFwcy52aXN1YWxpemF0aW9uID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRGlkIHlvdSBpbmNsdWRlIHByb3AgbGlicmFyaWVzPXtbXCJ2aXN1YWxpemF0aW9uXCJdfSB0byA8TG9hZFNjcmlwdCAvPj8gJXMnLCBnb29nbGUubWFwcy52aXN1YWxpemF0aW9uKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISEhdGhpcy5wcm9wcy5kYXRhID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnZGF0YSBwcm9wZXJ0eSBpcyByZXF1aXJlZCBpbiBIZWF0bWFwTGF5ZXIgJXMnLCB0aGlzLnByb3BzLmRhdGEpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgaGVhdG1hcExheWVyID0gbmV3IGdvb2dsZS5tYXBzLnZpc3VhbGl6YXRpb24uSGVhdG1hcExheWVyKF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLm9wdGlvbnMgfHwge30sIHtcbiAgICAgIGRhdGE6IHRoaXMucHJvcHMuZGF0YSxcbiAgICAgIG1hcDogdGhpcy5jb250ZXh0XG4gICAgfSkpO1xuICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRlLFxuICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGUsXG4gICAgICBwcmV2UHJvcHM6IHt9LFxuICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgaW5zdGFuY2U6IGhlYXRtYXBMYXllclxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0SGVhdG1hcExheWVyKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVhdG1hcExheWVyOiBoZWF0bWFwTGF5ZXJcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRIZWF0bWFwTGF5ZXJDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGUsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAkZSxcbiAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgbmV4dFByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUuaGVhdG1hcExheWVyXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGVhdG1hcExheWVyICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5oZWF0bWFwTGF5ZXIpO1xuICAgICAgfVxuXG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnN0YXRlLmhlYXRtYXBMYXllci5zZXRNYXAobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEhlYXRtYXBMYXllcjtcbn0oUHVyZUNvbXBvbmVudCk7XG5IZWF0bWFwTGF5ZXIuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgZXZlbnRNYXAkZiA9IHtcbiAgb25DbG9zZUNsaWNrOiAnY2xvc2VjbGljaycsXG4gIG9uUGFub0NoYW5nZWQ6ICdwYW5vX2NoYW5nZWQnLFxuICBvblBvc2l0aW9uQ2hhbmdlZDogJ3Bvc2l0aW9uX2NoYW5nZWQnLFxuICBvblBvdkNoYW5nZWQ6ICdwb3ZfY2hhbmdlZCcsXG4gIG9uUmVzaXplOiAncmVzaXplJyxcbiAgb25TdGF0dXNDaGFuZ2VkOiAnc3RhdHVzX2NoYW5nZWQnLFxuICBvblZpc2libGVDaGFuZ2VkOiAndmlzaWJsZV9jaGFuZ2VkJyxcbiAgb25ab29tQ2hhbmdlZDogJ3pvb21fY2hhbmdlZCdcbn07XG52YXIgdXBkYXRlck1hcCRmID0ge1xuICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoaW5zdGFuY2UsIHByb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgaW5zdGFuY2UucmVnaXN0ZXJQYW5vUHJvdmlkZXIocHJvdmlkZXIsIG9wdGlvbnMpO1xuICB9LFxuICBsaW5rczogZnVuY3Rpb24gbGlua3MoaW5zdGFuY2UsIF9saW5rcykge1xuICAgIGluc3RhbmNlLnNldExpbmtzKF9saW5rcyk7XG4gIH0sXG4gIG1vdGlvblRyYWNraW5nOiBmdW5jdGlvbiBtb3Rpb25UcmFja2luZyhpbnN0YW5jZSwgX21vdGlvblRyYWNraW5nKSB7XG4gICAgaW5zdGFuY2Uuc2V0TW90aW9uVHJhY2tpbmcoX21vdGlvblRyYWNraW5nKTtcbiAgfSxcbiAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhpbnN0YW5jZSwgX29wdGlvbnMpIHtcbiAgICBpbnN0YW5jZS5zZXRPcHRpb25zKF9vcHRpb25zKTtcbiAgfSxcbiAgcGFubzogZnVuY3Rpb24gcGFubyhpbnN0YW5jZSwgX3Bhbm8pIHtcbiAgICBpbnN0YW5jZS5zZXRQYW5vKF9wYW5vKTtcbiAgfSxcbiAgcG9zaXRpb246IGZ1bmN0aW9uIHBvc2l0aW9uKGluc3RhbmNlLCBfcG9zaXRpb24pIHtcbiAgICBpbnN0YW5jZS5zZXRQb3NpdGlvbihfcG9zaXRpb24pO1xuICB9LFxuICBwb3Y6IGZ1bmN0aW9uIHBvdihpbnN0YW5jZSwgX3Bvdikge1xuICAgIGluc3RhbmNlLnNldFBvdihfcG92KTtcbiAgfSxcbiAgdmlzaWJsZTogZnVuY3Rpb24gdmlzaWJsZShpbnN0YW5jZSwgX3Zpc2libGUpIHtcbiAgICBpbnN0YW5jZS5zZXRWaXNpYmxlKF92aXNpYmxlKTtcbiAgfSxcbiAgem9vbTogZnVuY3Rpb24gem9vbShpbnN0YW5jZSwgX3pvb20pIHtcbiAgICBpbnN0YW5jZS5zZXRab29tKF96b29tKTtcbiAgfVxufTtcbnZhciBTdHJlZXRWaWV3UGFub3JhbWEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFN0cmVldFZpZXdQYW5vcmFtYSwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN0cmVldFZpZXdQYW5vcmFtYSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzdHJlZXRWaWV3UGFub3JhbWE6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0U3RyZWV0Vmlld1Bhbm9yYW1hQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuc3RyZWV0Vmlld1Bhbm9yYW1hICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkxvYWQoX3RoaXMuc3RhdGUuc3RyZWV0Vmlld1Bhbm9yYW1hKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN0cmVldFZpZXdQYW5vcmFtYS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIHN0cmVldFZpZXdQYW5vcmFtYSA9IHRoaXMuY29udGV4dC5nZXRTdHJlZXRWaWV3KCk7XG4gICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGYsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAkZixcbiAgICAgIHByZXZQcm9wczoge30sXG4gICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICBpbnN0YW5jZTogc3RyZWV0Vmlld1Bhbm9yYW1hXG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXRTdHJlZXRWaWV3UGFub3JhbWEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHJlZXRWaWV3UGFub3JhbWE6IHN0cmVldFZpZXdQYW5vcmFtYVxuICAgICAgfTtcbiAgICB9LCB0aGlzLnNldFN0cmVldFZpZXdQYW5vcmFtYUNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLnN0cmVldFZpZXdQYW5vcmFtYSAhPT0gbnVsbCkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkZixcbiAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGYsXG4gICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLnN0cmVldFZpZXdQYW5vcmFtYVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnN0cmVldFZpZXdQYW5vcmFtYSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuc3RyZWV0Vmlld1Bhbm9yYW1hKTtcbiAgICAgIH1cblxuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5zdGF0ZS5zdHJlZXRWaWV3UGFub3JhbWEuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFN0cmVldFZpZXdQYW5vcmFtYTtcbn0oUHVyZUNvbXBvbmVudCk7XG5TdHJlZXRWaWV3UGFub3JhbWEuY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgU3RyZWV0Vmlld1NlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFN0cmVldFZpZXdTZXJ2aWNlLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3RyZWV0Vmlld1NlcnZpY2UoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzdHJlZXRWaWV3U2VydmljZTogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRTdHJlZXRWaWV3U2VydmljZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLnN0cmVldFZpZXdTZXJ2aWNlICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkxvYWQoX3RoaXMuc3RhdGUuc3RyZWV0Vmlld1NlcnZpY2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU3RyZWV0Vmlld1NlcnZpY2UucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBzdHJlZXRWaWV3U2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5TdHJlZXRWaWV3U2VydmljZSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0U3RyZWV0Vmlld1NlcnZpY2UoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHJlZXRWaWV3U2VydmljZTogc3RyZWV0Vmlld1NlcnZpY2VcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXRTdHJlZXRWaWV3U2VydmljZUNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zdHJlZXRWaWV3U2VydmljZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuc3RyZWV0Vmlld1NlcnZpY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBTdHJlZXRWaWV3U2VydmljZTtcbn0oUHVyZUNvbXBvbmVudCk7XG5TdHJlZXRWaWV3U2VydmljZS5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbnZhciBEaXJlY3Rpb25zU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoRGlyZWN0aW9uc1NlcnZpY2UsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEaXJlY3Rpb25zU2VydmljZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRpcmVjdGlvbnNTZXJ2aWNlOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLnNldERpcmVjdGlvbnNTZXJ2aWNlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2UgIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5kaXJlY3Rpb25zU2VydmljZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBEaXJlY3Rpb25zU2VydmljZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgISEhdGhpcy5wcm9wcy5vcHRpb25zID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRGlyZWN0aW9uc1NlcnZpY2UgZXhwZWN0ZWQgb3B0aW9ucyBvYmplY3QgYXMgcGFyYW1ldGVyLCBidXQgZ290ICVzJywgdGhpcy5wcm9wcy5vcHRpb25zKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGRpcmVjdGlvbnNTZXJ2aWNlID0gbmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTZXJ2aWNlKCk7XG4gICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXREaXJlY3Rpb25zU2VydmljZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpcmVjdGlvbnNTZXJ2aWNlOiBkaXJlY3Rpb25zU2VydmljZVxuICAgICAgfTtcbiAgICB9LCB0aGlzLnNldERpcmVjdGlvbnNTZXJ2aWNlQ2FsbGJhY2spO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2UgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2Uucm91dGUodGhpcy5wcm9wcy5vcHRpb25zLCB0aGlzLnByb3BzLmNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZGlyZWN0aW9uc1NlcnZpY2UgIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uVW5tb3VudCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnN0YXRlLmRpcmVjdGlvbnNTZXJ2aWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIERpcmVjdGlvbnNTZXJ2aWNlO1xufShQdXJlQ29tcG9uZW50KTtcblxudmFyIGV2ZW50TWFwJGcgPSB7XG4gIG9uRGlyZWN0aW9uc0NoYW5nZWQ6ICdkaXJlY3Rpb25zX2NoYW5nZWQnXG59O1xudmFyIHVwZGF0ZXJNYXAkZyA9IHtcbiAgZGlyZWN0aW9uczogZnVuY3Rpb24gZGlyZWN0aW9ucyhpbnN0YW5jZSwgX2RpcmVjdGlvbnMpIHtcbiAgICBpbnN0YW5jZS5zZXREaXJlY3Rpb25zKF9kaXJlY3Rpb25zKTtcbiAgfSxcbiAgbWFwOiBmdW5jdGlvbiBtYXAoaW5zdGFuY2UsIF9tYXApIHtcbiAgICBpbnN0YW5jZS5zZXRNYXAoX21hcCk7XG4gIH0sXG4gIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoaW5zdGFuY2UsIF9vcHRpb25zKSB7XG4gICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhfb3B0aW9ucyk7XG4gIH0sXG4gIHBhbmVsOiBmdW5jdGlvbiBwYW5lbChpbnN0YW5jZSwgX3BhbmVsKSB7XG4gICAgaW5zdGFuY2Uuc2V0UGFuZWwoX3BhbmVsKTtcbiAgfSxcbiAgcm91dGVJbmRleDogZnVuY3Rpb24gcm91dGVJbmRleChpbnN0YW5jZSwgX3JvdXRlSW5kZXgpIHtcbiAgICBpbnN0YW5jZS5zZXRSb3V0ZUluZGV4KF9yb3V0ZUluZGV4KTtcbiAgfVxufTtcbnZhciBEaXJlY3Rpb25zUmVuZGVyZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKERpcmVjdGlvbnNSZW5kZXJlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERpcmVjdGlvbnNSZW5kZXJlcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkaXJlY3Rpb25zUmVuZGVyZXI6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0RGlyZWN0aW9uc1JlbmRlcmVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuZGlyZWN0aW9uc1JlbmRlcmVyICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLnN0YXRlLmRpcmVjdGlvbnNSZW5kZXJlci5zZXRNYXAoX3RoaXMuY29udGV4dCk7XG5cbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5kaXJlY3Rpb25zUmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBEaXJlY3Rpb25zUmVuZGVyZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBkaXJlY3Rpb25zUmVuZGVyZXIgPSBuZXcgZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1JlbmRlcmVyKHRoaXMucHJvcHMub3B0aW9ucyk7XG4gICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGcsXG4gICAgICBldmVudE1hcDogZXZlbnRNYXAkZyxcbiAgICAgIHByZXZQcm9wczoge30sXG4gICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICBpbnN0YW5jZTogZGlyZWN0aW9uc1JlbmRlcmVyXG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXREaXJlY3Rpb25zUmVuZGVyZXIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkaXJlY3Rpb25zUmVuZGVyZXI6IGRpcmVjdGlvbnNSZW5kZXJlclxuICAgICAgfTtcbiAgICB9LCB0aGlzLnNldERpcmVjdGlvbnNSZW5kZXJlckNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmRpcmVjdGlvbnNSZW5kZXJlciAhPT0gbnVsbCkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkZyxcbiAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGcsXG4gICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmRpcmVjdGlvbnNSZW5kZXJlclxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmRpcmVjdGlvbnNSZW5kZXJlciAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuZGlyZWN0aW9uc1JlbmRlcmVyKTtcbiAgICAgIH1cblxuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kaXJlY3Rpb25zUmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5kaXJlY3Rpb25zUmVuZGVyZXIuc2V0TWFwKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsKTtcbiAgfTtcblxuICByZXR1cm4gRGlyZWN0aW9uc1JlbmRlcmVyO1xufShQdXJlQ29tcG9uZW50KTtcbkRpcmVjdGlvbnNSZW5kZXJlci5jb250ZXh0VHlwZSA9IE1hcENvbnRleHQ7XG5cbnZhciBEaXN0YW5jZU1hdHJpeFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKERpc3RhbmNlTWF0cml4U2VydmljZSwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERpc3RhbmNlTWF0cml4U2VydmljZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRpc3RhbmNlTWF0cml4U2VydmljZTogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5zZXREaXN0YW5jZU1hdHJpeFNlcnZpY2VDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5kaXN0YW5jZU1hdHJpeFNlcnZpY2UgIT09IG51bGwgJiYgX3RoaXMucHJvcHMub25Mb2FkKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTG9hZChfdGhpcy5zdGF0ZS5kaXN0YW5jZU1hdHJpeFNlcnZpY2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gRGlzdGFuY2VNYXRyaXhTZXJ2aWNlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAhISF0aGlzLnByb3BzLm9wdGlvbnMgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXN0YW5jZU1hdHJpeFNlcnZpY2UgZXhwZWN0ZWQgb3B0aW9ucyBvYmplY3QgYXMgcGFyYW1ldGVyLCBidXQgZ28gJXMnLCB0aGlzLnByb3BzLm9wdGlvbnMpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgZGlzdGFuY2VNYXRyaXhTZXJ2aWNlID0gbmV3IGdvb2dsZS5tYXBzLkRpc3RhbmNlTWF0cml4U2VydmljZSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gc2V0RGlzdGFuY2VNYXRyaXhTZXJ2aWNlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGlzdGFuY2VNYXRyaXhTZXJ2aWNlOiBkaXN0YW5jZU1hdHJpeFNlcnZpY2VcbiAgICAgIH07XG4gICAgfSwgdGhpcy5zZXREaXN0YW5jZU1hdHJpeFNlcnZpY2VDYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXN0YW5jZU1hdHJpeFNlcnZpY2UgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RhdGUuZGlzdGFuY2VNYXRyaXhTZXJ2aWNlLmdldERpc3RhbmNlTWF0cml4KHRoaXMucHJvcHMub3B0aW9ucywgdGhpcy5wcm9wcy5jYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmRpc3RhbmNlTWF0cml4U2VydmljZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMuc3RhdGUuZGlzdGFuY2VNYXRyaXhTZXJ2aWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIERpc3RhbmNlTWF0cml4U2VydmljZTtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbnZhciBldmVudE1hcCRoID0ge1xuICBvblBsYWNlc0NoYW5nZWQ6ICdwbGFjZXNfY2hhbmdlZCdcbn07XG52YXIgdXBkYXRlck1hcCRoID0ge1xuICBib3VuZHM6IGZ1bmN0aW9uIGJvdW5kcyhpbnN0YW5jZSwgX2JvdW5kcykge1xuICAgIGluc3RhbmNlLnNldEJvdW5kcyhfYm91bmRzKTtcbiAgfVxufTtcblxudmFyIFN0YW5kYWxvbmVTZWFyY2hCb3ggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFN0YW5kYWxvbmVTZWFyY2hCb3gsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTdGFuZGFsb25lU2VhcmNoQm94KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICBfdGhpcy5jb250YWluZXJFbGVtZW50ID0gY3JlYXRlUmVmKCk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzZWFyY2hCb3g6IG51bGxcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0U2VhcmNoQm94Q2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuc2VhcmNoQm94ICE9PSBudWxsICYmIF90aGlzLnByb3BzLm9uTG9hZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkxvYWQoX3RoaXMuc3RhdGUuc2VhcmNoQm94KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN0YW5kYWxvbmVTZWFyY2hCb3gucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICEhIWdvb2dsZS5tYXBzLnBsYWNlcyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1lvdSBuZWVkIHRvIHByb3ZpZGUgbGlicmFyaWVzPXtbXCJwbGFjZXNcIl19IHByb3AgdG8gPExvYWRTY3JpcHQgLz4gY29tcG9uZW50ICVzJywgZ29vZ2xlLm1hcHMucGxhY2VzKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICBpZiAodGhpcy5jb250YWluZXJFbGVtZW50ICE9PSBudWxsICYmIHRoaXMuY29udGFpbmVyRWxlbWVudC5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLmNvbnRhaW5lckVsZW1lbnQuY3VycmVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXG4gICAgICBpZiAoaW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHNlYXJjaEJveCA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuU2VhcmNoQm94KGlucHV0LCB0aGlzLnByb3BzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgICB1cGRhdGVyTWFwOiB1cGRhdGVyTWFwJGgsXG4gICAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGgsXG4gICAgICAgICAgcHJldlByb3BzOiB7fSxcbiAgICAgICAgICBuZXh0UHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgICAgaW5zdGFuY2U6IHNlYXJjaEJveFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiBzZXRTZWFyY2hCb3goKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlYXJjaEJveDogc2VhcmNoQm94XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgdGhpcy5zZXRTZWFyY2hCb3hDYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoQm94ICE9PSBudWxsKSB7XG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBhcHBseVVwZGF0ZXJzVG9Qcm9wc0FuZFJlZ2lzdGVyRXZlbnRzKHtcbiAgICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRoLFxuICAgICAgICBldmVudE1hcDogZXZlbnRNYXAkaCxcbiAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuc3RhdGUuc2VhcmNoQm94XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoQm94ICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5zdGF0ZS5zZWFyY2hCb3gpO1xuICAgICAgfVxuXG4gICAgICB1bnJlZ2lzdGVyRXZlbnRzKHRoaXMucmVnaXN0ZXJlZEV2ZW50cyk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiB0aGlzLmNvbnRhaW5lckVsZW1lbnRcbiAgICB9LCBDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pKTtcbiAgfTtcblxuICByZXR1cm4gU3RhbmRhbG9uZVNlYXJjaEJveDtcbn0oUHVyZUNvbXBvbmVudCk7XG5cblN0YW5kYWxvbmVTZWFyY2hCb3guY29udGV4dFR5cGUgPSBNYXBDb250ZXh0O1xuXG52YXIgZXZlbnRNYXAkaSA9IHtcbiAgb25QbGFjZUNoYW5nZWQ6ICdwbGFjZV9jaGFuZ2VkJ1xufTtcbnZhciB1cGRhdGVyTWFwJGkgPSB7XG4gIGJvdW5kczogZnVuY3Rpb24gYm91bmRzKGluc3RhbmNlLCBfYm91bmRzKSB7XG4gICAgaW5zdGFuY2Uuc2V0Qm91bmRzKF9ib3VuZHMpO1xuICB9LFxuICByZXN0cmljdGlvbnM6IGZ1bmN0aW9uIHJlc3RyaWN0aW9ucyhpbnN0YW5jZSwgX3Jlc3RyaWN0aW9ucykge1xuICAgIGluc3RhbmNlLnNldENvbXBvbmVudFJlc3RyaWN0aW9ucyhfcmVzdHJpY3Rpb25zKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbiBmaWVsZHMoaW5zdGFuY2UsIF9maWVsZHMpIHtcbiAgICBpbnN0YW5jZS5zZXRGaWVsZHMoX2ZpZWxkcyk7XG4gIH0sXG4gIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoaW5zdGFuY2UsIF9vcHRpb25zKSB7XG4gICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhfb3B0aW9ucyk7XG4gIH0sXG4gIHR5cGVzOiBmdW5jdGlvbiB0eXBlcyhpbnN0YW5jZSwgX3R5cGVzKSB7XG4gICAgaW5zdGFuY2Uuc2V0VHlwZXMoX3R5cGVzKTtcbiAgfVxufTtcbnZhciBBdXRvY29tcGxldGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEF1dG9jb21wbGV0ZSwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEF1dG9jb21wbGV0ZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gW107XG4gICAgX3RoaXMuY29udGFpbmVyRWxlbWVudCA9IGNyZWF0ZVJlZigpO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgYXV0b2NvbXBsZXRlOiBudWxsXG4gICAgfTtcblxuICAgIF90aGlzLnNldEF1dG9jb21wbGV0ZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmF1dG9jb21wbGV0ZSAhPT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5vbkxvYWQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Mb2FkKF90aGlzLnN0YXRlLmF1dG9jb21wbGV0ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBBdXRvY29tcGxldGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICEhIWdvb2dsZS5tYXBzLnBsYWNlcyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1lvdSBuZWVkIHRvIHByb3ZpZGUgbGlicmFyaWVzPXtbXCJwbGFjZXNcIl19IHByb3AgdG8gPExvYWRTY3JpcHQgLz4gY29tcG9uZW50ICVzJywgZ29vZ2xlLm1hcHMucGxhY2VzKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7IC8vIFRPRE86IHdoeSBjdXJyZW50IGNvdWxkIGJlIGVxdWFsIG51bGw/XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuXG4gICAgdmFyIGlucHV0ID0gdGhpcy5jb250YWluZXJFbGVtZW50LmN1cnJlbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcblxuICAgIGlmIChpbnB1dCkge1xuICAgICAgdmFyIGF1dG9jb21wbGV0ZSA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlKGlucHV0LCB0aGlzLnByb3BzLm9wdGlvbnMpO1xuICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzID0gYXBwbHlVcGRhdGVyc1RvUHJvcHNBbmRSZWdpc3RlckV2ZW50cyh7XG4gICAgICAgIHVwZGF0ZXJNYXA6IHVwZGF0ZXJNYXAkaSxcbiAgICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGksXG4gICAgICAgIHByZXZQcm9wczoge30sXG4gICAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgaW5zdGFuY2U6IGF1dG9jb21wbGV0ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIHNldEF1dG9jb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhdXRvY29tcGxldGU6IGF1dG9jb21wbGV0ZVxuICAgICAgICB9O1xuICAgICAgfSwgdGhpcy5zZXRBdXRvY29tcGxldGVDYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cyA9IGFwcGx5VXBkYXRlcnNUb1Byb3BzQW5kUmVnaXN0ZXJFdmVudHMoe1xuICAgICAgdXBkYXRlck1hcDogdXBkYXRlck1hcCRpLFxuICAgICAgZXZlbnRNYXA6IGV2ZW50TWFwJGksXG4gICAgICBwcmV2UHJvcHM6IHByZXZQcm9wcyxcbiAgICAgIG5leHRQcm9wczogdGhpcy5wcm9wcyxcbiAgICAgIGluc3RhbmNlOiB0aGlzLnN0YXRlLmF1dG9jb21wbGV0ZVxuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmF1dG9jb21wbGV0ZSAhPT0gbnVsbCkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50cyh0aGlzLnJlZ2lzdGVyZWRFdmVudHMpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogdGhpcy5jb250YWluZXJFbGVtZW50LFxuICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJ1xuICAgIH0sIENoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbikpO1xuICB9O1xuXG4gIHJldHVybiBBdXRvY29tcGxldGU7XG59KFB1cmVDb21wb25lbnQpO1xuQXV0b2NvbXBsZXRlLmNvbnRleHRUeXBlID0gTWFwQ29udGV4dDtcblxuZXhwb3J0IHsgQXV0b2NvbXBsZXRlLCBCaWN5Y2xpbmdMYXllciwgQ2lyY2xlLCBEYXRhLCBEaXJlY3Rpb25zUmVuZGVyZXIsIERpcmVjdGlvbnNTZXJ2aWNlLCBEaXN0YW5jZU1hdHJpeFNlcnZpY2UsIERyYXdpbmdNYW5hZ2VyLCBHb29nbGVNYXAsIEdyb3VuZE92ZXJsYXksIEhlYXRtYXBMYXllciwgSW5mb0JveENvbXBvbmVudCBhcyBJbmZvQm94LCBJbmZvV2luZG93LCBLbWxMYXllciwgTG9hZFNjcmlwdCwgTG9hZFNjcmlwdE5leHQkMSBhcyBMb2FkU2NyaXB0TmV4dCwgTWFwQ29udGV4dCwgTWFya2VyLCBDbHVzdGVyZXJDb21wb25lbnQgYXMgTWFya2VyQ2x1c3RlcmVyLCBPdmVybGF5VmlldywgUG9seWdvbiwgUG9seWxpbmUsIFJlY3RhbmdsZSwgU3RhbmRhbG9uZVNlYXJjaEJveCwgU3RyZWV0Vmlld1Bhbm9yYW1hLCBTdHJlZXRWaWV3U2VydmljZSwgVHJhZmZpY0xheWVyLCBUcmFuc2l0TGF5ZXIsIHVzZUdvb2dsZU1hcCwgdXNlSnNBcGlMb2FkZXIsIHVzZUxvYWRTY3JpcHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0Z29vZ2xlbWFwc2FwaS5lc20uanMubWFwXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AcmVhY3QtZ29vZ2xlLW1hcHMvYXBpL2Rpc3QvcmVhY3Rnb29nbGVtYXBzYXBpLmVzbS5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! dynamic exports provided */
/*! exports used: Children, Fragment, PureComponent, cloneElement, createContext, createElement, createRef, isValidElement, memo, useContext, useEffect, useMemo, useRef, useState */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),
/* 10 */
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! dynamic exports provided */
/*! exports used: default */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../process/browser.js */ 0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanM/NzJiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/*!******************************************************************!*\
  !*** ./node_modules/@googlemaps/js-api-loader/dist/index.esm.js ***!
  \******************************************************************/
/*! exports provided: DEFAULT_ID, Loader */
/*! exports used: Loader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* unused harmony export DEFAULT_ID */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Loader; });\n// do not edit .js files directly - edit src/index.jst\n\n\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n\n/**\r\n * Copyright 2019 Google LLC. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at.\r\n *\r\n *      Http://www.apache.org/licenses/LICENSE-2.0.\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DEFAULT_ID = \"__googleMapsScriptId\";\r\n/**\r\n * [[Loader]] makes it easier to add Google Maps JavaScript API to your application\r\n * dynamically using\r\n * [Promises](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise).\r\n * It works by dynamically creating and appending a script node to the the\r\n * document head and wrapping the callback function so as to return a promise.\r\n *\r\n * ```\r\n * const loader = new Loader({\r\n *   apiKey: \"\",\r\n *   version: \"weekly\",\r\n *   libraries: [\"places\"]\r\n * });\r\n *\r\n * loader.load().then(() => {\r\n *   const map = new google.maps.Map(...)\r\n * })\r\n * ```\r\n */\r\nclass Loader {\r\n    /**\r\n     * Creates an instance of Loader using [[LoaderOptions]]. No defaults are set\r\n     * using this library, instead the defaults are set by the Google Maps\r\n     * JavaScript API server.\r\n     *\r\n     * ```\r\n     * const loader = Loader({apiKey, version: 'weekly', libraries: ['places']});\r\n     * ```\r\n     */\r\n    constructor({ apiKey, channel, client, id = DEFAULT_ID, libraries = [], language, region, version, mapIds, nonce, retries = 3, url = \"https://maps.googleapis.com/maps/api/js\", }) {\r\n        this.CALLBACK = \"__googleMapsCallback\";\r\n        this.callbacks = [];\r\n        this.done = false;\r\n        this.loading = false;\r\n        this.errors = [];\r\n        this.version = version;\r\n        this.apiKey = apiKey;\r\n        this.channel = channel;\r\n        this.client = client;\r\n        this.id = id || DEFAULT_ID; // Do not allow empty string\r\n        this.libraries = libraries;\r\n        this.language = language;\r\n        this.region = region;\r\n        this.mapIds = mapIds;\r\n        this.nonce = nonce;\r\n        this.retries = retries;\r\n        this.url = url;\r\n        if (Loader.instance) {\r\n            if (!fastDeepEqual(this.options, Loader.instance.options)) {\r\n                throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Loader.instance.options)}`);\r\n            }\r\n            return Loader.instance;\r\n        }\r\n        Loader.instance = this;\r\n    }\r\n    get options() {\r\n        return {\r\n            version: this.version,\r\n            apiKey: this.apiKey,\r\n            channel: this.channel,\r\n            client: this.client,\r\n            id: this.id,\r\n            libraries: this.libraries,\r\n            language: this.language,\r\n            region: this.region,\r\n            mapIds: this.mapIds,\r\n            nonce: this.nonce,\r\n            url: this.url,\r\n        };\r\n    }\r\n    get failed() {\r\n        return this.done && !this.loading && this.errors.length >= this.retries + 1;\r\n    }\r\n    /**\r\n     * CreateUrl returns the Google Maps JavaScript API script url given the [[LoaderOptions]].\r\n     *\r\n     * @ignore\r\n     */\r\n    createUrl() {\r\n        let url = this.url;\r\n        url += `?callback=${this.CALLBACK}`;\r\n        if (this.apiKey) {\r\n            url += `&key=${this.apiKey}`;\r\n        }\r\n        if (this.channel) {\r\n            url += `&channel=${this.channel}`;\r\n        }\r\n        if (this.client) {\r\n            url += `&client=${this.client}`;\r\n        }\r\n        if (this.libraries.length > 0) {\r\n            url += `&libraries=${this.libraries.join(\",\")}`;\r\n        }\r\n        if (this.language) {\r\n            url += `&language=${this.language}`;\r\n        }\r\n        if (this.region) {\r\n            url += `&region=${this.region}`;\r\n        }\r\n        if (this.version) {\r\n            url += `&v=${this.version}`;\r\n        }\r\n        if (this.mapIds) {\r\n            url += `&map_ids=${this.mapIds.join(\",\")}`;\r\n        }\r\n        return url;\r\n    }\r\n    /**\r\n     * Load the Google Maps JavaScript API script and return a Promise.\r\n     */\r\n    load() {\r\n        return this.loadPromise();\r\n    }\r\n    /**\r\n     * Load the Google Maps JavaScript API script and return a Promise.\r\n     *\r\n     * @ignore\r\n     */\r\n    loadPromise() {\r\n        return new Promise((resolve, reject) => {\r\n            this.loadCallback((err) => {\r\n                if (!err) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(err);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Load the Google Maps JavaScript API script with a callback.\r\n     */\r\n    loadCallback(fn) {\r\n        this.callbacks.push(fn);\r\n        this.execute();\r\n    }\r\n    /**\r\n     * Set the script on document.\r\n     */\r\n    setScript() {\r\n        if (document.getElementById(this.id)) {\r\n            // TODO wrap onerror callback for cases where the script was loaded elsewhere\r\n            this.callback();\r\n            return;\r\n        }\r\n        const url = this.createUrl();\r\n        const script = document.createElement(\"script\");\r\n        script.id = this.id;\r\n        script.type = \"text/javascript\";\r\n        script.src = url;\r\n        script.onerror = this.loadErrorCallback.bind(this);\r\n        script.defer = true;\r\n        script.async = true;\r\n        if (this.nonce) {\r\n            script.nonce = this.nonce;\r\n        }\r\n        document.head.appendChild(script);\r\n    }\r\n    deleteScript() {\r\n        const script = document.getElementById(this.id);\r\n        if (script) {\r\n            script.remove();\r\n        }\r\n    }\r\n    /**\r\n     * Reset the loader state.\r\n     */\r\n    reset() {\r\n        this.deleteScript();\r\n        this.done = false;\r\n        this.loading = false;\r\n        this.errors = [];\r\n        this.onerrorEvent = null;\r\n    }\r\n    resetIfRetryingFailed() {\r\n        if (this.failed) {\r\n            this.reset();\r\n        }\r\n    }\r\n    loadErrorCallback(e) {\r\n        this.errors.push(e);\r\n        if (this.errors.length <= this.retries) {\r\n            const delay = this.errors.length * Math.pow(2, this.errors.length);\r\n            console.log(`Failed to load Google Maps script, retrying in ${delay} ms.`);\r\n            setTimeout(() => {\r\n                this.deleteScript();\r\n                this.setScript();\r\n            }, delay);\r\n        }\r\n        else {\r\n            this.onerrorEvent = e;\r\n            this.callback();\r\n        }\r\n    }\r\n    setCallback() {\r\n        window.__googleMapsCallback = this.callback.bind(this);\r\n    }\r\n    callback() {\r\n        this.done = true;\r\n        this.loading = false;\r\n        this.callbacks.forEach((cb) => {\r\n            cb(this.onerrorEvent);\r\n        });\r\n        this.callbacks = [];\r\n    }\r\n    execute() {\r\n        this.resetIfRetryingFailed();\r\n        if (this.done) {\r\n            this.callback();\r\n        }\r\n        else {\r\n            // short circuit and warn if google.maps is already loaded\r\n            if (window.google && window.google.maps && window.google.maps.version) {\r\n                console.warn(\"Google Maps already loaded outside @googlemaps/js-api-loader.\" +\r\n                    \"This may result in undesirable behavior as options and script parameters may not match.\");\r\n                this.callback();\r\n                return;\r\n            }\r\n            if (this.loading) ;\r\n            else {\r\n                this.loading = true;\r\n                this.setCallback();\r\n                this.setScript();\r\n            }\r\n        }\r\n    }\r\n}\n\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGdvb2dsZW1hcHMvanMtYXBpLWxvYWRlci9kaXN0L2luZGV4LmVzbS5qcz8yMzA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGRvIG5vdCBlZGl0IC5qcyBmaWxlcyBkaXJlY3RseSAtIGVkaXQgc3JjL2luZGV4LmpzdFxuXG5cblxudmFyIGZhc3REZWVwRXF1YWwgPSBmdW5jdGlvbiBlcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09ICdvYmplY3QnICYmIHR5cGVvZiBiID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBsZW5ndGgsIGksIGtleXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICBpZiAoYS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghZXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB0cnVlIGlmIGJvdGggTmFOLCBmYWxzZSBvdGhlcndpc2VcbiAgcmV0dXJuIGEhPT1hICYmIGIhPT1iO1xufTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0LlxyXG4gKlxyXG4gKiAgICAgIEh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMC5cclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgREVGQVVMVF9JRCA9IFwiX19nb29nbGVNYXBzU2NyaXB0SWRcIjtcclxuLyoqXHJcbiAqIFtbTG9hZGVyXV0gbWFrZXMgaXQgZWFzaWVyIHRvIGFkZCBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSSB0byB5b3VyIGFwcGxpY2F0aW9uXHJcbiAqIGR5bmFtaWNhbGx5IHVzaW5nXHJcbiAqIFtQcm9taXNlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZSkuXHJcbiAqIEl0IHdvcmtzIGJ5IGR5bmFtaWNhbGx5IGNyZWF0aW5nIGFuZCBhcHBlbmRpbmcgYSBzY3JpcHQgbm9kZSB0byB0aGUgdGhlXHJcbiAqIGRvY3VtZW50IGhlYWQgYW5kIHdyYXBwaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBzbyBhcyB0byByZXR1cm4gYSBwcm9taXNlLlxyXG4gKlxyXG4gKiBgYGBcclxuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcih7XHJcbiAqICAgYXBpS2V5OiBcIlwiLFxyXG4gKiAgIHZlcnNpb246IFwid2Vla2x5XCIsXHJcbiAqICAgbGlicmFyaWVzOiBbXCJwbGFjZXNcIl1cclxuICogfSk7XHJcbiAqXHJcbiAqIGxvYWRlci5sb2FkKCkudGhlbigoKSA9PiB7XHJcbiAqICAgY29uc3QgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcCguLi4pXHJcbiAqIH0pXHJcbiAqIGBgYFxyXG4gKi9cclxuY2xhc3MgTG9hZGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBMb2FkZXIgdXNpbmcgW1tMb2FkZXJPcHRpb25zXV0uIE5vIGRlZmF1bHRzIGFyZSBzZXRcclxuICAgICAqIHVzaW5nIHRoaXMgbGlicmFyeSwgaW5zdGVhZCB0aGUgZGVmYXVsdHMgYXJlIHNldCBieSB0aGUgR29vZ2xlIE1hcHNcclxuICAgICAqIEphdmFTY3JpcHQgQVBJIHNlcnZlci5cclxuICAgICAqXHJcbiAgICAgKiBgYGBcclxuICAgICAqIGNvbnN0IGxvYWRlciA9IExvYWRlcih7YXBpS2V5LCB2ZXJzaW9uOiAnd2Vla2x5JywgbGlicmFyaWVzOiBbJ3BsYWNlcyddfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoeyBhcGlLZXksIGNoYW5uZWwsIGNsaWVudCwgaWQgPSBERUZBVUxUX0lELCBsaWJyYXJpZXMgPSBbXSwgbGFuZ3VhZ2UsIHJlZ2lvbiwgdmVyc2lvbiwgbWFwSWRzLCBub25jZSwgcmV0cmllcyA9IDMsIHVybCA9IFwiaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzXCIsIH0pIHtcclxuICAgICAgICB0aGlzLkNBTExCQUNLID0gXCJfX2dvb2dsZU1hcHNDYWxsYmFja1wiO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XHJcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xyXG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xyXG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XHJcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkIHx8IERFRkFVTFRfSUQ7IC8vIERvIG5vdCBhbGxvdyBlbXB0eSBzdHJpbmdcclxuICAgICAgICB0aGlzLmxpYnJhcmllcyA9IGxpYnJhcmllcztcclxuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XHJcbiAgICAgICAgdGhpcy5yZWdpb24gPSByZWdpb247XHJcbiAgICAgICAgdGhpcy5tYXBJZHMgPSBtYXBJZHM7XHJcbiAgICAgICAgdGhpcy5ub25jZSA9IG5vbmNlO1xyXG4gICAgICAgIHRoaXMucmV0cmllcyA9IHJldHJpZXM7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgaWYgKExvYWRlci5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoIWZhc3REZWVwRXF1YWwodGhpcy5vcHRpb25zLCBMb2FkZXIuaW5zdGFuY2Uub3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTG9hZGVyIG11c3Qgbm90IGJlIGNhbGxlZCBhZ2FpbiB3aXRoIGRpZmZlcmVudCBvcHRpb25zLiAke0pTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucyl9ICE9PSAke0pTT04uc3RyaW5naWZ5KExvYWRlci5pbnN0YW5jZS5vcHRpb25zKX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTG9hZGVyLmluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMb2FkZXIuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0IG9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy52ZXJzaW9uLFxyXG4gICAgICAgICAgICBhcGlLZXk6IHRoaXMuYXBpS2V5LFxyXG4gICAgICAgICAgICBjaGFubmVsOiB0aGlzLmNoYW5uZWwsXHJcbiAgICAgICAgICAgIGNsaWVudDogdGhpcy5jbGllbnQsXHJcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICBsaWJyYXJpZXM6IHRoaXMubGlicmFyaWVzLFxyXG4gICAgICAgICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZSxcclxuICAgICAgICAgICAgcmVnaW9uOiB0aGlzLnJlZ2lvbixcclxuICAgICAgICAgICAgbWFwSWRzOiB0aGlzLm1hcElkcyxcclxuICAgICAgICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXHJcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGdldCBmYWlsZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9uZSAmJiAhdGhpcy5sb2FkaW5nICYmIHRoaXMuZXJyb3JzLmxlbmd0aCA+PSB0aGlzLnJldHJpZXMgKyAxO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVVcmwgcmV0dXJucyB0aGUgR29vZ2xlIE1hcHMgSmF2YVNjcmlwdCBBUEkgc2NyaXB0IHVybCBnaXZlbiB0aGUgW1tMb2FkZXJPcHRpb25zXV0uXHJcbiAgICAgKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVVcmwoKSB7XHJcbiAgICAgICAgbGV0IHVybCA9IHRoaXMudXJsO1xyXG4gICAgICAgIHVybCArPSBgP2NhbGxiYWNrPSR7dGhpcy5DQUxMQkFDS31gO1xyXG4gICAgICAgIGlmICh0aGlzLmFwaUtleSkge1xyXG4gICAgICAgICAgICB1cmwgKz0gYCZrZXk9JHt0aGlzLmFwaUtleX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jaGFubmVsKSB7XHJcbiAgICAgICAgICAgIHVybCArPSBgJmNoYW5uZWw9JHt0aGlzLmNoYW5uZWx9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2xpZW50KSB7XHJcbiAgICAgICAgICAgIHVybCArPSBgJmNsaWVudD0ke3RoaXMuY2xpZW50fWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpYnJhcmllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHVybCArPSBgJmxpYnJhcmllcz0ke3RoaXMubGlicmFyaWVzLmpvaW4oXCIsXCIpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIHVybCArPSBgJmxhbmd1YWdlPSR7dGhpcy5sYW5ndWFnZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZWdpb24pIHtcclxuICAgICAgICAgICAgdXJsICs9IGAmcmVnaW9uPSR7dGhpcy5yZWdpb259YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbikge1xyXG4gICAgICAgICAgICB1cmwgKz0gYCZ2PSR7dGhpcy52ZXJzaW9ufWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1hcElkcykge1xyXG4gICAgICAgICAgICB1cmwgKz0gYCZtYXBfaWRzPSR7dGhpcy5tYXBJZHMuam9pbihcIixcIil9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCB0aGUgR29vZ2xlIE1hcHMgSmF2YVNjcmlwdCBBUEkgc2NyaXB0IGFuZCByZXR1cm4gYSBQcm9taXNlLlxyXG4gICAgICovXHJcbiAgICBsb2FkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRQcm9taXNlKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvYWQgdGhlIEdvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJIHNjcmlwdCBhbmQgcmV0dXJuIGEgUHJvbWlzZS5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGxvYWRQcm9taXNlKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZENhbGxiYWNrKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSSBzY3JpcHQgd2l0aCBhIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBsb2FkQ2FsbGJhY2soZm4pIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGZuKTtcclxuICAgICAgICB0aGlzLmV4ZWN1dGUoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBzY3JpcHQgb24gZG9jdW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldFNjcmlwdCgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyB3cmFwIG9uZXJyb3IgY2FsbGJhY2sgZm9yIGNhc2VzIHdoZXJlIHRoZSBzY3JpcHQgd2FzIGxvYWRlZCBlbHNld2hlcmVcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY3JlYXRlVXJsKCk7XHJcbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuICAgICAgICBzY3JpcHQuaWQgPSB0aGlzLmlkO1xyXG4gICAgICAgIHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xyXG4gICAgICAgIHNjcmlwdC5vbmVycm9yID0gdGhpcy5sb2FkRXJyb3JDYWxsYmFjay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHNjcmlwdC5kZWZlciA9IHRydWU7XHJcbiAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5ub25jZSkge1xyXG4gICAgICAgICAgICBzY3JpcHQubm9uY2UgPSB0aGlzLm5vbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICB9XHJcbiAgICBkZWxldGVTY3JpcHQoKSB7XHJcbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XHJcbiAgICAgICAgaWYgKHNjcmlwdCkge1xyXG4gICAgICAgICAgICBzY3JpcHQucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCB0aGUgbG9hZGVyIHN0YXRlLlxyXG4gICAgICovXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmRlbGV0ZVNjcmlwdCgpO1xyXG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XHJcbiAgICAgICAgdGhpcy5vbmVycm9yRXZlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgcmVzZXRJZlJldHJ5aW5nRmFpbGVkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZhaWxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9hZEVycm9yQ2FsbGJhY2soZSkge1xyXG4gICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZXJyb3JzLmxlbmd0aCA8PSB0aGlzLnJldHJpZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmVycm9ycy5sZW5ndGggKiBNYXRoLnBvdygyLCB0aGlzLmVycm9ycy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRmFpbGVkIHRvIGxvYWQgR29vZ2xlIE1hcHMgc2NyaXB0LCByZXRyeWluZyBpbiAke2RlbGF5fSBtcy5gKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVNjcmlwdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTY3JpcHQoKTtcclxuICAgICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vbmVycm9yRXZlbnQgPSBlO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0Q2FsbGJhY2soKSB7XHJcbiAgICAgICAgd2luZG93Ll9fZ29vZ2xlTWFwc0NhbGxiYWNrID0gdGhpcy5jYWxsYmFjay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2soKSB7XHJcbiAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKChjYikgPT4ge1xyXG4gICAgICAgICAgICBjYih0aGlzLm9uZXJyb3JFdmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcclxuICAgIH1cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldElmUmV0cnlpbmdGYWlsZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5kb25lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNob3J0IGNpcmN1aXQgYW5kIHdhcm4gaWYgZ29vZ2xlLm1hcHMgaXMgYWxyZWFkeSBsb2FkZWRcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5nb29nbGUgJiYgd2luZG93Lmdvb2dsZS5tYXBzICYmIHdpbmRvdy5nb29nbGUubWFwcy52ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJHb29nbGUgTWFwcyBhbHJlYWR5IGxvYWRlZCBvdXRzaWRlIEBnb29nbGVtYXBzL2pzLWFwaS1sb2FkZXIuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiVGhpcyBtYXkgcmVzdWx0IGluIHVuZGVzaXJhYmxlIGJlaGF2aW9yIGFzIG9wdGlvbnMgYW5kIHNjcmlwdCBwYXJhbWV0ZXJzIG1heSBub3QgbWF0Y2guXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIDtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTY3JpcHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBERUZBVUxUX0lELCBMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0Bnb29nbGVtYXBzL2pzLWFwaS1sb2FkZXIvZGlzdC9pbmRleC5lc20uanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/*!**************************************************************************************!*\
  !*** ./node_modules/@react-google-maps/marker-clusterer/dist/markerclusterer.esm.js ***!
  \**************************************************************************************/
/*! exports provided: Cluster, ClusterIcon, Clusterer */
/*! exports used: Clusterer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* unused harmony export Cluster */\n/* unused harmony export ClusterIcon */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Clusterer; });\nvar ClusterIcon = /*#__PURE__*/function () {\n  function ClusterIcon(cluster, styles) {\n    cluster.getClusterer().extend(ClusterIcon, google.maps.OverlayView);\n    this.cluster = cluster;\n    this.className = this.cluster.getClusterer().getClusterClass();\n    this.styles = styles;\n    this.center = undefined;\n    this.div = null;\n    this.sums = null;\n    this.visible = false;\n    this.boundsChangedListener = null;\n    this.url = '';\n    this.height = 0;\n    this.width = 0;\n    this.anchorText = [0, 0];\n    this.anchorIcon = [0, 0];\n    this.textColor = 'black';\n    this.textSize = 11;\n    this.textDecoration = 'none';\n    this.fontWeight = 'bold';\n    this.fontStyle = 'normal';\n    this.fontFamily = 'Arial,sans-serif';\n    this.backgroundPosition = '0 0'; // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n    this.setMap(cluster.getMap()); // Note: this causes onAdd to be called\n  }\n\n  var _proto = ClusterIcon.prototype;\n\n  _proto.onAdd = function onAdd() {\n    var _this = this;\n\n    var cMouseDownInCluster;\n    var cDraggingMapByCluster;\n    this.div = document.createElement('div');\n    this.div.className = this.className;\n\n    if (this.visible) {\n      this.show();\n    } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n\n    this.getPanes().overlayMouseTarget.appendChild(this.div); // Fix for Issue 157\n\n    this.boundsChangedListener = google.maps.event.addListener( // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getMap(), 'boundschanged', function boundsChanged() {\n      cDraggingMapByCluster = cMouseDownInCluster;\n    });\n    google.maps.event.addDomListener(this.div, 'mousedown', function onMouseDown() {\n      cMouseDownInCluster = true;\n      cDraggingMapByCluster = false;\n    }); // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n\n    google.maps.event.addDomListener(this.div, 'click', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    function (event) {\n      cMouseDownInCluster = false;\n\n      if (!cDraggingMapByCluster) {\n        var markerClusterer = _this.cluster.getClusterer();\n        /**\r\n         * This event is fired when a cluster marker is clicked.\r\n         * @name MarkerClusterer#click\r\n         * @param {Cluster} c The cluster that was clicked.\r\n         * @event\r\n         */\n\n\n        google.maps.event.trigger(markerClusterer, 'click', _this.cluster);\n        google.maps.event.trigger(markerClusterer, 'clusterclick', _this.cluster); // deprecated name\n        // The default click handler follows. Disable it by setting\n        // the zoomOnClick property to false.\n\n        if (markerClusterer.getZoomOnClick()) {\n          // Zoom into the cluster.\n          var maxZoom = markerClusterer.getMaxZoom();\n\n          var bounds = _this.cluster.getBounds(); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n\n\n          markerClusterer.getMap().fitBounds(bounds); // There is a fix for Issue 170 here:\n\n          setTimeout(function timeout() {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n            markerClusterer.getMap().fitBounds(bounds); // Don't zoom beyond the max zoom level\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n\n            if (maxZoom !== null && markerClusterer.getMap().getZoom() > maxZoom) {\n              // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n              // @ts-ignore\n              markerClusterer.getMap().setZoom(maxZoom + 1);\n            }\n          }, 100);\n        } // Prevent event propagation to the map:\n\n\n        event.cancelBubble = true;\n\n        if (event.stopPropagation) {\n          event.stopPropagation();\n        }\n      }\n    });\n    google.maps.event.addDomListener(this.div, 'mouseover', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    function () {\n      /**\r\n       * This event is fired when the mouse moves over a cluster marker.\r\n       * @name MarkerClusterer#mouseover\r\n       * @param {Cluster} c The cluster that the mouse moved over.\r\n       * @event\r\n       */\n      google.maps.event.trigger(_this.cluster.getClusterer(), 'mouseover', _this.cluster);\n    }); // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n\n    google.maps.event.addDomListener(this.div, 'mouseout', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    function () {\n      /**\r\n       * This event is fired when the mouse moves out of a cluster marker.\r\n       * @name MarkerClusterer#mouseout\r\n       * @param {Cluster} c The cluster that the mouse moved out of.\r\n       * @event\r\n       */\n      google.maps.event.trigger(_this.cluster.getClusterer(), 'mouseout', _this.cluster);\n    });\n  };\n\n  _proto.onRemove = function onRemove() {\n    if (this.div && this.div.parentNode) {\n      this.hide();\n\n      if (this.boundsChangedListener !== null) {\n        google.maps.event.removeListener(this.boundsChangedListener);\n      }\n\n      google.maps.event.clearInstanceListeners(this.div);\n      this.div.parentNode.removeChild(this.div);\n      this.div = null;\n    }\n  };\n\n  _proto.draw = function draw() {\n    if (this.visible && this.div !== null && this.center) {\n      var _this$getPosFromLatLn = this.getPosFromLatLng(this.center),\n          x = _this$getPosFromLatLn.x,\n          y = _this$getPosFromLatLn.y;\n\n      this.div.style.top = y + 'px';\n      this.div.style.left = x + 'px';\n    }\n  };\n\n  _proto.hide = function hide() {\n    if (this.div) {\n      this.div.style.display = 'none';\n    }\n\n    this.visible = false;\n  };\n\n  _proto.show = function show() {\n    if (this.div && this.center) {\n      var img = '',\n          divTitle = ''; // NOTE: values must be specified in px units\n\n      var bp = this.backgroundPosition.split(' ');\n      var spriteH = parseInt(bp[0].replace(/^\\s+|\\s+$/g, ''), 10);\n      var spriteV = parseInt(bp[1].replace(/^\\s+|\\s+$/g, ''), 10);\n      var pos = this.getPosFromLatLng(this.center);\n\n      if (this.sums === null || typeof this.sums.title === 'undefined' || this.sums.title === '') {\n        divTitle = this.cluster.getClusterer().getTitle();\n      } else {\n        divTitle = this.sums.title;\n      }\n\n      this.div.style.cssText = this.createCss(pos);\n      img = \"<img alt='\" + divTitle + \"' src='\" + this.url + \"' style='position: absolute; top: \" + spriteV + 'px; left: ' + spriteH + 'px; '; // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      //@ts-ignore\n\n      if (!this.cluster.getClusterer().enableRetinaIcons) {\n        img += 'clip: rect(' + -1 * spriteV + 'px, ' + (-1 * spriteH + this.width) + 'px, ' + (-1 * spriteV + this.height) + 'px, ' + -1 * spriteH + 'px);';\n      }\n\n      img += \"'>\";\n      this.div.innerHTML = img + \"<div style='\" + 'position: absolute;' + 'top: ' + this.anchorText[0] + 'px;' + 'left: ' + this.anchorText[1] + 'px;' + 'color: ' + this.textColor + ';' + 'font-size: ' + this.textSize + 'px;' + 'font-family: ' + this.fontFamily + ';' + 'font-weight: ' + this.fontWeight + ';' + 'font-style: ' + this.fontStyle + ';' + 'text-decoration: ' + this.textDecoration + ';' + 'text-align: center;' + 'width: ' + this.width + 'px;' + 'line-height:' + this.height + 'px;' + \"'>\" + // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      this.sums.text + '</div>';\n      this.div.title = divTitle;\n      this.div.style.display = '';\n    }\n\n    this.visible = true;\n  };\n\n  _proto.useStyle = function useStyle(sums) {\n    this.sums = sums;\n    var style = this.styles[Math.min(this.styles.length - 1, Math.max(0, sums.index - 1))];\n    this.url = style.url;\n    this.height = style.height;\n    this.width = style.width;\n    if (style.className) this.className = this.className + \" \" + style.className;\n    this.anchorText = style.anchorText || [0, 0];\n    this.anchorIcon = style.anchorIcon || [this.height / 2, this.width / 2];\n    this.textColor = style.textColor || 'black';\n    this.textSize = style.textSize || 11;\n    this.textDecoration = style.textDecoration || 'none';\n    this.fontWeight = style.fontWeight || 'bold';\n    this.fontStyle = style.fontStyle || 'normal';\n    this.fontFamily = style.fontFamily || 'Arial,sans-serif';\n    this.backgroundPosition = style.backgroundPosition || '0 0';\n  };\n\n  _proto.setCenter = function setCenter(center) {\n    this.center = center;\n  };\n\n  _proto.createCss = function createCss(pos) {\n    var style = [];\n    style.push('cursor: pointer;');\n    style.push('position: absolute; top: ' + pos.y + 'px; left: ' + pos.x + 'px;');\n    style.push('width: ' + this.width + 'px; height: ' + this.height + 'px;');\n    return style.join('');\n  };\n\n  _proto.getPosFromLatLng = function getPosFromLatLng(latlng) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    var pos = this.getProjection().fromLatLngToDivPixel(latlng);\n    pos.x -= this.anchorIcon[1];\n    pos.y -= this.anchorIcon[0]; // pos.x = pos.x\n    // pos.y = pos.y\n\n    return pos;\n  };\n\n  return ClusterIcon;\n}();\n\nvar Cluster = /*#__PURE__*/function () {\n  function Cluster(markerClusterer) {\n    this.markerClusterer = markerClusterer; // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n    this.map = this.markerClusterer.getMap();\n    this.gridSize = this.markerClusterer.getGridSize();\n    this.minClusterSize = this.markerClusterer.getMinimumClusterSize();\n    this.averageCenter = this.markerClusterer.getAverageCenter();\n    this.markers = [];\n    this.center = undefined;\n    this.bounds = null;\n    this.clusterIcon = new ClusterIcon(this, this.markerClusterer.getStyles());\n  }\n\n  var _proto = Cluster.prototype;\n\n  _proto.getSize = function getSize() {\n    return this.markers.length;\n  };\n\n  _proto.getMarkers = function getMarkers() {\n    return this.markers;\n  };\n\n  _proto.getCenter = function getCenter() {\n    return this.center;\n  };\n\n  _proto.getMap = function getMap() {\n    return this.map;\n  };\n\n  _proto.getClusterer = function getClusterer() {\n    return this.markerClusterer;\n  };\n\n  _proto.getBounds = function getBounds() {\n    var bounds = new google.maps.LatLngBounds(this.center, this.center);\n    var markers = this.getMarkers();\n\n    for (var i = 0; i < markers.length; i++) {\n      var position = markers[i].getPosition();\n\n      if (position) {\n        bounds.extend(position);\n      }\n    }\n\n    return bounds;\n  };\n\n  _proto.remove = function remove() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.clusterIcon.setMap(null);\n    this.markers = []; // @ts-ignore\n\n    delete this.markers;\n  };\n\n  _proto.addMarker = function addMarker(marker) {\n    if (this.isMarkerAlreadyAdded(marker)) {\n      return false;\n    }\n\n    if (!this.center) {\n      var position = marker.getPosition();\n\n      if (position) {\n        this.center = position;\n        this.calculateBounds();\n      }\n    } else {\n      if (this.averageCenter) {\n        var _position = marker.getPosition();\n\n        if (_position) {\n          var length = this.markers.length + 1;\n          this.center = new google.maps.LatLng((this.center.lat() * (length - 1) + _position.lat()) / length, (this.center.lng() * (length - 1) + _position.lng()) / length);\n          this.calculateBounds();\n        }\n      }\n    }\n\n    marker.isAdded = true;\n    this.markers.push(marker);\n    var mCount = this.markers.length;\n    var maxZoom = this.markerClusterer.getMaxZoom();\n\n    if (maxZoom !== null && this.map.getZoom() > maxZoom) {\n      // Zoomed in past max zoom, so show the marker.\n      if (marker.getMap() !== this.map) {\n        marker.setMap(this.map);\n      }\n    } else if (mCount < this.minClusterSize) {\n      // Min cluster size not reached so show the marker.\n      if (marker.getMap() !== this.map) {\n        marker.setMap(this.map);\n      }\n    } else if (mCount === this.minClusterSize) {\n      // Hide the markers that were showing.\n      for (var i = 0; i < mCount; i++) {\n        this.markers[i].setMap(null);\n      }\n    } else {\n      marker.setMap(null);\n    }\n\n    return true;\n  };\n\n  _proto.isMarkerInClusterBounds = function isMarkerInClusterBounds(marker) {\n    if (this.bounds !== null) {\n      var position = marker.getPosition();\n\n      if (position) {\n        return this.bounds.contains(position);\n      }\n    }\n\n    return false;\n  };\n\n  _proto.calculateBounds = function calculateBounds() {\n    this.bounds = this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center, this.center));\n  };\n\n  _proto.updateIcon = function updateIcon() {\n    var mCount = this.markers.length;\n    var maxZoom = this.markerClusterer.getMaxZoom();\n\n    if (maxZoom !== null && this.map.getZoom() > maxZoom) {\n      this.clusterIcon.hide();\n      return;\n    }\n\n    if (mCount < this.minClusterSize) {\n      // Min cluster size not yet reached.\n      this.clusterIcon.hide();\n      return;\n    }\n\n    if (this.center) {\n      this.clusterIcon.setCenter(this.center);\n    }\n\n    this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers, this.markerClusterer.getStyles().length));\n    this.clusterIcon.show();\n  };\n\n  _proto.isMarkerAlreadyAdded = function isMarkerAlreadyAdded(marker) {\n    if (this.markers.includes) {\n      return this.markers.includes(marker);\n    } else {\n      for (var i = 0; i < this.markers.length; i++) {\n        if (marker === this.markers[i]) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  return Cluster;\n}();\n\n/* global google */\n/**\r\n * Supports up to 9007199254740991 (Number.MAX_SAFE_INTEGER) markers\r\n * which is not a problem as max array length is 4294967296 (2**32)\r\n */\n\nvar CALCULATOR = function CALCULATOR(markers, numStyles) {\n  var count = markers.length;\n  var numberOfDigits = count.toString().length;\n  var index = Math.min(numberOfDigits, numStyles);\n  return {\n    text: count.toString(),\n    index: index,\n    title: ''\n  };\n};\n\nvar BATCH_SIZE = 2000;\nvar BATCH_SIZE_IE = 500;\nvar IMAGE_PATH = 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m';\nvar IMAGE_EXTENSION = 'png';\nvar IMAGE_SIZES = [53, 56, 66, 78, 90];\nvar CLUSTERER_CLASS = 'cluster';\nvar Clusterer = /*#__PURE__*/function () {\n  function Clusterer(map, optMarkers, optOptions) {\n    if (optMarkers === void 0) {\n      optMarkers = [];\n    }\n\n    if (optOptions === void 0) {\n      optOptions = {};\n    }\n\n    this.extend(Clusterer, google.maps.OverlayView);\n    this.markers = [];\n    this.clusters = [];\n    this.listeners = [];\n    this.activeMap = null;\n    this.ready = false;\n    this.gridSize = optOptions.gridSize || 60;\n    this.minClusterSize = optOptions.minimumClusterSize || 2;\n    this.maxZoom = optOptions.maxZoom || null;\n    this.styles = optOptions.styles || [];\n    this.title = optOptions.title || '';\n    this.zoomOnClick = true;\n\n    if (optOptions.zoomOnClick !== undefined) {\n      this.zoomOnClick = optOptions.zoomOnClick;\n    }\n\n    this.averageCenter = false;\n\n    if (optOptions.averageCenter !== undefined) {\n      this.averageCenter = optOptions.averageCenter;\n    }\n\n    this.ignoreHidden = false;\n\n    if (optOptions.ignoreHidden !== undefined) {\n      this.ignoreHidden = optOptions.ignoreHidden;\n    }\n\n    this.enableRetinaIcons = false;\n\n    if (optOptions.enableRetinaIcons !== undefined) {\n      this.enableRetinaIcons = optOptions.enableRetinaIcons;\n    }\n\n    this.imagePath = optOptions.imagePath || IMAGE_PATH;\n    this.imageExtension = optOptions.imageExtension || IMAGE_EXTENSION;\n    this.imageSizes = optOptions.imageSizes || IMAGE_SIZES;\n    this.calculator = optOptions.calculator || CALCULATOR;\n    this.batchSize = optOptions.batchSize || BATCH_SIZE;\n    this.batchSizeIE = optOptions.batchSizeIE || BATCH_SIZE_IE;\n    this.clusterClass = optOptions.clusterClass || CLUSTERER_CLASS;\n\n    if (navigator.userAgent.toLowerCase().indexOf('msie') !== -1) {\n      // Try to avoid IE timeout when processing a huge number of markers:\n      this.batchSize = this.batchSizeIE;\n    }\n\n    this.timerRefStatic = null;\n    this.setupStyles();\n    this.addMarkers(optMarkers, true); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n    this.setMap(map); // Note: this causes onAdd to be called\n  }\n\n  var _proto = Clusterer.prototype;\n\n  _proto.onAdd = function onAdd() {\n    var _this = this;\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.activeMap = this.getMap();\n    this.ready = true;\n    this.repaint(); // Add the map event listeners\n\n    this.listeners = [google.maps.event.addListener( // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getMap(), 'zoom_changed', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    function () {\n      _this.resetViewport(false); // Workaround for this Google bug: when map is at level 0 and \"-\" of\n      // zoom slider is clicked, a \"zoom_changed\" event is fired even though\n      // the map doesn't zoom out any further. In this situation, no \"idle\"\n      // event is triggered so the cluster markers that have been removed\n      // do not get redrawn. Same goes for a zoom in at maxZoom.\n\n\n      if ( // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      _this.getMap().getZoom() === (_this.get('minZoom') || 0) || // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      _this.getMap().getZoom() === _this.get('maxZoom')) {\n        google.maps.event.trigger(_this, 'idle');\n      }\n    }), google.maps.event.addListener( // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getMap(), 'idle', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    function () {\n      _this.redraw();\n    })];\n  } // eslint-disable-next-line @getify/proper-arrows/this\n  ;\n\n  _proto.onRemove = function onRemove() {\n    // Put all the managed markers back on the map:\n    for (var i = 0; i < this.markers.length; i++) {\n      if (this.markers[i].getMap() !== this.activeMap) {\n        this.markers[i].setMap(this.activeMap);\n      }\n    } // Remove all clusters:\n\n\n    for (var _i = 0; _i < this.clusters.length; _i++) {\n      this.clusters[_i].remove();\n    }\n\n    this.clusters = []; // Remove map event listeners:\n\n    for (var _i2 = 0; _i2 < this.listeners.length; _i2++) {\n      google.maps.event.removeListener(this.listeners[_i2]);\n    }\n\n    this.listeners = [];\n    this.activeMap = null;\n    this.ready = false;\n  } // eslint-disable-next-line @typescript-eslint/no-empty-function\n  ;\n\n  _proto.draw = function draw() {};\n\n  _proto.setupStyles = function setupStyles() {\n    if (this.styles.length > 0) {\n      return;\n    }\n\n    for (var i = 0; i < this.imageSizes.length; i++) {\n      this.styles.push({\n        url: this.imagePath + (i + 1) + '.' + this.imageExtension,\n        height: this.imageSizes[i],\n        width: this.imageSizes[i]\n      });\n    }\n  };\n\n  _proto.fitMapToMarkers = function fitMapToMarkers() {\n    var markers = this.getMarkers();\n    var bounds = new google.maps.LatLngBounds();\n\n    for (var i = 0; i < markers.length; i++) {\n      var position = markers[i].getPosition();\n\n      if (position) {\n        bounds.extend(position);\n      }\n    } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n\n    this.getMap().fitBounds(bounds);\n  };\n\n  _proto.getGridSize = function getGridSize() {\n    return this.gridSize;\n  };\n\n  _proto.setGridSize = function setGridSize(gridSize) {\n    this.gridSize = gridSize;\n  };\n\n  _proto.getMinimumClusterSize = function getMinimumClusterSize() {\n    return this.minClusterSize;\n  };\n\n  _proto.setMinimumClusterSize = function setMinimumClusterSize(minimumClusterSize) {\n    this.minClusterSize = minimumClusterSize;\n  };\n\n  _proto.getMaxZoom = function getMaxZoom() {\n    return this.maxZoom;\n  };\n\n  _proto.setMaxZoom = function setMaxZoom(maxZoom) {\n    this.maxZoom = maxZoom;\n  };\n\n  _proto.getStyles = function getStyles() {\n    return this.styles;\n  };\n\n  _proto.setStyles = function setStyles(styles) {\n    this.styles = styles;\n  };\n\n  _proto.getTitle = function getTitle() {\n    return this.title;\n  };\n\n  _proto.setTitle = function setTitle(title) {\n    this.title = title;\n  };\n\n  _proto.getZoomOnClick = function getZoomOnClick() {\n    return this.zoomOnClick;\n  };\n\n  _proto.setZoomOnClick = function setZoomOnClick(zoomOnClick) {\n    this.zoomOnClick = zoomOnClick;\n  };\n\n  _proto.getAverageCenter = function getAverageCenter() {\n    return this.averageCenter;\n  };\n\n  _proto.setAverageCenter = function setAverageCenter(averageCenter) {\n    this.averageCenter = averageCenter;\n  };\n\n  _proto.getIgnoreHidden = function getIgnoreHidden() {\n    return this.ignoreHidden;\n  };\n\n  _proto.setIgnoreHidden = function setIgnoreHidden(ignoreHidden) {\n    this.ignoreHidden = ignoreHidden;\n  };\n\n  _proto.getEnableRetinaIcons = function getEnableRetinaIcons() {\n    return this.enableRetinaIcons;\n  };\n\n  _proto.setEnableRetinaIcons = function setEnableRetinaIcons(enableRetinaIcons) {\n    this.enableRetinaIcons = enableRetinaIcons;\n  };\n\n  _proto.getImageExtension = function getImageExtension() {\n    return this.imageExtension;\n  };\n\n  _proto.setImageExtension = function setImageExtension(imageExtension) {\n    this.imageExtension = imageExtension;\n  };\n\n  _proto.getImagePath = function getImagePath() {\n    return this.imagePath;\n  };\n\n  _proto.setImagePath = function setImagePath(imagePath) {\n    this.imagePath = imagePath;\n  };\n\n  _proto.getImageSizes = function getImageSizes() {\n    return this.imageSizes;\n  };\n\n  _proto.setImageSizes = function setImageSizes(imageSizes) {\n    this.imageSizes = imageSizes;\n  };\n\n  _proto.getCalculator = function getCalculator() {\n    return this.calculator;\n  };\n\n  _proto.setCalculator = function setCalculator(calculator) {\n    this.calculator = calculator;\n  };\n\n  _proto.getBatchSizeIE = function getBatchSizeIE() {\n    return this.batchSizeIE;\n  };\n\n  _proto.setBatchSizeIE = function setBatchSizeIE(batchSizeIE) {\n    this.batchSizeIE = batchSizeIE;\n  };\n\n  _proto.getClusterClass = function getClusterClass() {\n    return this.clusterClass;\n  };\n\n  _proto.setClusterClass = function setClusterClass(clusterClass) {\n    this.clusterClass = clusterClass;\n  };\n\n  _proto.getMarkers = function getMarkers() {\n    return this.markers;\n  };\n\n  _proto.getTotalMarkers = function getTotalMarkers() {\n    return this.markers.length;\n  };\n\n  _proto.getClusters = function getClusters() {\n    return this.clusters;\n  };\n\n  _proto.getTotalClusters = function getTotalClusters() {\n    return this.clusters.length;\n  };\n\n  _proto.addMarker = function addMarker(marker, optNoDraw) {\n    this.pushMarkerTo(marker);\n\n    if (!optNoDraw) {\n      this.redraw();\n    }\n  };\n\n  _proto.addMarkers = function addMarkers(markers, optNoDraw) {\n    for (var key in markers) {\n      if (markers.hasOwnProperty(key)) {\n        this.pushMarkerTo(markers[key]);\n      }\n    }\n\n    if (!optNoDraw) {\n      this.redraw();\n    }\n  };\n\n  _proto.pushMarkerTo = function pushMarkerTo(marker) {\n    var _this2 = this;\n\n    // If the marker is draggable add a listener so we can update the clusters on the dragend:\n    if (marker.getDraggable()) {\n      // eslint-disable-next-line @getify/proper-arrows/name, @getify/proper-arrows/this\n      google.maps.event.addListener(marker, 'dragend', function () {\n        if (_this2.ready) {\n          marker.isAdded = false;\n\n          _this2.repaint();\n        }\n      });\n    }\n\n    marker.isAdded = false;\n    this.markers.push(marker);\n  };\n\n  _proto.removeMarker_ = function removeMarker_(marker) {\n    var index = -1;\n\n    if (this.markers.indexOf) {\n      index = this.markers.indexOf(marker);\n    } else {\n      for (var i = 0; i < this.markers.length; i++) {\n        if (marker === this.markers[i]) {\n          index = i;\n          break;\n        }\n      }\n    }\n\n    if (index === -1) {\n      // Marker is not in our list of markers, so do nothing:\n      return false;\n    }\n\n    marker.setMap(null);\n    this.markers.splice(index, 1); // Remove the marker from the list of managed markers\n\n    return true;\n  };\n\n  _proto.removeMarker = function removeMarker(marker, optNoDraw) {\n    var removed = this.removeMarker_(marker);\n\n    if (!optNoDraw && removed) {\n      this.repaint();\n    }\n\n    return removed;\n  };\n\n  _proto.removeMarkers = function removeMarkers(markers, optNoDraw) {\n    var removed = false;\n\n    for (var i = 0; i < markers.length; i++) {\n      removed = removed || this.removeMarker_(markers[i]);\n    }\n\n    if (!optNoDraw && removed) {\n      this.repaint();\n    }\n\n    return removed;\n  };\n\n  _proto.clearMarkers = function clearMarkers() {\n    this.resetViewport(true);\n    this.markers = [];\n  };\n\n  _proto.repaint = function repaint() {\n    var oldClusters = this.clusters.slice();\n    this.clusters = [];\n    this.resetViewport(false);\n    this.redraw(); // Remove the old clusters.\n    // Do it in a timeout to prevent blinking effect.\n\n    setTimeout(function timeout() {\n      for (var i = 0; i < oldClusters.length; i++) {\n        oldClusters[i].remove();\n      }\n    }, 0);\n  };\n\n  _proto.getExtendedBounds = function getExtendedBounds(bounds) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    var projection = this.getProjection(); // Convert the points to pixels and the extend out by the grid size.\n\n    var trPix = projection.fromLatLngToDivPixel( // Turn the bounds into latlng.\n    new google.maps.LatLng(bounds.getNorthEast().lat(), bounds.getNorthEast().lng()));\n    trPix.x += this.gridSize;\n    trPix.y -= this.gridSize;\n    var blPix = projection.fromLatLngToDivPixel( // Turn the bounds into latlng.\n    new google.maps.LatLng(bounds.getSouthWest().lat(), bounds.getSouthWest().lng()));\n    blPix.x -= this.gridSize;\n    blPix.y += this.gridSize; // Extend the bounds to contain the new bounds.\n\n    bounds.extend( // Convert the pixel points back to LatLng nw\n    projection.fromDivPixelToLatLng(trPix));\n    bounds.extend( // Convert the pixel points back to LatLng sw\n    projection.fromDivPixelToLatLng(blPix));\n    return bounds;\n  };\n\n  _proto.redraw = function redraw() {\n    // Redraws all the clusters.\n    this.createClusters(0);\n  };\n\n  _proto.resetViewport = function resetViewport(optHide) {\n    // Remove all the clusters\n    for (var i = 0; i < this.clusters.length; i++) {\n      this.clusters[i].remove();\n    }\n\n    this.clusters = []; // Reset the markers to not be added and to be removed from the map.\n\n    for (var _i3 = 0; _i3 < this.markers.length; _i3++) {\n      var marker = this.markers[_i3];\n      marker.isAdded = false;\n\n      if (optHide) {\n        marker.setMap(null);\n      }\n    }\n  };\n\n  _proto.distanceBetweenPoints = function distanceBetweenPoints(p1, p2) {\n    var R = 6371; // Radius of the Earth in km\n\n    var dLat = (p2.lat() - p1.lat()) * Math.PI / 180;\n    var dLon = (p2.lng() - p1.lng()) * Math.PI / 180;\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(p1.lat() * Math.PI / 180) * Math.cos(p2.lat() * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));\n  };\n\n  _proto.isMarkerInBounds = function isMarkerInBounds(marker, bounds) {\n    var position = marker.getPosition();\n\n    if (position) {\n      return bounds.contains(position);\n    }\n\n    return false;\n  };\n\n  _proto.addToClosestCluster = function addToClosestCluster(marker) {\n    var cluster;\n    var distance = 40000; // Some large number\n\n    var clusterToAddTo = null;\n\n    for (var i = 0; i < this.clusters.length; i++) {\n      cluster = this.clusters[i];\n      var center = cluster.getCenter();\n      var position = marker.getPosition();\n\n      if (center && position) {\n        var d = this.distanceBetweenPoints(center, position);\n\n        if (d < distance) {\n          distance = d;\n          clusterToAddTo = cluster;\n        }\n      }\n    }\n\n    if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\n      clusterToAddTo.addMarker(marker);\n    } else {\n      cluster = new Cluster(this);\n      cluster.addMarker(marker);\n      this.clusters.push(cluster);\n    }\n  };\n\n  _proto.createClusters = function createClusters(iFirst) {\n    var _this3 = this;\n\n    if (!this.ready) {\n      return;\n    } // Cancel previous batch processing if we're working on the first batch:\n\n\n    if (iFirst === 0) {\n      /**\r\n       * This event is fired when the <code>Clusterer</code> begins\r\n       *  clustering markers.\r\n       * @name Clusterer#clusteringbegin\r\n       * @param {Clusterer} mc The Clusterer whose markers are being clustered.\r\n       * @event\r\n       */\n      google.maps.event.trigger(this, 'clusteringbegin', this);\n\n      if (this.timerRefStatic !== null) {\n        window.clearTimeout(this.timerRefStatic); // @ts-ignore\n\n        delete this.timerRefStatic;\n      }\n    } // Get our current map view bounds.\n    // Create a new bounds object so we don't affect the map.\n    //\n    // See Comments 9 & 11 on Issue 3651 relating to this workaround for a Google Maps bug:\n\n\n    var mapBounds = // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getMap().getZoom() > 3 ? new google.maps.LatLngBounds( // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getMap().getBounds().getSouthWest(), // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getMap().getBounds().getNorthEast()) : new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472, -178.48388434375), new google.maps.LatLng(-85.08136444384544, 178.00048865625));\n    var bounds = this.getExtendedBounds(mapBounds);\n    var iLast = Math.min(iFirst + this.batchSize, this.markers.length);\n\n    for (var i = iFirst; i < iLast; i++) {\n      var marker = this.markers[i];\n\n      if (!marker.isAdded && this.isMarkerInBounds(marker, bounds)) {\n        if (!this.ignoreHidden || this.ignoreHidden && marker.getVisible()) {\n          this.addToClosestCluster(marker);\n        }\n      }\n    }\n\n    if (iLast < this.markers.length) {\n      this.timerRefStatic = window.setTimeout( // eslint-disable-next-line @getify/proper-arrows/this, @getify/proper-arrows/name\n      function () {\n        _this3.createClusters(iLast);\n      }, 0);\n    } else {\n      this.timerRefStatic = null;\n      /**\r\n       * This event is fired when the <code>Clusterer</code> stops\r\n       *  clustering markers.\r\n       * @name Clusterer#clusteringend\r\n       * @param {Clusterer} mc The Clusterer whose markers are being clustered.\r\n       * @event\r\n       */\n\n      google.maps.event.trigger(this, 'clusteringend', this);\n\n      for (var _i4 = 0; _i4 < this.clusters.length; _i4++) {\n        this.clusters[_i4].updateIcon();\n      }\n    }\n  };\n\n  _proto.extend = function extend(obj1, obj2) {\n    return function applyExtend(object) {\n      // eslint-disable-next-line guard-for-in\n      for (var property in object.prototype) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.prototype[property] = object.prototype[property];\n      } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n\n      return this;\n    }.apply(obj1, [obj2]);\n  };\n\n  return Clusterer;\n}();\n\n\n//# sourceMappingURL=markerclusterer.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHJlYWN0LWdvb2dsZS1tYXBzL21hcmtlci1jbHVzdGVyZXIvZGlzdC9tYXJrZXJjbHVzdGVyZXIuZXNtLmpzPzIxMzAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIENsdXN0ZXJJY29uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2x1c3Rlckljb24oY2x1c3Rlciwgc3R5bGVzKSB7XG4gICAgY2x1c3Rlci5nZXRDbHVzdGVyZXIoKS5leHRlbmQoQ2x1c3Rlckljb24sIGdvb2dsZS5tYXBzLk92ZXJsYXlWaWV3KTtcbiAgICB0aGlzLmNsdXN0ZXIgPSBjbHVzdGVyO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbHVzdGVyLmdldENsdXN0ZXJlcigpLmdldENsdXN0ZXJDbGFzcygpO1xuICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICAgIHRoaXMuY2VudGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGl2ID0gbnVsbDtcbiAgICB0aGlzLnN1bXMgPSBudWxsO1xuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuYm91bmRzQ2hhbmdlZExpc3RlbmVyID0gbnVsbDtcbiAgICB0aGlzLnVybCA9ICcnO1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLmFuY2hvclRleHQgPSBbMCwgMF07XG4gICAgdGhpcy5hbmNob3JJY29uID0gWzAsIDBdO1xuICAgIHRoaXMudGV4dENvbG9yID0gJ2JsYWNrJztcbiAgICB0aGlzLnRleHRTaXplID0gMTE7XG4gICAgdGhpcy50ZXh0RGVjb3JhdGlvbiA9ICdub25lJztcbiAgICB0aGlzLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgdGhpcy5mb250U3R5bGUgPSAnbm9ybWFsJztcbiAgICB0aGlzLmZvbnRGYW1pbHkgPSAnQXJpYWwsc2Fucy1zZXJpZic7XG4gICAgdGhpcy5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnMCAwJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuXG4gICAgdGhpcy5zZXRNYXAoY2x1c3Rlci5nZXRNYXAoKSk7IC8vIE5vdGU6IHRoaXMgY2F1c2VzIG9uQWRkIHRvIGJlIGNhbGxlZFxuICB9XG5cbiAgdmFyIF9wcm90byA9IENsdXN0ZXJJY29uLnByb3RvdHlwZTtcblxuICBfcHJvdG8ub25BZGQgPSBmdW5jdGlvbiBvbkFkZCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGNNb3VzZURvd25JbkNsdXN0ZXI7XG4gICAgdmFyIGNEcmFnZ2luZ01hcEJ5Q2x1c3RlcjtcbiAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZGl2LmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lO1xuXG4gICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAvLyBAdHMtaWdub3JlXG5cblxuICAgIHRoaXMuZ2V0UGFuZXMoKS5vdmVybGF5TW91c2VUYXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5kaXYpOyAvLyBGaXggZm9yIElzc3VlIDE1N1xuXG4gICAgdGhpcy5ib3VuZHNDaGFuZ2VkTGlzdGVuZXIgPSBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lciggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuZ2V0TWFwKCksICdib3VuZHNjaGFuZ2VkJywgZnVuY3Rpb24gYm91bmRzQ2hhbmdlZCgpIHtcbiAgICAgIGNEcmFnZ2luZ01hcEJ5Q2x1c3RlciA9IGNNb3VzZURvd25JbkNsdXN0ZXI7XG4gICAgfSk7XG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIodGhpcy5kaXYsICdtb3VzZWRvd24nLCBmdW5jdGlvbiBvbk1vdXNlRG93bigpIHtcbiAgICAgIGNNb3VzZURvd25JbkNsdXN0ZXIgPSB0cnVlO1xuICAgICAgY0RyYWdnaW5nTWFwQnlDbHVzdGVyID0gZmFsc2U7XG4gICAgfSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgQGdldGlmeS9wcm9wZXItYXJyb3dzL3RoaXMsIEBnZXRpZnkvcHJvcGVyLWFycm93cy9uYW1lXG5cbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih0aGlzLmRpdiwgJ2NsaWNrJywgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvdGhpcywgQGdldGlmeS9wcm9wZXItYXJyb3dzL25hbWVcbiAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGNNb3VzZURvd25JbkNsdXN0ZXIgPSBmYWxzZTtcblxuICAgICAgaWYgKCFjRHJhZ2dpbmdNYXBCeUNsdXN0ZXIpIHtcbiAgICAgICAgdmFyIG1hcmtlckNsdXN0ZXJlciA9IF90aGlzLmNsdXN0ZXIuZ2V0Q2x1c3RlcmVyKCk7XG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiBhIGNsdXN0ZXIgbWFya2VyIGlzIGNsaWNrZWQuXHJcbiAgICAgICAgICogQG5hbWUgTWFya2VyQ2x1c3RlcmVyI2NsaWNrXHJcbiAgICAgICAgICogQHBhcmFtIHtDbHVzdGVyfSBjIFRoZSBjbHVzdGVyIHRoYXQgd2FzIGNsaWNrZWQuXHJcbiAgICAgICAgICogQGV2ZW50XHJcbiAgICAgICAgICovXG5cblxuICAgICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKG1hcmtlckNsdXN0ZXJlciwgJ2NsaWNrJywgX3RoaXMuY2x1c3Rlcik7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIobWFya2VyQ2x1c3RlcmVyLCAnY2x1c3RlcmNsaWNrJywgX3RoaXMuY2x1c3Rlcik7IC8vIGRlcHJlY2F0ZWQgbmFtZVxuICAgICAgICAvLyBUaGUgZGVmYXVsdCBjbGljayBoYW5kbGVyIGZvbGxvd3MuIERpc2FibGUgaXQgYnkgc2V0dGluZ1xuICAgICAgICAvLyB0aGUgem9vbU9uQ2xpY2sgcHJvcGVydHkgdG8gZmFsc2UuXG5cbiAgICAgICAgaWYgKG1hcmtlckNsdXN0ZXJlci5nZXRab29tT25DbGljaygpKSB7XG4gICAgICAgICAgLy8gWm9vbSBpbnRvIHRoZSBjbHVzdGVyLlxuICAgICAgICAgIHZhciBtYXhab29tID0gbWFya2VyQ2x1c3RlcmVyLmdldE1heFpvb20oKTtcblxuICAgICAgICAgIHZhciBib3VuZHMgPSBfdGhpcy5jbHVzdGVyLmdldEJvdW5kcygpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cblxuICAgICAgICAgIG1hcmtlckNsdXN0ZXJlci5nZXRNYXAoKS5maXRCb3VuZHMoYm91bmRzKTsgLy8gVGhlcmUgaXMgYSBmaXggZm9yIElzc3VlIDE3MCBoZXJlOlxuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBtYXJrZXJDbHVzdGVyZXIuZ2V0TWFwKCkuZml0Qm91bmRzKGJvdW5kcyk7IC8vIERvbid0IHpvb20gYmV5b25kIHRoZSBtYXggem9vbSBsZXZlbFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgICAgIGlmIChtYXhab29tICE9PSBudWxsICYmIG1hcmtlckNsdXN0ZXJlci5nZXRNYXAoKS5nZXRab29tKCkgPiBtYXhab29tKSB7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIG1hcmtlckNsdXN0ZXJlci5nZXRNYXAoKS5zZXRab29tKG1heFpvb20gKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9IC8vIFByZXZlbnQgZXZlbnQgcHJvcGFnYXRpb24gdG8gdGhlIG1hcDpcblxuXG4gICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIodGhpcy5kaXYsICdtb3VzZW92ZXInLCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIEBnZXRpZnkvcHJvcGVyLWFycm93cy90aGlzLCBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvbmFtZVxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIG92ZXIgYSBjbHVzdGVyIG1hcmtlci5cclxuICAgICAgICogQG5hbWUgTWFya2VyQ2x1c3RlcmVyI21vdXNlb3ZlclxyXG4gICAgICAgKiBAcGFyYW0ge0NsdXN0ZXJ9IGMgVGhlIGNsdXN0ZXIgdGhhdCB0aGUgbW91c2UgbW92ZWQgb3Zlci5cclxuICAgICAgICogQGV2ZW50XHJcbiAgICAgICAqL1xuICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihfdGhpcy5jbHVzdGVyLmdldENsdXN0ZXJlcigpLCAnbW91c2VvdmVyJywgX3RoaXMuY2x1c3Rlcik7XG4gICAgfSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgQGdldGlmeS9wcm9wZXItYXJyb3dzL3RoaXMsIEBnZXRpZnkvcHJvcGVyLWFycm93cy9uYW1lXG5cbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih0aGlzLmRpdiwgJ21vdXNlb3V0JywgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvdGhpcywgQGdldGlmeS9wcm9wZXItYXJyb3dzL25hbWVcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAvKipcclxuICAgICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBvdXQgb2YgYSBjbHVzdGVyIG1hcmtlci5cclxuICAgICAgICogQG5hbWUgTWFya2VyQ2x1c3RlcmVyI21vdXNlb3V0XHJcbiAgICAgICAqIEBwYXJhbSB7Q2x1c3Rlcn0gYyBUaGUgY2x1c3RlciB0aGF0IHRoZSBtb3VzZSBtb3ZlZCBvdXQgb2YuXHJcbiAgICAgICAqIEBldmVudFxyXG4gICAgICAgKi9cbiAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIoX3RoaXMuY2x1c3Rlci5nZXRDbHVzdGVyZXIoKSwgJ21vdXNlb3V0JywgX3RoaXMuY2x1c3Rlcik7XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLm9uUmVtb3ZlID0gZnVuY3Rpb24gb25SZW1vdmUoKSB7XG4gICAgaWYgKHRoaXMuZGl2ICYmIHRoaXMuZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuXG4gICAgICBpZiAodGhpcy5ib3VuZHNDaGFuZ2VkTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5ib3VuZHNDaGFuZ2VkTGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICBnb29nbGUubWFwcy5ldmVudC5jbGVhckluc3RhbmNlTGlzdGVuZXJzKHRoaXMuZGl2KTtcbiAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgdGhpcy5kaXYgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZHJhdyA9IGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgaWYgKHRoaXMudmlzaWJsZSAmJiB0aGlzLmRpdiAhPT0gbnVsbCAmJiB0aGlzLmNlbnRlcikge1xuICAgICAgdmFyIF90aGlzJGdldFBvc0Zyb21MYXRMbiA9IHRoaXMuZ2V0UG9zRnJvbUxhdExuZyh0aGlzLmNlbnRlciksXG4gICAgICAgICAgeCA9IF90aGlzJGdldFBvc0Zyb21MYXRMbi54LFxuICAgICAgICAgIHkgPSBfdGhpcyRnZXRQb3NGcm9tTGF0TG4ueTtcblxuICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0geSArICdweCc7XG4gICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0geCArICdweCc7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5oaWRlID0gZnVuY3Rpb24gaGlkZSgpIHtcbiAgICBpZiAodGhpcy5kaXYpIHtcbiAgICAgIHRoaXMuZGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gIH07XG5cbiAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgIGlmICh0aGlzLmRpdiAmJiB0aGlzLmNlbnRlcikge1xuICAgICAgdmFyIGltZyA9ICcnLFxuICAgICAgICAgIGRpdlRpdGxlID0gJyc7IC8vIE5PVEU6IHZhbHVlcyBtdXN0IGJlIHNwZWNpZmllZCBpbiBweCB1bml0c1xuXG4gICAgICB2YXIgYnAgPSB0aGlzLmJhY2tncm91bmRQb3NpdGlvbi5zcGxpdCgnICcpO1xuICAgICAgdmFyIHNwcml0ZUggPSBwYXJzZUludChicFswXS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyksIDEwKTtcbiAgICAgIHZhciBzcHJpdGVWID0gcGFyc2VJbnQoYnBbMV0ucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLCAxMCk7XG4gICAgICB2YXIgcG9zID0gdGhpcy5nZXRQb3NGcm9tTGF0TG5nKHRoaXMuY2VudGVyKTtcblxuICAgICAgaWYgKHRoaXMuc3VtcyA9PT0gbnVsbCB8fCB0eXBlb2YgdGhpcy5zdW1zLnRpdGxlID09PSAndW5kZWZpbmVkJyB8fCB0aGlzLnN1bXMudGl0bGUgPT09ICcnKSB7XG4gICAgICAgIGRpdlRpdGxlID0gdGhpcy5jbHVzdGVyLmdldENsdXN0ZXJlcigpLmdldFRpdGxlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXZUaXRsZSA9IHRoaXMuc3Vtcy50aXRsZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kaXYuc3R5bGUuY3NzVGV4dCA9IHRoaXMuY3JlYXRlQ3NzKHBvcyk7XG4gICAgICBpbWcgPSBcIjxpbWcgYWx0PSdcIiArIGRpdlRpdGxlICsgXCInIHNyYz0nXCIgKyB0aGlzLnVybCArIFwiJyBzdHlsZT0ncG9zaXRpb246IGFic29sdXRlOyB0b3A6IFwiICsgc3ByaXRlViArICdweDsgbGVmdDogJyArIHNwcml0ZUggKyAncHg7ICc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgLy9AdHMtaWdub3JlXG5cbiAgICAgIGlmICghdGhpcy5jbHVzdGVyLmdldENsdXN0ZXJlcigpLmVuYWJsZVJldGluYUljb25zKSB7XG4gICAgICAgIGltZyArPSAnY2xpcDogcmVjdCgnICsgLTEgKiBzcHJpdGVWICsgJ3B4LCAnICsgKC0xICogc3ByaXRlSCArIHRoaXMud2lkdGgpICsgJ3B4LCAnICsgKC0xICogc3ByaXRlViArIHRoaXMuaGVpZ2h0KSArICdweCwgJyArIC0xICogc3ByaXRlSCArICdweCk7JztcbiAgICAgIH1cblxuICAgICAgaW1nICs9IFwiJz5cIjtcbiAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IGltZyArIFwiPGRpdiBzdHlsZT0nXCIgKyAncG9zaXRpb246IGFic29sdXRlOycgKyAndG9wOiAnICsgdGhpcy5hbmNob3JUZXh0WzBdICsgJ3B4OycgKyAnbGVmdDogJyArIHRoaXMuYW5jaG9yVGV4dFsxXSArICdweDsnICsgJ2NvbG9yOiAnICsgdGhpcy50ZXh0Q29sb3IgKyAnOycgKyAnZm9udC1zaXplOiAnICsgdGhpcy50ZXh0U2l6ZSArICdweDsnICsgJ2ZvbnQtZmFtaWx5OiAnICsgdGhpcy5mb250RmFtaWx5ICsgJzsnICsgJ2ZvbnQtd2VpZ2h0OiAnICsgdGhpcy5mb250V2VpZ2h0ICsgJzsnICsgJ2ZvbnQtc3R5bGU6ICcgKyB0aGlzLmZvbnRTdHlsZSArICc7JyArICd0ZXh0LWRlY29yYXRpb246ICcgKyB0aGlzLnRleHREZWNvcmF0aW9uICsgJzsnICsgJ3RleHQtYWxpZ246IGNlbnRlcjsnICsgJ3dpZHRoOiAnICsgdGhpcy53aWR0aCArICdweDsnICsgJ2xpbmUtaGVpZ2h0OicgKyB0aGlzLmhlaWdodCArICdweDsnICsgXCInPlwiICsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0aGlzLnN1bXMudGV4dCArICc8L2Rpdj4nO1xuICAgICAgdGhpcy5kaXYudGl0bGUgPSBkaXZUaXRsZTtcbiAgICAgIHRoaXMuZGl2LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICB9O1xuXG4gIF9wcm90by51c2VTdHlsZSA9IGZ1bmN0aW9uIHVzZVN0eWxlKHN1bXMpIHtcbiAgICB0aGlzLnN1bXMgPSBzdW1zO1xuICAgIHZhciBzdHlsZSA9IHRoaXMuc3R5bGVzW01hdGgubWluKHRoaXMuc3R5bGVzLmxlbmd0aCAtIDEsIE1hdGgubWF4KDAsIHN1bXMuaW5kZXggLSAxKSldO1xuICAgIHRoaXMudXJsID0gc3R5bGUudXJsO1xuICAgIHRoaXMuaGVpZ2h0ID0gc3R5bGUuaGVpZ2h0O1xuICAgIHRoaXMud2lkdGggPSBzdHlsZS53aWR0aDtcbiAgICBpZiAoc3R5bGUuY2xhc3NOYW1lKSB0aGlzLmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lICsgXCIgXCIgKyBzdHlsZS5jbGFzc05hbWU7XG4gICAgdGhpcy5hbmNob3JUZXh0ID0gc3R5bGUuYW5jaG9yVGV4dCB8fCBbMCwgMF07XG4gICAgdGhpcy5hbmNob3JJY29uID0gc3R5bGUuYW5jaG9ySWNvbiB8fCBbdGhpcy5oZWlnaHQgLyAyLCB0aGlzLndpZHRoIC8gMl07XG4gICAgdGhpcy50ZXh0Q29sb3IgPSBzdHlsZS50ZXh0Q29sb3IgfHwgJ2JsYWNrJztcbiAgICB0aGlzLnRleHRTaXplID0gc3R5bGUudGV4dFNpemUgfHwgMTE7XG4gICAgdGhpcy50ZXh0RGVjb3JhdGlvbiA9IHN0eWxlLnRleHREZWNvcmF0aW9uIHx8ICdub25lJztcbiAgICB0aGlzLmZvbnRXZWlnaHQgPSBzdHlsZS5mb250V2VpZ2h0IHx8ICdib2xkJztcbiAgICB0aGlzLmZvbnRTdHlsZSA9IHN0eWxlLmZvbnRTdHlsZSB8fCAnbm9ybWFsJztcbiAgICB0aGlzLmZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5IHx8ICdBcmlhbCxzYW5zLXNlcmlmJztcbiAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbiA9IHN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiB8fCAnMCAwJztcbiAgfTtcblxuICBfcHJvdG8uc2V0Q2VudGVyID0gZnVuY3Rpb24gc2V0Q2VudGVyKGNlbnRlcikge1xuICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xuICB9O1xuXG4gIF9wcm90by5jcmVhdGVDc3MgPSBmdW5jdGlvbiBjcmVhdGVDc3MocG9zKSB7XG4gICAgdmFyIHN0eWxlID0gW107XG4gICAgc3R5bGUucHVzaCgnY3Vyc29yOiBwb2ludGVyOycpO1xuICAgIHN0eWxlLnB1c2goJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAnICsgcG9zLnkgKyAncHg7IGxlZnQ6ICcgKyBwb3MueCArICdweDsnKTtcbiAgICBzdHlsZS5wdXNoKCd3aWR0aDogJyArIHRoaXMud2lkdGggKyAncHg7IGhlaWdodDogJyArIHRoaXMuaGVpZ2h0ICsgJ3B4OycpO1xuICAgIHJldHVybiBzdHlsZS5qb2luKCcnKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0UG9zRnJvbUxhdExuZyA9IGZ1bmN0aW9uIGdldFBvc0Zyb21MYXRMbmcobGF0bG5nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHZhciBwb3MgPSB0aGlzLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9EaXZQaXhlbChsYXRsbmcpO1xuICAgIHBvcy54IC09IHRoaXMuYW5jaG9ySWNvblsxXTtcbiAgICBwb3MueSAtPSB0aGlzLmFuY2hvckljb25bMF07IC8vIHBvcy54ID0gcG9zLnhcbiAgICAvLyBwb3MueSA9IHBvcy55XG5cbiAgICByZXR1cm4gcG9zO1xuICB9O1xuXG4gIHJldHVybiBDbHVzdGVySWNvbjtcbn0oKTtcblxudmFyIENsdXN0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDbHVzdGVyKG1hcmtlckNsdXN0ZXJlcikge1xuICAgIHRoaXMubWFya2VyQ2x1c3RlcmVyID0gbWFya2VyQ2x1c3RlcmVyOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAvLyBAdHMtaWdub3JlXG5cbiAgICB0aGlzLm1hcCA9IHRoaXMubWFya2VyQ2x1c3RlcmVyLmdldE1hcCgpO1xuICAgIHRoaXMuZ3JpZFNpemUgPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRHcmlkU2l6ZSgpO1xuICAgIHRoaXMubWluQ2x1c3RlclNpemUgPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRNaW5pbXVtQ2x1c3RlclNpemUoKTtcbiAgICB0aGlzLmF2ZXJhZ2VDZW50ZXIgPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRBdmVyYWdlQ2VudGVyKCk7XG4gICAgdGhpcy5tYXJrZXJzID0gW107XG4gICAgdGhpcy5jZW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICAgIHRoaXMuY2x1c3Rlckljb24gPSBuZXcgQ2x1c3Rlckljb24odGhpcywgdGhpcy5tYXJrZXJDbHVzdGVyZXIuZ2V0U3R5bGVzKCkpO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IENsdXN0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5nZXRTaXplID0gZnVuY3Rpb24gZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrZXJzLmxlbmd0aDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0TWFya2VycyA9IGZ1bmN0aW9uIGdldE1hcmtlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFya2VycztcbiAgfTtcblxuICBfcHJvdG8uZ2V0Q2VudGVyID0gZnVuY3Rpb24gZ2V0Q2VudGVyKCkge1xuICAgIHJldHVybiB0aGlzLmNlbnRlcjtcbiAgfTtcblxuICBfcHJvdG8uZ2V0TWFwID0gZnVuY3Rpb24gZ2V0TWFwKCkge1xuICAgIHJldHVybiB0aGlzLm1hcDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0Q2x1c3RlcmVyID0gZnVuY3Rpb24gZ2V0Q2x1c3RlcmVyKCkge1xuICAgIHJldHVybiB0aGlzLm1hcmtlckNsdXN0ZXJlcjtcbiAgfTtcblxuICBfcHJvdG8uZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHZhciBib3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKHRoaXMuY2VudGVyLCB0aGlzLmNlbnRlcik7XG4gICAgdmFyIG1hcmtlcnMgPSB0aGlzLmdldE1hcmtlcnMoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBvc2l0aW9uID0gbWFya2Vyc1tpXS5nZXRQb3NpdGlvbigpO1xuXG4gICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgYm91bmRzLmV4dGVuZChwb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvdW5kcztcbiAgfTtcblxuICBfcHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmNsdXN0ZXJJY29uLnNldE1hcChudWxsKTtcbiAgICB0aGlzLm1hcmtlcnMgPSBbXTsgLy8gQHRzLWlnbm9yZVxuXG4gICAgZGVsZXRlIHRoaXMubWFya2VycztcbiAgfTtcblxuICBfcHJvdG8uYWRkTWFya2VyID0gZnVuY3Rpb24gYWRkTWFya2VyKG1hcmtlcikge1xuICAgIGlmICh0aGlzLmlzTWFya2VyQWxyZWFkeUFkZGVkKG1hcmtlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuY2VudGVyKSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSBtYXJrZXIuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuY2VudGVyID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmF2ZXJhZ2VDZW50ZXIpIHtcbiAgICAgICAgdmFyIF9wb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGlmIChfcG9zaXRpb24pIHtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5tYXJrZXJzLmxlbmd0aCArIDE7XG4gICAgICAgICAgdGhpcy5jZW50ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCh0aGlzLmNlbnRlci5sYXQoKSAqIChsZW5ndGggLSAxKSArIF9wb3NpdGlvbi5sYXQoKSkgLyBsZW5ndGgsICh0aGlzLmNlbnRlci5sbmcoKSAqIChsZW5ndGggLSAxKSArIF9wb3NpdGlvbi5sbmcoKSkgLyBsZW5ndGgpO1xuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBtYXJrZXIuaXNBZGRlZCA9IHRydWU7XG4gICAgdGhpcy5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICB2YXIgbUNvdW50ID0gdGhpcy5tYXJrZXJzLmxlbmd0aDtcbiAgICB2YXIgbWF4Wm9vbSA9IHRoaXMubWFya2VyQ2x1c3RlcmVyLmdldE1heFpvb20oKTtcblxuICAgIGlmIChtYXhab29tICE9PSBudWxsICYmIHRoaXMubWFwLmdldFpvb20oKSA+IG1heFpvb20pIHtcbiAgICAgIC8vIFpvb21lZCBpbiBwYXN0IG1heCB6b29tLCBzbyBzaG93IHRoZSBtYXJrZXIuXG4gICAgICBpZiAobWFya2VyLmdldE1hcCgpICE9PSB0aGlzLm1hcCkge1xuICAgICAgICBtYXJrZXIuc2V0TWFwKHRoaXMubWFwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1Db3VudCA8IHRoaXMubWluQ2x1c3RlclNpemUpIHtcbiAgICAgIC8vIE1pbiBjbHVzdGVyIHNpemUgbm90IHJlYWNoZWQgc28gc2hvdyB0aGUgbWFya2VyLlxuICAgICAgaWYgKG1hcmtlci5nZXRNYXAoKSAhPT0gdGhpcy5tYXApIHtcbiAgICAgICAgbWFya2VyLnNldE1hcCh0aGlzLm1hcCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtQ291bnQgPT09IHRoaXMubWluQ2x1c3RlclNpemUpIHtcbiAgICAgIC8vIEhpZGUgdGhlIG1hcmtlcnMgdGhhdCB3ZXJlIHNob3dpbmcuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1Db3VudDsgaSsrKSB7XG4gICAgICAgIHRoaXMubWFya2Vyc1tpXS5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmtlci5zZXRNYXAobnVsbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgX3Byb3RvLmlzTWFya2VySW5DbHVzdGVyQm91bmRzID0gZnVuY3Rpb24gaXNNYXJrZXJJbkNsdXN0ZXJCb3VuZHMobWFya2VyKSB7XG4gICAgaWYgKHRoaXMuYm91bmRzICE9PSBudWxsKSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSBtYXJrZXIuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kcy5jb250YWlucyhwb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIF9wcm90by5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgdGhpcy5ib3VuZHMgPSB0aGlzLm1hcmtlckNsdXN0ZXJlci5nZXRFeHRlbmRlZEJvdW5kcyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKHRoaXMuY2VudGVyLCB0aGlzLmNlbnRlcikpO1xuICB9O1xuXG4gIF9wcm90by51cGRhdGVJY29uID0gZnVuY3Rpb24gdXBkYXRlSWNvbigpIHtcbiAgICB2YXIgbUNvdW50ID0gdGhpcy5tYXJrZXJzLmxlbmd0aDtcbiAgICB2YXIgbWF4Wm9vbSA9IHRoaXMubWFya2VyQ2x1c3RlcmVyLmdldE1heFpvb20oKTtcblxuICAgIGlmIChtYXhab29tICE9PSBudWxsICYmIHRoaXMubWFwLmdldFpvb20oKSA+IG1heFpvb20pIHtcbiAgICAgIHRoaXMuY2x1c3Rlckljb24uaGlkZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtQ291bnQgPCB0aGlzLm1pbkNsdXN0ZXJTaXplKSB7XG4gICAgICAvLyBNaW4gY2x1c3RlciBzaXplIG5vdCB5ZXQgcmVhY2hlZC5cbiAgICAgIHRoaXMuY2x1c3Rlckljb24uaGlkZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNlbnRlcikge1xuICAgICAgdGhpcy5jbHVzdGVySWNvbi5zZXRDZW50ZXIodGhpcy5jZW50ZXIpO1xuICAgIH1cblxuICAgIHRoaXMuY2x1c3Rlckljb24udXNlU3R5bGUodGhpcy5tYXJrZXJDbHVzdGVyZXIuZ2V0Q2FsY3VsYXRvcigpKHRoaXMubWFya2VycywgdGhpcy5tYXJrZXJDbHVzdGVyZXIuZ2V0U3R5bGVzKCkubGVuZ3RoKSk7XG4gICAgdGhpcy5jbHVzdGVySWNvbi5zaG93KCk7XG4gIH07XG5cbiAgX3Byb3RvLmlzTWFya2VyQWxyZWFkeUFkZGVkID0gZnVuY3Rpb24gaXNNYXJrZXJBbHJlYWR5QWRkZWQobWFya2VyKSB7XG4gICAgaWYgKHRoaXMubWFya2Vycy5pbmNsdWRlcykge1xuICAgICAgcmV0dXJuIHRoaXMubWFya2Vycy5pbmNsdWRlcyhtYXJrZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobWFya2VyID09PSB0aGlzLm1hcmtlcnNbaV0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4gQ2x1c3Rlcjtcbn0oKTtcblxuLyogZ2xvYmFsIGdvb2dsZSAqL1xuLyoqXHJcbiAqIFN1cHBvcnRzIHVwIHRvIDkwMDcxOTkyNTQ3NDA5OTEgKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSBtYXJrZXJzXHJcbiAqIHdoaWNoIGlzIG5vdCBhIHByb2JsZW0gYXMgbWF4IGFycmF5IGxlbmd0aCBpcyA0Mjk0OTY3Mjk2ICgyKiozMilcclxuICovXG5cbnZhciBDQUxDVUxBVE9SID0gZnVuY3Rpb24gQ0FMQ1VMQVRPUihtYXJrZXJzLCBudW1TdHlsZXMpIHtcbiAgdmFyIGNvdW50ID0gbWFya2Vycy5sZW5ndGg7XG4gIHZhciBudW1iZXJPZkRpZ2l0cyA9IGNvdW50LnRvU3RyaW5nKCkubGVuZ3RoO1xuICB2YXIgaW5kZXggPSBNYXRoLm1pbihudW1iZXJPZkRpZ2l0cywgbnVtU3R5bGVzKTtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0OiBjb3VudC50b1N0cmluZygpLFxuICAgIGluZGV4OiBpbmRleCxcbiAgICB0aXRsZTogJydcbiAgfTtcbn07XG5cbnZhciBCQVRDSF9TSVpFID0gMjAwMDtcbnZhciBCQVRDSF9TSVpFX0lFID0gNTAwO1xudmFyIElNQUdFX1BBVEggPSAnaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvZXhhbXBsZXMvbWFya2VyY2x1c3RlcmVyL20nO1xudmFyIElNQUdFX0VYVEVOU0lPTiA9ICdwbmcnO1xudmFyIElNQUdFX1NJWkVTID0gWzUzLCA1NiwgNjYsIDc4LCA5MF07XG52YXIgQ0xVU1RFUkVSX0NMQVNTID0gJ2NsdXN0ZXInO1xudmFyIENsdXN0ZXJlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENsdXN0ZXJlcihtYXAsIG9wdE1hcmtlcnMsIG9wdE9wdGlvbnMpIHtcbiAgICBpZiAob3B0TWFya2VycyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRNYXJrZXJzID0gW107XG4gICAgfVxuXG4gICAgaWYgKG9wdE9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0T3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMuZXh0ZW5kKENsdXN0ZXJlciwgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcpO1xuICAgIHRoaXMubWFya2VycyA9IFtdO1xuICAgIHRoaXMuY2x1c3RlcnMgPSBbXTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuYWN0aXZlTWFwID0gbnVsbDtcbiAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gICAgdGhpcy5ncmlkU2l6ZSA9IG9wdE9wdGlvbnMuZ3JpZFNpemUgfHwgNjA7XG4gICAgdGhpcy5taW5DbHVzdGVyU2l6ZSA9IG9wdE9wdGlvbnMubWluaW11bUNsdXN0ZXJTaXplIHx8IDI7XG4gICAgdGhpcy5tYXhab29tID0gb3B0T3B0aW9ucy5tYXhab29tIHx8IG51bGw7XG4gICAgdGhpcy5zdHlsZXMgPSBvcHRPcHRpb25zLnN0eWxlcyB8fCBbXTtcbiAgICB0aGlzLnRpdGxlID0gb3B0T3B0aW9ucy50aXRsZSB8fCAnJztcbiAgICB0aGlzLnpvb21PbkNsaWNrID0gdHJ1ZTtcblxuICAgIGlmIChvcHRPcHRpb25zLnpvb21PbkNsaWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuem9vbU9uQ2xpY2sgPSBvcHRPcHRpb25zLnpvb21PbkNsaWNrO1xuICAgIH1cblxuICAgIHRoaXMuYXZlcmFnZUNlbnRlciA9IGZhbHNlO1xuXG4gICAgaWYgKG9wdE9wdGlvbnMuYXZlcmFnZUNlbnRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmF2ZXJhZ2VDZW50ZXIgPSBvcHRPcHRpb25zLmF2ZXJhZ2VDZW50ZXI7XG4gICAgfVxuXG4gICAgdGhpcy5pZ25vcmVIaWRkZW4gPSBmYWxzZTtcblxuICAgIGlmIChvcHRPcHRpb25zLmlnbm9yZUhpZGRlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmlnbm9yZUhpZGRlbiA9IG9wdE9wdGlvbnMuaWdub3JlSGlkZGVuO1xuICAgIH1cblxuICAgIHRoaXMuZW5hYmxlUmV0aW5hSWNvbnMgPSBmYWxzZTtcblxuICAgIGlmIChvcHRPcHRpb25zLmVuYWJsZVJldGluYUljb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZW5hYmxlUmV0aW5hSWNvbnMgPSBvcHRPcHRpb25zLmVuYWJsZVJldGluYUljb25zO1xuICAgIH1cblxuICAgIHRoaXMuaW1hZ2VQYXRoID0gb3B0T3B0aW9ucy5pbWFnZVBhdGggfHwgSU1BR0VfUEFUSDtcbiAgICB0aGlzLmltYWdlRXh0ZW5zaW9uID0gb3B0T3B0aW9ucy5pbWFnZUV4dGVuc2lvbiB8fCBJTUFHRV9FWFRFTlNJT047XG4gICAgdGhpcy5pbWFnZVNpemVzID0gb3B0T3B0aW9ucy5pbWFnZVNpemVzIHx8IElNQUdFX1NJWkVTO1xuICAgIHRoaXMuY2FsY3VsYXRvciA9IG9wdE9wdGlvbnMuY2FsY3VsYXRvciB8fCBDQUxDVUxBVE9SO1xuICAgIHRoaXMuYmF0Y2hTaXplID0gb3B0T3B0aW9ucy5iYXRjaFNpemUgfHwgQkFUQ0hfU0laRTtcbiAgICB0aGlzLmJhdGNoU2l6ZUlFID0gb3B0T3B0aW9ucy5iYXRjaFNpemVJRSB8fCBCQVRDSF9TSVpFX0lFO1xuICAgIHRoaXMuY2x1c3RlckNsYXNzID0gb3B0T3B0aW9ucy5jbHVzdGVyQ2xhc3MgfHwgQ0xVU1RFUkVSX0NMQVNTO1xuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdtc2llJykgIT09IC0xKSB7XG4gICAgICAvLyBUcnkgdG8gYXZvaWQgSUUgdGltZW91dCB3aGVuIHByb2Nlc3NpbmcgYSBodWdlIG51bWJlciBvZiBtYXJrZXJzOlxuICAgICAgdGhpcy5iYXRjaFNpemUgPSB0aGlzLmJhdGNoU2l6ZUlFO1xuICAgIH1cblxuICAgIHRoaXMudGltZXJSZWZTdGF0aWMgPSBudWxsO1xuICAgIHRoaXMuc2V0dXBTdHlsZXMoKTtcbiAgICB0aGlzLmFkZE1hcmtlcnMob3B0TWFya2VycywgdHJ1ZSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgIC8vIEB0cy1pZ25vcmVcblxuICAgIHRoaXMuc2V0TWFwKG1hcCk7IC8vIE5vdGU6IHRoaXMgY2F1c2VzIG9uQWRkIHRvIGJlIGNhbGxlZFxuICB9XG5cbiAgdmFyIF9wcm90byA9IENsdXN0ZXJlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLm9uQWRkID0gZnVuY3Rpb24gb25BZGQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmFjdGl2ZU1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gICAgdGhpcy5yZXBhaW50KCk7IC8vIEFkZCB0aGUgbWFwIGV2ZW50IGxpc3RlbmVyc1xuXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmdldE1hcCgpLCAnem9vbV9jaGFuZ2VkJywgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvdGhpcywgQGdldGlmeS9wcm9wZXItYXJyb3dzL25hbWVcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZXNldFZpZXdwb3J0KGZhbHNlKTsgLy8gV29ya2Fyb3VuZCBmb3IgdGhpcyBHb29nbGUgYnVnOiB3aGVuIG1hcCBpcyBhdCBsZXZlbCAwIGFuZCBcIi1cIiBvZlxuICAgICAgLy8gem9vbSBzbGlkZXIgaXMgY2xpY2tlZCwgYSBcInpvb21fY2hhbmdlZFwiIGV2ZW50IGlzIGZpcmVkIGV2ZW4gdGhvdWdoXG4gICAgICAvLyB0aGUgbWFwIGRvZXNuJ3Qgem9vbSBvdXQgYW55IGZ1cnRoZXIuIEluIHRoaXMgc2l0dWF0aW9uLCBubyBcImlkbGVcIlxuICAgICAgLy8gZXZlbnQgaXMgdHJpZ2dlcmVkIHNvIHRoZSBjbHVzdGVyIG1hcmtlcnMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZFxuICAgICAgLy8gZG8gbm90IGdldCByZWRyYXduLiBTYW1lIGdvZXMgZm9yIGEgem9vbSBpbiBhdCBtYXhab29tLlxuXG5cbiAgICAgIGlmICggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBfdGhpcy5nZXRNYXAoKS5nZXRab29tKCkgPT09IChfdGhpcy5nZXQoJ21pblpvb20nKSB8fCAwKSB8fCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIF90aGlzLmdldE1hcCgpLmdldFpvb20oKSA9PT0gX3RoaXMuZ2V0KCdtYXhab29tJykpIHtcbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihfdGhpcywgJ2lkbGUnKTtcbiAgICAgIH1cbiAgICB9KSwgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmdldE1hcCgpLCAnaWRsZScsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgQGdldGlmeS9wcm9wZXItYXJyb3dzL3RoaXMsIEBnZXRpZnkvcHJvcGVyLWFycm93cy9uYW1lXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVkcmF3KCk7XG4gICAgfSldO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvdGhpc1xuICA7XG5cbiAgX3Byb3RvLm9uUmVtb3ZlID0gZnVuY3Rpb24gb25SZW1vdmUoKSB7XG4gICAgLy8gUHV0IGFsbCB0aGUgbWFuYWdlZCBtYXJrZXJzIGJhY2sgb24gdGhlIG1hcDpcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMubWFya2Vyc1tpXS5nZXRNYXAoKSAhPT0gdGhpcy5hY3RpdmVNYXApIHtcbiAgICAgICAgdGhpcy5tYXJrZXJzW2ldLnNldE1hcCh0aGlzLmFjdGl2ZU1hcCk7XG4gICAgICB9XG4gICAgfSAvLyBSZW1vdmUgYWxsIGNsdXN0ZXJzOlxuXG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5jbHVzdGVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHRoaXMuY2x1c3RlcnNbX2ldLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2x1c3RlcnMgPSBbXTsgLy8gUmVtb3ZlIG1hcCBldmVudCBsaXN0ZW5lcnM6XG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmxpc3RlbmVyc1tfaTJdKTtcbiAgICB9XG5cbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuYWN0aXZlTWFwID0gbnVsbDtcbiAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICA7XG5cbiAgX3Byb3RvLmRyYXcgPSBmdW5jdGlvbiBkcmF3KCkge307XG5cbiAgX3Byb3RvLnNldHVwU3R5bGVzID0gZnVuY3Rpb24gc2V0dXBTdHlsZXMoKSB7XG4gICAgaWYgKHRoaXMuc3R5bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW1hZ2VTaXplcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdHlsZXMucHVzaCh7XG4gICAgICAgIHVybDogdGhpcy5pbWFnZVBhdGggKyAoaSArIDEpICsgJy4nICsgdGhpcy5pbWFnZUV4dGVuc2lvbixcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmltYWdlU2l6ZXNbaV0sXG4gICAgICAgIHdpZHRoOiB0aGlzLmltYWdlU2l6ZXNbaV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZml0TWFwVG9NYXJrZXJzID0gZnVuY3Rpb24gZml0TWFwVG9NYXJrZXJzKCkge1xuICAgIHZhciBtYXJrZXJzID0gdGhpcy5nZXRNYXJrZXJzKCk7XG4gICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBvc2l0aW9uID0gbWFya2Vyc1tpXS5nZXRQb3NpdGlvbigpO1xuXG4gICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgYm91bmRzLmV4dGVuZChwb3NpdGlvbik7XG4gICAgICB9XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAvLyBAdHMtaWdub3JlXG5cblxuICAgIHRoaXMuZ2V0TWFwKCkuZml0Qm91bmRzKGJvdW5kcyk7XG4gIH07XG5cbiAgX3Byb3RvLmdldEdyaWRTaXplID0gZnVuY3Rpb24gZ2V0R3JpZFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JpZFNpemU7XG4gIH07XG5cbiAgX3Byb3RvLnNldEdyaWRTaXplID0gZnVuY3Rpb24gc2V0R3JpZFNpemUoZ3JpZFNpemUpIHtcbiAgICB0aGlzLmdyaWRTaXplID0gZ3JpZFNpemU7XG4gIH07XG5cbiAgX3Byb3RvLmdldE1pbmltdW1DbHVzdGVyU2l6ZSA9IGZ1bmN0aW9uIGdldE1pbmltdW1DbHVzdGVyU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5taW5DbHVzdGVyU2l6ZTtcbiAgfTtcblxuICBfcHJvdG8uc2V0TWluaW11bUNsdXN0ZXJTaXplID0gZnVuY3Rpb24gc2V0TWluaW11bUNsdXN0ZXJTaXplKG1pbmltdW1DbHVzdGVyU2l6ZSkge1xuICAgIHRoaXMubWluQ2x1c3RlclNpemUgPSBtaW5pbXVtQ2x1c3RlclNpemU7XG4gIH07XG5cbiAgX3Byb3RvLmdldE1heFpvb20gPSBmdW5jdGlvbiBnZXRNYXhab29tKCkge1xuICAgIHJldHVybiB0aGlzLm1heFpvb207XG4gIH07XG5cbiAgX3Byb3RvLnNldE1heFpvb20gPSBmdW5jdGlvbiBzZXRNYXhab29tKG1heFpvb20pIHtcbiAgICB0aGlzLm1heFpvb20gPSBtYXhab29tO1xuICB9O1xuXG4gIF9wcm90by5nZXRTdHlsZXMgPSBmdW5jdGlvbiBnZXRTdHlsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVzO1xuICB9O1xuXG4gIF9wcm90by5zZXRTdHlsZXMgPSBmdW5jdGlvbiBzZXRTdHlsZXMoc3R5bGVzKSB7XG4gICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gIH07XG5cbiAgX3Byb3RvLmdldFRpdGxlID0gZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gIH07XG5cbiAgX3Byb3RvLnNldFRpdGxlID0gZnVuY3Rpb24gc2V0VGl0bGUodGl0bGUpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIH07XG5cbiAgX3Byb3RvLmdldFpvb21PbkNsaWNrID0gZnVuY3Rpb24gZ2V0Wm9vbU9uQ2xpY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuem9vbU9uQ2xpY2s7XG4gIH07XG5cbiAgX3Byb3RvLnNldFpvb21PbkNsaWNrID0gZnVuY3Rpb24gc2V0Wm9vbU9uQ2xpY2soem9vbU9uQ2xpY2spIHtcbiAgICB0aGlzLnpvb21PbkNsaWNrID0gem9vbU9uQ2xpY2s7XG4gIH07XG5cbiAgX3Byb3RvLmdldEF2ZXJhZ2VDZW50ZXIgPSBmdW5jdGlvbiBnZXRBdmVyYWdlQ2VudGVyKCkge1xuICAgIHJldHVybiB0aGlzLmF2ZXJhZ2VDZW50ZXI7XG4gIH07XG5cbiAgX3Byb3RvLnNldEF2ZXJhZ2VDZW50ZXIgPSBmdW5jdGlvbiBzZXRBdmVyYWdlQ2VudGVyKGF2ZXJhZ2VDZW50ZXIpIHtcbiAgICB0aGlzLmF2ZXJhZ2VDZW50ZXIgPSBhdmVyYWdlQ2VudGVyO1xuICB9O1xuXG4gIF9wcm90by5nZXRJZ25vcmVIaWRkZW4gPSBmdW5jdGlvbiBnZXRJZ25vcmVIaWRkZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuaWdub3JlSGlkZGVuO1xuICB9O1xuXG4gIF9wcm90by5zZXRJZ25vcmVIaWRkZW4gPSBmdW5jdGlvbiBzZXRJZ25vcmVIaWRkZW4oaWdub3JlSGlkZGVuKSB7XG4gICAgdGhpcy5pZ25vcmVIaWRkZW4gPSBpZ25vcmVIaWRkZW47XG4gIH07XG5cbiAgX3Byb3RvLmdldEVuYWJsZVJldGluYUljb25zID0gZnVuY3Rpb24gZ2V0RW5hYmxlUmV0aW5hSWNvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5hYmxlUmV0aW5hSWNvbnM7XG4gIH07XG5cbiAgX3Byb3RvLnNldEVuYWJsZVJldGluYUljb25zID0gZnVuY3Rpb24gc2V0RW5hYmxlUmV0aW5hSWNvbnMoZW5hYmxlUmV0aW5hSWNvbnMpIHtcbiAgICB0aGlzLmVuYWJsZVJldGluYUljb25zID0gZW5hYmxlUmV0aW5hSWNvbnM7XG4gIH07XG5cbiAgX3Byb3RvLmdldEltYWdlRXh0ZW5zaW9uID0gZnVuY3Rpb24gZ2V0SW1hZ2VFeHRlbnNpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VFeHRlbnNpb247XG4gIH07XG5cbiAgX3Byb3RvLnNldEltYWdlRXh0ZW5zaW9uID0gZnVuY3Rpb24gc2V0SW1hZ2VFeHRlbnNpb24oaW1hZ2VFeHRlbnNpb24pIHtcbiAgICB0aGlzLmltYWdlRXh0ZW5zaW9uID0gaW1hZ2VFeHRlbnNpb247XG4gIH07XG5cbiAgX3Byb3RvLmdldEltYWdlUGF0aCA9IGZ1bmN0aW9uIGdldEltYWdlUGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVBhdGg7XG4gIH07XG5cbiAgX3Byb3RvLnNldEltYWdlUGF0aCA9IGZ1bmN0aW9uIHNldEltYWdlUGF0aChpbWFnZVBhdGgpIHtcbiAgICB0aGlzLmltYWdlUGF0aCA9IGltYWdlUGF0aDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0SW1hZ2VTaXplcyA9IGZ1bmN0aW9uIGdldEltYWdlU2l6ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VTaXplcztcbiAgfTtcblxuICBfcHJvdG8uc2V0SW1hZ2VTaXplcyA9IGZ1bmN0aW9uIHNldEltYWdlU2l6ZXMoaW1hZ2VTaXplcykge1xuICAgIHRoaXMuaW1hZ2VTaXplcyA9IGltYWdlU2l6ZXM7XG4gIH07XG5cbiAgX3Byb3RvLmdldENhbGN1bGF0b3IgPSBmdW5jdGlvbiBnZXRDYWxjdWxhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0b3I7XG4gIH07XG5cbiAgX3Byb3RvLnNldENhbGN1bGF0b3IgPSBmdW5jdGlvbiBzZXRDYWxjdWxhdG9yKGNhbGN1bGF0b3IpIHtcbiAgICB0aGlzLmNhbGN1bGF0b3IgPSBjYWxjdWxhdG9yO1xuICB9O1xuXG4gIF9wcm90by5nZXRCYXRjaFNpemVJRSA9IGZ1bmN0aW9uIGdldEJhdGNoU2l6ZUlFKCkge1xuICAgIHJldHVybiB0aGlzLmJhdGNoU2l6ZUlFO1xuICB9O1xuXG4gIF9wcm90by5zZXRCYXRjaFNpemVJRSA9IGZ1bmN0aW9uIHNldEJhdGNoU2l6ZUlFKGJhdGNoU2l6ZUlFKSB7XG4gICAgdGhpcy5iYXRjaFNpemVJRSA9IGJhdGNoU2l6ZUlFO1xuICB9O1xuXG4gIF9wcm90by5nZXRDbHVzdGVyQ2xhc3MgPSBmdW5jdGlvbiBnZXRDbHVzdGVyQ2xhc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2x1c3RlckNsYXNzO1xuICB9O1xuXG4gIF9wcm90by5zZXRDbHVzdGVyQ2xhc3MgPSBmdW5jdGlvbiBzZXRDbHVzdGVyQ2xhc3MoY2x1c3RlckNsYXNzKSB7XG4gICAgdGhpcy5jbHVzdGVyQ2xhc3MgPSBjbHVzdGVyQ2xhc3M7XG4gIH07XG5cbiAgX3Byb3RvLmdldE1hcmtlcnMgPSBmdW5jdGlvbiBnZXRNYXJrZXJzKCkge1xuICAgIHJldHVybiB0aGlzLm1hcmtlcnM7XG4gIH07XG5cbiAgX3Byb3RvLmdldFRvdGFsTWFya2VycyA9IGZ1bmN0aW9uIGdldFRvdGFsTWFya2VycygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrZXJzLmxlbmd0aDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0Q2x1c3RlcnMgPSBmdW5jdGlvbiBnZXRDbHVzdGVycygpIHtcbiAgICByZXR1cm4gdGhpcy5jbHVzdGVycztcbiAgfTtcblxuICBfcHJvdG8uZ2V0VG90YWxDbHVzdGVycyA9IGZ1bmN0aW9uIGdldFRvdGFsQ2x1c3RlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2x1c3RlcnMubGVuZ3RoO1xuICB9O1xuXG4gIF9wcm90by5hZGRNYXJrZXIgPSBmdW5jdGlvbiBhZGRNYXJrZXIobWFya2VyLCBvcHROb0RyYXcpIHtcbiAgICB0aGlzLnB1c2hNYXJrZXJUbyhtYXJrZXIpO1xuXG4gICAgaWYgKCFvcHROb0RyYXcpIHtcbiAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5hZGRNYXJrZXJzID0gZnVuY3Rpb24gYWRkTWFya2VycyhtYXJrZXJzLCBvcHROb0RyYXcpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gbWFya2Vycykge1xuICAgICAgaWYgKG1hcmtlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0aGlzLnB1c2hNYXJrZXJUbyhtYXJrZXJzW2tleV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghb3B0Tm9EcmF3KSB7XG4gICAgICB0aGlzLnJlZHJhdygpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucHVzaE1hcmtlclRvID0gZnVuY3Rpb24gcHVzaE1hcmtlclRvKG1hcmtlcikge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgLy8gSWYgdGhlIG1hcmtlciBpcyBkcmFnZ2FibGUgYWRkIGEgbGlzdGVuZXIgc28gd2UgY2FuIHVwZGF0ZSB0aGUgY2x1c3RlcnMgb24gdGhlIGRyYWdlbmQ6XG4gICAgaWYgKG1hcmtlci5nZXREcmFnZ2FibGUoKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBnZXRpZnkvcHJvcGVyLWFycm93cy9uYW1lLCBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvdGhpc1xuICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnZHJhZ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMi5yZWFkeSkge1xuICAgICAgICAgIG1hcmtlci5pc0FkZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICBfdGhpczIucmVwYWludCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBtYXJrZXIuaXNBZGRlZCA9IGZhbHNlO1xuICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbW92ZU1hcmtlcl8gPSBmdW5jdGlvbiByZW1vdmVNYXJrZXJfKG1hcmtlcikge1xuICAgIHZhciBpbmRleCA9IC0xO1xuXG4gICAgaWYgKHRoaXMubWFya2Vycy5pbmRleE9mKSB7XG4gICAgICBpbmRleCA9IHRoaXMubWFya2Vycy5pbmRleE9mKG1hcmtlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChtYXJrZXIgPT09IHRoaXMubWFya2Vyc1tpXSkge1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIC8vIE1hcmtlciBpcyBub3QgaW4gb3VyIGxpc3Qgb2YgbWFya2Vycywgc28gZG8gbm90aGluZzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtYXJrZXIuc2V0TWFwKG51bGwpO1xuICAgIHRoaXMubWFya2Vycy5zcGxpY2UoaW5kZXgsIDEpOyAvLyBSZW1vdmUgdGhlIG1hcmtlciBmcm9tIHRoZSBsaXN0IG9mIG1hbmFnZWQgbWFya2Vyc1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgX3Byb3RvLnJlbW92ZU1hcmtlciA9IGZ1bmN0aW9uIHJlbW92ZU1hcmtlcihtYXJrZXIsIG9wdE5vRHJhdykge1xuICAgIHZhciByZW1vdmVkID0gdGhpcy5yZW1vdmVNYXJrZXJfKG1hcmtlcik7XG5cbiAgICBpZiAoIW9wdE5vRHJhdyAmJiByZW1vdmVkKSB7XG4gICAgICB0aGlzLnJlcGFpbnQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfTtcblxuICBfcHJvdG8ucmVtb3ZlTWFya2VycyA9IGZ1bmN0aW9uIHJlbW92ZU1hcmtlcnMobWFya2Vycywgb3B0Tm9EcmF3KSB7XG4gICAgdmFyIHJlbW92ZWQgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVtb3ZlZCA9IHJlbW92ZWQgfHwgdGhpcy5yZW1vdmVNYXJrZXJfKG1hcmtlcnNbaV0pO1xuICAgIH1cblxuICAgIGlmICghb3B0Tm9EcmF3ICYmIHJlbW92ZWQpIHtcbiAgICAgIHRoaXMucmVwYWludCgpO1xuICAgIH1cblxuICAgIHJldHVybiByZW1vdmVkO1xuICB9O1xuXG4gIF9wcm90by5jbGVhck1hcmtlcnMgPSBmdW5jdGlvbiBjbGVhck1hcmtlcnMoKSB7XG4gICAgdGhpcy5yZXNldFZpZXdwb3J0KHRydWUpO1xuICAgIHRoaXMubWFya2VycyA9IFtdO1xuICB9O1xuXG4gIF9wcm90by5yZXBhaW50ID0gZnVuY3Rpb24gcmVwYWludCgpIHtcbiAgICB2YXIgb2xkQ2x1c3RlcnMgPSB0aGlzLmNsdXN0ZXJzLnNsaWNlKCk7XG4gICAgdGhpcy5jbHVzdGVycyA9IFtdO1xuICAgIHRoaXMucmVzZXRWaWV3cG9ydChmYWxzZSk7XG4gICAgdGhpcy5yZWRyYXcoKTsgLy8gUmVtb3ZlIHRoZSBvbGQgY2x1c3RlcnMuXG4gICAgLy8gRG8gaXQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYmxpbmtpbmcgZWZmZWN0LlxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDbHVzdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvbGRDbHVzdGVyc1tpXS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0RXh0ZW5kZWRCb3VuZHMgPSBmdW5jdGlvbiBnZXRFeHRlbmRlZEJvdW5kcyhib3VuZHMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTsgLy8gQ29udmVydCB0aGUgcG9pbnRzIHRvIHBpeGVscyBhbmQgdGhlIGV4dGVuZCBvdXQgYnkgdGhlIGdyaWQgc2l6ZS5cblxuICAgIHZhciB0clBpeCA9IHByb2plY3Rpb24uZnJvbUxhdExuZ1RvRGl2UGl4ZWwoIC8vIFR1cm4gdGhlIGJvdW5kcyBpbnRvIGxhdGxuZy5cbiAgICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGJvdW5kcy5nZXROb3J0aEVhc3QoKS5sYXQoKSwgYm91bmRzLmdldE5vcnRoRWFzdCgpLmxuZygpKSk7XG4gICAgdHJQaXgueCArPSB0aGlzLmdyaWRTaXplO1xuICAgIHRyUGl4LnkgLT0gdGhpcy5ncmlkU2l6ZTtcbiAgICB2YXIgYmxQaXggPSBwcm9qZWN0aW9uLmZyb21MYXRMbmdUb0RpdlBpeGVsKCAvLyBUdXJuIHRoZSBib3VuZHMgaW50byBsYXRsbmcuXG4gICAgbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhib3VuZHMuZ2V0U291dGhXZXN0KCkubGF0KCksIGJvdW5kcy5nZXRTb3V0aFdlc3QoKS5sbmcoKSkpO1xuICAgIGJsUGl4LnggLT0gdGhpcy5ncmlkU2l6ZTtcbiAgICBibFBpeC55ICs9IHRoaXMuZ3JpZFNpemU7IC8vIEV4dGVuZCB0aGUgYm91bmRzIHRvIGNvbnRhaW4gdGhlIG5ldyBib3VuZHMuXG5cbiAgICBib3VuZHMuZXh0ZW5kKCAvLyBDb252ZXJ0IHRoZSBwaXhlbCBwb2ludHMgYmFjayB0byBMYXRMbmcgbndcbiAgICBwcm9qZWN0aW9uLmZyb21EaXZQaXhlbFRvTGF0TG5nKHRyUGl4KSk7XG4gICAgYm91bmRzLmV4dGVuZCggLy8gQ29udmVydCB0aGUgcGl4ZWwgcG9pbnRzIGJhY2sgdG8gTGF0TG5nIHN3XG4gICAgcHJvamVjdGlvbi5mcm9tRGl2UGl4ZWxUb0xhdExuZyhibFBpeCkpO1xuICAgIHJldHVybiBib3VuZHM7XG4gIH07XG5cbiAgX3Byb3RvLnJlZHJhdyA9IGZ1bmN0aW9uIHJlZHJhdygpIHtcbiAgICAvLyBSZWRyYXdzIGFsbCB0aGUgY2x1c3RlcnMuXG4gICAgdGhpcy5jcmVhdGVDbHVzdGVycygwKTtcbiAgfTtcblxuICBfcHJvdG8ucmVzZXRWaWV3cG9ydCA9IGZ1bmN0aW9uIHJlc2V0Vmlld3BvcnQob3B0SGlkZSkge1xuICAgIC8vIFJlbW92ZSBhbGwgdGhlIGNsdXN0ZXJzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNsdXN0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmNsdXN0ZXJzW2ldLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2x1c3RlcnMgPSBbXTsgLy8gUmVzZXQgdGhlIG1hcmtlcnMgdG8gbm90IGJlIGFkZGVkIGFuZCB0byBiZSByZW1vdmVkIGZyb20gdGhlIG1hcC5cblxuICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHRoaXMubWFya2Vycy5sZW5ndGg7IF9pMysrKSB7XG4gICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW19pM107XG4gICAgICBtYXJrZXIuaXNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAob3B0SGlkZSkge1xuICAgICAgICBtYXJrZXIuc2V0TWFwKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZGlzdGFuY2VCZXR3ZWVuUG9pbnRzID0gZnVuY3Rpb24gZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKHAxLCBwMikge1xuICAgIHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBFYXJ0aCBpbiBrbVxuXG4gICAgdmFyIGRMYXQgPSAocDIubGF0KCkgLSBwMS5sYXQoKSkgKiBNYXRoLlBJIC8gMTgwO1xuICAgIHZhciBkTG9uID0gKHAyLmxuZygpIC0gcDEubG5nKCkpICogTWF0aC5QSSAvIDE4MDtcbiAgICB2YXIgYSA9IE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArIE1hdGguY29zKHAxLmxhdCgpICogTWF0aC5QSSAvIDE4MCkgKiBNYXRoLmNvcyhwMi5sYXQoKSAqIE1hdGguUEkgLyAxODApICogTWF0aC5zaW4oZExvbiAvIDIpICogTWF0aC5zaW4oZExvbiAvIDIpO1xuICAgIHJldHVybiBSICogKDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSkpO1xuICB9O1xuXG4gIF9wcm90by5pc01hcmtlckluQm91bmRzID0gZnVuY3Rpb24gaXNNYXJrZXJJbkJvdW5kcyhtYXJrZXIsIGJvdW5kcykge1xuICAgIHZhciBwb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gYm91bmRzLmNvbnRhaW5zKHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgX3Byb3RvLmFkZFRvQ2xvc2VzdENsdXN0ZXIgPSBmdW5jdGlvbiBhZGRUb0Nsb3Nlc3RDbHVzdGVyKG1hcmtlcikge1xuICAgIHZhciBjbHVzdGVyO1xuICAgIHZhciBkaXN0YW5jZSA9IDQwMDAwOyAvLyBTb21lIGxhcmdlIG51bWJlclxuXG4gICAgdmFyIGNsdXN0ZXJUb0FkZFRvID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jbHVzdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY2x1c3RlciA9IHRoaXMuY2x1c3RlcnNbaV07XG4gICAgICB2YXIgY2VudGVyID0gY2x1c3Rlci5nZXRDZW50ZXIoKTtcbiAgICAgIHZhciBwb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xuXG4gICAgICBpZiAoY2VudGVyICYmIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBkID0gdGhpcy5kaXN0YW5jZUJldHdlZW5Qb2ludHMoY2VudGVyLCBwb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKGQgPCBkaXN0YW5jZSkge1xuICAgICAgICAgIGRpc3RhbmNlID0gZDtcbiAgICAgICAgICBjbHVzdGVyVG9BZGRUbyA9IGNsdXN0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2x1c3RlclRvQWRkVG8gJiYgY2x1c3RlclRvQWRkVG8uaXNNYXJrZXJJbkNsdXN0ZXJCb3VuZHMobWFya2VyKSkge1xuICAgICAgY2x1c3RlclRvQWRkVG8uYWRkTWFya2VyKG1hcmtlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsdXN0ZXIgPSBuZXcgQ2x1c3Rlcih0aGlzKTtcbiAgICAgIGNsdXN0ZXIuYWRkTWFya2VyKG1hcmtlcik7XG4gICAgICB0aGlzLmNsdXN0ZXJzLnB1c2goY2x1c3Rlcik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jcmVhdGVDbHVzdGVycyA9IGZ1bmN0aW9uIGNyZWF0ZUNsdXN0ZXJzKGlGaXJzdCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDYW5jZWwgcHJldmlvdXMgYmF0Y2ggcHJvY2Vzc2luZyBpZiB3ZSdyZSB3b3JraW5nIG9uIHRoZSBmaXJzdCBiYXRjaDpcblxuXG4gICAgaWYgKGlGaXJzdCA9PT0gMCkge1xuICAgICAgLyoqXHJcbiAgICAgICAqIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgPGNvZGU+Q2x1c3RlcmVyPC9jb2RlPiBiZWdpbnNcclxuICAgICAgICogIGNsdXN0ZXJpbmcgbWFya2Vycy5cclxuICAgICAgICogQG5hbWUgQ2x1c3RlcmVyI2NsdXN0ZXJpbmdiZWdpblxyXG4gICAgICAgKiBAcGFyYW0ge0NsdXN0ZXJlcn0gbWMgVGhlIENsdXN0ZXJlciB3aG9zZSBtYXJrZXJzIGFyZSBiZWluZyBjbHVzdGVyZWQuXHJcbiAgICAgICAqIEBldmVudFxyXG4gICAgICAgKi9cbiAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcywgJ2NsdXN0ZXJpbmdiZWdpbicsIHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy50aW1lclJlZlN0YXRpYyAhPT0gbnVsbCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJSZWZTdGF0aWMpOyAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgZGVsZXRlIHRoaXMudGltZXJSZWZTdGF0aWM7XG4gICAgICB9XG4gICAgfSAvLyBHZXQgb3VyIGN1cnJlbnQgbWFwIHZpZXcgYm91bmRzLlxuICAgIC8vIENyZWF0ZSBhIG5ldyBib3VuZHMgb2JqZWN0IHNvIHdlIGRvbid0IGFmZmVjdCB0aGUgbWFwLlxuICAgIC8vXG4gICAgLy8gU2VlIENvbW1lbnRzIDkgJiAxMSBvbiBJc3N1ZSAzNjUxIHJlbGF0aW5nIHRvIHRoaXMgd29ya2Fyb3VuZCBmb3IgYSBHb29nbGUgTWFwcyBidWc6XG5cblxuICAgIHZhciBtYXBCb3VuZHMgPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5nZXRNYXAoKS5nZXRab29tKCkgPiAzID8gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuZ2V0TWFwKCkuZ2V0Qm91bmRzKCkuZ2V0U291dGhXZXN0KCksIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmdldE1hcCgpLmdldEJvdW5kcygpLmdldE5vcnRoRWFzdCgpKSA6IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMobmV3IGdvb2dsZS5tYXBzLkxhdExuZyg4NS4wMjA3MDc3MTc0MzQ3MiwgLTE3OC40ODM4ODQzNDM3NSksIG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTg1LjA4MTM2NDQ0Mzg0NTQ0LCAxNzguMDAwNDg4NjU2MjUpKTtcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRFeHRlbmRlZEJvdW5kcyhtYXBCb3VuZHMpO1xuICAgIHZhciBpTGFzdCA9IE1hdGgubWluKGlGaXJzdCArIHRoaXMuYmF0Y2hTaXplLCB0aGlzLm1hcmtlcnMubGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSBpRmlyc3Q7IGkgPCBpTGFzdDsgaSsrKSB7XG4gICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW2ldO1xuXG4gICAgICBpZiAoIW1hcmtlci5pc0FkZGVkICYmIHRoaXMuaXNNYXJrZXJJbkJvdW5kcyhtYXJrZXIsIGJvdW5kcykpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlnbm9yZUhpZGRlbiB8fCB0aGlzLmlnbm9yZUhpZGRlbiAmJiBtYXJrZXIuZ2V0VmlzaWJsZSgpKSB7XG4gICAgICAgICAgdGhpcy5hZGRUb0Nsb3Nlc3RDbHVzdGVyKG1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaUxhc3QgPCB0aGlzLm1hcmtlcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnRpbWVyUmVmU3RhdGljID0gd2luZG93LnNldFRpbWVvdXQoIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvdGhpcywgQGdldGlmeS9wcm9wZXItYXJyb3dzL25hbWVcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLmNyZWF0ZUNsdXN0ZXJzKGlMYXN0KTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRpbWVyUmVmU3RhdGljID0gbnVsbDtcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIDxjb2RlPkNsdXN0ZXJlcjwvY29kZT4gc3RvcHNcclxuICAgICAgICogIGNsdXN0ZXJpbmcgbWFya2Vycy5cclxuICAgICAgICogQG5hbWUgQ2x1c3RlcmVyI2NsdXN0ZXJpbmdlbmRcclxuICAgICAgICogQHBhcmFtIHtDbHVzdGVyZXJ9IG1jIFRoZSBDbHVzdGVyZXIgd2hvc2UgbWFya2VycyBhcmUgYmVpbmcgY2x1c3RlcmVkLlxyXG4gICAgICAgKiBAZXZlbnRcclxuICAgICAgICovXG5cbiAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcywgJ2NsdXN0ZXJpbmdlbmQnLCB0aGlzKTtcblxuICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgdGhpcy5jbHVzdGVycy5sZW5ndGg7IF9pNCsrKSB7XG4gICAgICAgIHRoaXMuY2x1c3RlcnNbX2k0XS51cGRhdGVJY29uKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5leHRlbmQgPSBmdW5jdGlvbiBleHRlbmQob2JqMSwgb2JqMikge1xuICAgIHJldHVybiBmdW5jdGlvbiBhcHBseUV4dGVuZChvYmplY3QpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5wcm90b3R5cGVbcHJvcGVydHldID0gb2JqZWN0LnByb3RvdHlwZVtwcm9wZXJ0eV07XG4gICAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgLy8gQHRzLWlnbm9yZVxuXG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0uYXBwbHkob2JqMSwgW29iajJdKTtcbiAgfTtcblxuICByZXR1cm4gQ2x1c3RlcmVyO1xufSgpO1xuXG5leHBvcnQgeyBDbHVzdGVyLCBDbHVzdGVySWNvbiwgQ2x1c3RlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrZXJjbHVzdGVyZXIuZXNtLmpzLm1hcFxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHJlYWN0LWdvb2dsZS1tYXBzL21hcmtlci1jbHVzdGVyZXIvZGlzdC9tYXJrZXJjbHVzdGVyZXIuZXNtLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/*! dynamic exports provided */
/*! exports used: createPortal */
/***/ (function(module, exports) {

module.exports = ReactDOM;

/***/ }),
/* 14 */
/*!*********************************************************************!*\
  !*** ./node_modules/@react-google-maps/infobox/dist/infobox.esm.js ***!
  \*********************************************************************/
/*! exports provided: InfoBox */
/*! exports used: InfoBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return InfoBox; });\nvar InfoBox = /*#__PURE__*/function () {\n  function InfoBox(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.extend(InfoBox, google.maps.OverlayView); // Standard options (in common with google.maps.InfoWindow):\n\n    this.content = options.content || '';\n    this.disableAutoPan = options.disableAutoPan || false;\n    this.maxWidth = options.maxWidth || 0;\n    this.pixelOffset = options.pixelOffset || new google.maps.Size(0, 0);\n    this.position = options.position || new google.maps.LatLng(0, 0);\n    this.zIndex = options.zIndex || null; // Additional options (unique to InfoBox):\n\n    this.boxClass = options.boxClass || 'infoBox';\n    this.boxStyle = options.boxStyle || {};\n    this.closeBoxMargin = options.closeBoxMargin || '2px';\n    this.closeBoxURL = options.closeBoxURL || 'http://www.google.com/intl/en_us/mapfiles/close.gif';\n\n    if (options.closeBoxURL === '') {\n      this.closeBoxURL = '';\n    }\n\n    this.infoBoxClearance = options.infoBoxClearance || new google.maps.Size(1, 1);\n\n    if (typeof options.visible === 'undefined') {\n      if (typeof options.isHidden === 'undefined') {\n        options.visible = true;\n      } else {\n        options.visible = !options.isHidden;\n      }\n    }\n\n    this.isHidden = !options.visible;\n    this.alignBottom = options.alignBottom || false;\n    this.pane = options.pane || 'floatPane';\n    this.enableEventPropagation = options.enableEventPropagation || false;\n    this.div = null;\n    this.closeListener = null;\n    this.moveListener = null;\n    this.mapListener = null;\n    this.contextListener = null;\n    this.eventListeners = null;\n    this.fixedWidthSet = null;\n  }\n\n  var _proto = InfoBox.prototype;\n\n  _proto.createInfoBoxDiv = function createInfoBoxDiv() {\n    var _this = this;\n\n    // This handler prevents an event in the InfoBox from being passed on to the map.\n    function cancelHandler(event) {\n      event.cancelBubble = true;\n\n      if (event.stopPropagation) {\n        event.stopPropagation();\n      }\n    } // This handler ignores the current event in the InfoBox and conditionally prevents\n    // the event from being passed on to the map. It is used for the contextmenu event.\n    // eslint-disable-next-line  @getify/proper-arrows/this\n\n\n    var ignoreHandler = function ignoreHandler(event) {\n      event.returnValue = false;\n\n      if (event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (!_this.enableEventPropagation) {\n        cancelHandler(event);\n      }\n    };\n\n    if (!this.div) {\n      this.div = document.createElement('div');\n      this.setBoxStyle();\n\n      if (typeof this.content === 'string') {\n        this.div.innerHTML = this.getCloseBoxImg() + this.content;\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg();\n        this.div.appendChild(this.content);\n      } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n\n      var panes = this.getPanes();\n      panes[this.pane].appendChild(this.div); // Add the InfoBox div to the DOM\n\n      this.addClickHandler();\n\n      if (this.div.style.width) {\n        this.fixedWidthSet = true;\n      } else {\n        if (this.maxWidth !== 0 && this.div.offsetWidth > this.maxWidth) {\n          this.div.style.width = this.maxWidth + 'px';\n          this.fixedWidthSet = true;\n        } else {\n          // The following code is needed to overcome problems with MSIE\n          var bw = this.getBoxWidths();\n          this.div.style.width = this.div.offsetWidth - bw.left - bw.right + 'px';\n          this.fixedWidthSet = false;\n        }\n      }\n\n      this.panBox(this.disableAutoPan);\n\n      if (!this.enableEventPropagation) {\n        this.eventListeners = []; // Cancel event propagation.\n        // Note: mousemove not included (to resolve Issue 152)\n\n        var events = ['mousedown', 'mouseover', 'mouseout', 'mouseup', 'click', 'dblclick', 'touchstart', 'touchend', 'touchmove'];\n\n        for (var i = 0; i < events.length; i++) {\n          this.eventListeners.push(google.maps.event.addDomListener(this.div, events[i], cancelHandler));\n        } // Workaround for Google bug that causes the cursor to change to a pointer\n        // when the mouse moves over a marker underneath InfoBox.\n\n\n        this.eventListeners.push(google.maps.event.addDomListener(this.div, 'mouseover', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        function () {\n          if (_this.div) {\n            _this.div.style.cursor = 'default';\n          }\n        }));\n      }\n\n      this.contextListener = google.maps.event.addDomListener(this.div, 'contextmenu', ignoreHandler);\n      /**\r\n       * This event is fired when the DIV containing the InfoBox's content is attached to the DOM.\r\n       * @name InfoBox#domready\r\n       * @event\r\n       */\n\n      google.maps.event.trigger(this, 'domready');\n    }\n  };\n\n  _proto.getCloseBoxImg = function getCloseBoxImg() {\n    var img = '';\n\n    if (this.closeBoxURL !== '') {\n      img = '<img alt=\"\"';\n      img += ' aria-hidden=\"true\"';\n      img += \" src='\" + this.closeBoxURL + \"'\";\n      img += ' align=right'; // Do this because Opera chokes on style='float: right;'\n\n      img += \" style='\";\n      img += ' position: relative;'; // Required by MSIE\n\n      img += ' cursor: pointer;';\n      img += ' margin: ' + this.closeBoxMargin + ';';\n      img += \"'>\";\n    }\n\n    return img;\n  };\n\n  _proto.addClickHandler = function addClickHandler() {\n    if (this.div && this.div.firstChild && this.closeBoxURL !== '') {\n      var closeBox = this.div.firstChild;\n      this.closeListener = google.maps.event.addDomListener(closeBox, 'click', this.getCloseClickHandler());\n    } else {\n      this.closeListener = null;\n    }\n  };\n\n  _proto.getCloseClickHandler = function getCloseClickHandler() {\n    var _this2 = this;\n\n    // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    return function (event) {\n      // 1.0.3 fix: Always prevent propagation of a close box click to the map:\n      event.cancelBubble = true;\n\n      if (event.stopPropagation) {\n        event.stopPropagation();\n      }\n      /**\r\n       * This event is fired when the InfoBox's close box is clicked.\r\n       * @name InfoBox#closeclick\r\n       * @event\r\n       */\n\n\n      google.maps.event.trigger(_this2, 'closeclick');\n\n      _this2.close();\n    };\n  };\n\n  _proto.panBox = function panBox(disablePan) {\n    if (this.div && !disablePan) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      var map = this.getMap(); // Only pan if attached to map, not panorama\n\n      if (map instanceof google.maps.Map) {\n        var xOffset = 0;\n        var yOffset = 0;\n        var bounds = map.getBounds();\n\n        if (bounds && !bounds.contains(this.position)) {\n          // Marker not in visible area of map, so set center\n          // of map to the marker position first.\n          map.setCenter(this.position);\n        }\n\n        var mapDiv = map.getDiv(); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        var mapWidth = mapDiv.offsetWidth; // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        var mapHeight = mapDiv.offsetHeight;\n        var iwOffsetX = this.pixelOffset.width;\n        var iwOffsetY = this.pixelOffset.height;\n        var iwWidth = this.div.offsetWidth;\n        var iwHeight = this.div.offsetHeight;\n        var padX = this.infoBoxClearance.width;\n        var padY = this.infoBoxClearance.height; // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        var projection = this.getProjection();\n        var pixPosition = projection.fromLatLngToContainerPixel(this.position);\n\n        if (pixPosition.x < -iwOffsetX + padX) {\n          xOffset = pixPosition.x + iwOffsetX - padX;\n        } else if (pixPosition.x + iwWidth + iwOffsetX + padX > mapWidth) {\n          xOffset = pixPosition.x + iwWidth + iwOffsetX + padX - mapWidth;\n        }\n\n        if (this.alignBottom) {\n          if (pixPosition.y < -iwOffsetY + padY + iwHeight) {\n            yOffset = pixPosition.y + iwOffsetY - padY - iwHeight;\n          } else if (pixPosition.y + iwOffsetY + padY > mapHeight) {\n            yOffset = pixPosition.y + iwOffsetY + padY - mapHeight;\n          }\n        } else {\n          if (pixPosition.y < -iwOffsetY + padY) {\n            yOffset = pixPosition.y + iwOffsetY - padY;\n          } else if (pixPosition.y + iwHeight + iwOffsetY + padY > mapHeight) {\n            yOffset = pixPosition.y + iwHeight + iwOffsetY + padY - mapHeight;\n          }\n        }\n\n        if (!(xOffset === 0 && yOffset === 0)) {\n          // Move the map to the shifted center.\n          map.panBy(xOffset, yOffset);\n        }\n      }\n    }\n  };\n\n  _proto.setBoxStyle = function setBoxStyle() {\n    if (this.div) {\n      // Apply style values from the style sheet defined in the boxClass parameter:\n      this.div.className = this.boxClass; // Clear existing inline style values:\n\n      this.div.style.cssText = ''; // Apply style values defined in the boxStyle parameter:\n\n      var boxStyle = this.boxStyle;\n\n      for (var i in boxStyle) {\n        if (boxStyle.hasOwnProperty(i)) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          this.div.style[i] = boxStyle[i];\n        }\n      } // Fix for iOS disappearing InfoBox problem\n      // See http://stackoverflow.com/questions/9229535/google-maps-markers-disappear-at-certain-zoom-level-only-on-iphone-ipad\n\n\n      this.div.style.webkitTransform = 'translateZ(0)'; // Fix up opacity style for benefit of MSIE\n\n      if (typeof this.div.style.opacity !== 'undefined' && this.div.style.opacity !== '') {\n        // See http://www.quirksmode.org/css/opacity.html\n        var opacity = parseFloat(this.div.style.opacity || ''); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        this.div.style.msFilter = '\"progid:DXImageTransform.Microsoft.Alpha(Opacity=' + opacity * 100 + ')\"';\n        this.div.style.filter = 'alpha(opacity=' + opacity * 100 + ')';\n      } // Apply required styles\n\n\n      this.div.style.position = 'absolute';\n      this.div.style.visibility = 'hidden';\n\n      if (this.zIndex !== null) {\n        this.div.style.zIndex = this.zIndex + '';\n      }\n\n      if (!this.div.style.overflow) {\n        this.div.style.overflow = 'auto';\n      }\n    }\n  };\n\n  _proto.getBoxWidths = function getBoxWidths() {\n    var bw = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n\n    if (!this.div) {\n      return bw;\n    }\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      var ownerDocument = this.div.ownerDocument;\n      var computedStyle = ownerDocument && ownerDocument.defaultView ? ownerDocument.defaultView.getComputedStyle(this.div, '') : null;\n\n      if (computedStyle) {\n        // The computed styles are always in pixel units (good!)\n        bw.top = parseInt(computedStyle.borderTopWidth || '', 10) || 0;\n        bw.bottom = parseInt(computedStyle.borderBottomWidth || '', 10) || 0;\n        bw.left = parseInt(computedStyle.borderLeftWidth || '', 10) || 0;\n        bw.right = parseInt(computedStyle.borderRightWidth || '', 10) || 0;\n      }\n    } else if ( // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    document.documentElement.currentStyle // MSIE\n    ) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        var currentStyle = this.div.currentStyle;\n\n        if (currentStyle) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // The current styles may not be in pixel units, but assume they are (bad!)\n          bw.top = parseInt(currentStyle.borderTopWidth || '', 10) || 0;\n          bw.bottom = parseInt(currentStyle.borderBottomWidth || '', 10) || 0;\n          bw.left = parseInt(currentStyle.borderLeftWidth || '', 10) || 0;\n          bw.right = parseInt(currentStyle.borderRightWidth || '', 10) || 0;\n        }\n      }\n\n    return bw;\n  };\n\n  _proto.onRemove = function onRemove() {\n    if (this.div && this.div.parentNode) {\n      this.div.parentNode.removeChild(this.div);\n      this.div = null;\n    }\n  };\n\n  _proto.draw = function draw() {\n    this.createInfoBoxDiv();\n\n    if (this.div) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      var projection = this.getProjection();\n      var pixPosition = projection.fromLatLngToDivPixel(this.position);\n      this.div.style.left = pixPosition.x + this.pixelOffset.width + 'px';\n\n      if (this.alignBottom) {\n        this.div.style.bottom = -(pixPosition.y + this.pixelOffset.height) + 'px';\n      } else {\n        this.div.style.top = pixPosition.y + this.pixelOffset.height + 'px';\n      }\n\n      if (this.isHidden) {\n        this.div.style.visibility = 'hidden';\n      } else {\n        this.div.style.visibility = 'visible';\n      }\n    }\n  };\n\n  _proto.setOptions = function setOptions(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (typeof options.boxClass !== 'undefined') {\n      // Must be first\n      this.boxClass = options.boxClass;\n      this.setBoxStyle();\n    }\n\n    if (typeof options.boxStyle !== 'undefined') {\n      // Must be second\n      this.boxStyle = options.boxStyle;\n      this.setBoxStyle();\n    }\n\n    if (typeof options.content !== 'undefined') {\n      this.setContent(options.content);\n    }\n\n    if (typeof options.disableAutoPan !== 'undefined') {\n      this.disableAutoPan = options.disableAutoPan;\n    }\n\n    if (typeof options.maxWidth !== 'undefined') {\n      this.maxWidth = options.maxWidth;\n    }\n\n    if (typeof options.pixelOffset !== 'undefined') {\n      this.pixelOffset = options.pixelOffset;\n    }\n\n    if (typeof options.alignBottom !== 'undefined') {\n      this.alignBottom = options.alignBottom;\n    }\n\n    if (typeof options.position !== 'undefined') {\n      this.setPosition(options.position);\n    }\n\n    if (typeof options.zIndex !== 'undefined') {\n      this.setZIndex(options.zIndex);\n    }\n\n    if (typeof options.closeBoxMargin !== 'undefined') {\n      this.closeBoxMargin = options.closeBoxMargin;\n    }\n\n    if (typeof options.closeBoxURL !== 'undefined') {\n      this.closeBoxURL = options.closeBoxURL;\n    }\n\n    if (typeof options.infoBoxClearance !== 'undefined') {\n      this.infoBoxClearance = options.infoBoxClearance;\n    }\n\n    if (typeof options.isHidden !== 'undefined') {\n      this.isHidden = options.isHidden;\n    }\n\n    if (typeof options.visible !== 'undefined') {\n      this.isHidden = !options.visible;\n    }\n\n    if (typeof options.enableEventPropagation !== 'undefined') {\n      this.enableEventPropagation = options.enableEventPropagation;\n    }\n\n    if (this.div) {\n      this.draw();\n    }\n  };\n\n  _proto.setContent = function setContent(content) {\n    this.content = content;\n\n    if (this.div) {\n      if (this.closeListener) {\n        google.maps.event.removeListener(this.closeListener);\n        this.closeListener = null;\n      } // Odd code required to make things work with MSIE.\n\n\n      if (!this.fixedWidthSet) {\n        this.div.style.width = '';\n      }\n\n      if (typeof content === 'string') {\n        this.div.innerHTML = this.getCloseBoxImg() + content;\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg();\n        this.div.appendChild(content);\n      } // Perverse code required to make things work with MSIE.\n      // (Ensures the close box does, in fact, float to the right.)\n\n\n      if (!this.fixedWidthSet) {\n        this.div.style.width = this.div.offsetWidth + 'px';\n\n        if (typeof content === 'string') {\n          this.div.innerHTML = this.getCloseBoxImg() + content;\n        } else {\n          this.div.innerHTML = this.getCloseBoxImg();\n          this.div.appendChild(content);\n        }\n      }\n\n      this.addClickHandler();\n    }\n    /**\r\n     * This event is fired when the content of the InfoBox changes.\r\n     * @name InfoBox#content_changed\r\n     * @event\r\n     */\n\n\n    google.maps.event.trigger(this, 'content_changed');\n  };\n\n  _proto.setPosition = function setPosition(latLng) {\n    this.position = latLng;\n\n    if (this.div) {\n      this.draw();\n    }\n    /**\r\n     * This event is fired when the position of the InfoBox changes.\r\n     * @name InfoBox#position_changed\r\n     * @event\r\n     */\n\n\n    google.maps.event.trigger(this, 'position_changed');\n  };\n\n  _proto.setVisible = function setVisible(isVisible) {\n    this.isHidden = !isVisible;\n\n    if (this.div) {\n      this.div.style.visibility = this.isHidden ? 'hidden' : 'visible';\n    }\n  };\n\n  _proto.setZIndex = function setZIndex(index) {\n    this.zIndex = index;\n\n    if (this.div) {\n      this.div.style.zIndex = index + '';\n    }\n    /**\r\n     * This event is fired when the zIndex of the InfoBox changes.\r\n     * @name InfoBox#zindex_changed\r\n     * @event\r\n     */\n\n\n    google.maps.event.trigger(this, 'zindex_changed');\n  };\n\n  _proto.getContent = function getContent() {\n    return this.content;\n  };\n\n  _proto.getPosition = function getPosition() {\n    return this.position;\n  };\n\n  _proto.getZIndex = function getZIndex() {\n    return this.zIndex;\n  };\n\n  _proto.getVisible = function getVisible() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    var map = this.getMap();\n    var isVisible;\n\n    if (typeof map === 'undefined' || map === null) {\n      isVisible = false;\n    } else {\n      isVisible = !this.isHidden;\n    }\n\n    return isVisible;\n  };\n\n  _proto.show = function show() {\n    this.isHidden = false;\n\n    if (this.div) {\n      this.div.style.visibility = 'visible';\n    }\n  };\n\n  _proto.hide = function hide() {\n    this.isHidden = true;\n\n    if (this.div) {\n      this.div.style.visibility = 'hidden';\n    }\n  };\n\n  _proto.open = function open(map, anchor) {\n    var _this3 = this;\n\n    if (anchor) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      this.position = anchor.getPosition();\n      this.moveListener = google.maps.event.addListener(anchor, 'position_changed', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n      function () {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        var position = anchor.getPosition();\n\n        _this3.setPosition(position);\n      });\n      this.mapListener = google.maps.event.addListener(anchor, 'map_changed', // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n      function () {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        _this3.setMap(anchor.map);\n      });\n    } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n\n    this.setMap(map);\n\n    if (this.div) {\n      this.panBox();\n    }\n  };\n\n  _proto.close = function close() {\n    if (this.closeListener) {\n      google.maps.event.removeListener(this.closeListener);\n      this.closeListener = null;\n    }\n\n    if (this.eventListeners) {\n      for (var i = 0; i < this.eventListeners.length; i++) {\n        google.maps.event.removeListener(this.eventListeners[i]);\n      }\n\n      this.eventListeners = null;\n    }\n\n    if (this.moveListener) {\n      google.maps.event.removeListener(this.moveListener);\n      this.moveListener = null;\n    }\n\n    if (this.mapListener) {\n      google.maps.event.removeListener(this.mapListener);\n      this.mapListener = null;\n    }\n\n    if (this.contextListener) {\n      google.maps.event.removeListener(this.contextListener);\n      this.contextListener = null;\n    } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n\n    this.setMap(null);\n  };\n\n  _proto.extend = function extend(obj1, obj2) {\n    return function applyExtend(object) {\n      // eslint-disable-next-line guard-for-in\n      for (var property in object.prototype) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        if (!this.prototype.hasOwnProperty(property)) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          this.prototype[property] = object.prototype[property];\n        }\n      } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n\n      return this;\n    }.apply(obj1, [obj2]);\n  };\n\n  return InfoBox;\n}();\n\n\n//# sourceMappingURL=infobox.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHJlYWN0LWdvb2dsZS1tYXBzL2luZm9ib3gvZGlzdC9pbmZvYm94LmVzbS5qcz80M2M2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBJbmZvQm94ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSW5mb0JveChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMuZXh0ZW5kKEluZm9Cb3gsIGdvb2dsZS5tYXBzLk92ZXJsYXlWaWV3KTsgLy8gU3RhbmRhcmQgb3B0aW9ucyAoaW4gY29tbW9uIHdpdGggZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyk6XG5cbiAgICB0aGlzLmNvbnRlbnQgPSBvcHRpb25zLmNvbnRlbnQgfHwgJyc7XG4gICAgdGhpcy5kaXNhYmxlQXV0b1BhbiA9IG9wdGlvbnMuZGlzYWJsZUF1dG9QYW4gfHwgZmFsc2U7XG4gICAgdGhpcy5tYXhXaWR0aCA9IG9wdGlvbnMubWF4V2lkdGggfHwgMDtcbiAgICB0aGlzLnBpeGVsT2Zmc2V0ID0gb3B0aW9ucy5waXhlbE9mZnNldCB8fCBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgwLCAwKTtcbiAgICB0aGlzLnBvc2l0aW9uID0gb3B0aW9ucy5wb3NpdGlvbiB8fCBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDAsIDApO1xuICAgIHRoaXMuekluZGV4ID0gb3B0aW9ucy56SW5kZXggfHwgbnVsbDsgLy8gQWRkaXRpb25hbCBvcHRpb25zICh1bmlxdWUgdG8gSW5mb0JveCk6XG5cbiAgICB0aGlzLmJveENsYXNzID0gb3B0aW9ucy5ib3hDbGFzcyB8fCAnaW5mb0JveCc7XG4gICAgdGhpcy5ib3hTdHlsZSA9IG9wdGlvbnMuYm94U3R5bGUgfHwge307XG4gICAgdGhpcy5jbG9zZUJveE1hcmdpbiA9IG9wdGlvbnMuY2xvc2VCb3hNYXJnaW4gfHwgJzJweCc7XG4gICAgdGhpcy5jbG9zZUJveFVSTCA9IG9wdGlvbnMuY2xvc2VCb3hVUkwgfHwgJ2h0dHA6Ly93d3cuZ29vZ2xlLmNvbS9pbnRsL2VuX3VzL21hcGZpbGVzL2Nsb3NlLmdpZic7XG5cbiAgICBpZiAob3B0aW9ucy5jbG9zZUJveFVSTCA9PT0gJycpIHtcbiAgICAgIHRoaXMuY2xvc2VCb3hVUkwgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLmluZm9Cb3hDbGVhcmFuY2UgPSBvcHRpb25zLmluZm9Cb3hDbGVhcmFuY2UgfHwgbmV3IGdvb2dsZS5tYXBzLlNpemUoMSwgMSk7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudmlzaWJsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pc0hpZGRlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb3B0aW9ucy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMudmlzaWJsZSA9ICFvcHRpb25zLmlzSGlkZGVuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaXNIaWRkZW4gPSAhb3B0aW9ucy52aXNpYmxlO1xuICAgIHRoaXMuYWxpZ25Cb3R0b20gPSBvcHRpb25zLmFsaWduQm90dG9tIHx8IGZhbHNlO1xuICAgIHRoaXMucGFuZSA9IG9wdGlvbnMucGFuZSB8fCAnZmxvYXRQYW5lJztcbiAgICB0aGlzLmVuYWJsZUV2ZW50UHJvcGFnYXRpb24gPSBvcHRpb25zLmVuYWJsZUV2ZW50UHJvcGFnYXRpb24gfHwgZmFsc2U7XG4gICAgdGhpcy5kaXYgPSBudWxsO1xuICAgIHRoaXMuY2xvc2VMaXN0ZW5lciA9IG51bGw7XG4gICAgdGhpcy5tb3ZlTGlzdGVuZXIgPSBudWxsO1xuICAgIHRoaXMubWFwTGlzdGVuZXIgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dExpc3RlbmVyID0gbnVsbDtcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gbnVsbDtcbiAgICB0aGlzLmZpeGVkV2lkdGhTZXQgPSBudWxsO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEluZm9Cb3gucHJvdG90eXBlO1xuXG4gIF9wcm90by5jcmVhdGVJbmZvQm94RGl2ID0gZnVuY3Rpb24gY3JlYXRlSW5mb0JveERpdigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gVGhpcyBoYW5kbGVyIHByZXZlbnRzIGFuIGV2ZW50IGluIHRoZSBJbmZvQm94IGZyb20gYmVpbmcgcGFzc2VkIG9uIHRvIHRoZSBtYXAuXG4gICAgZnVuY3Rpb24gY2FuY2VsSGFuZGxlcihldmVudCkge1xuICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblxuICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9IC8vIFRoaXMgaGFuZGxlciBpZ25vcmVzIHRoZSBjdXJyZW50IGV2ZW50IGluIHRoZSBJbmZvQm94IGFuZCBjb25kaXRpb25hbGx5IHByZXZlbnRzXG4gICAgLy8gdGhlIGV2ZW50IGZyb20gYmVpbmcgcGFzc2VkIG9uIHRvIHRoZSBtYXAuIEl0IGlzIHVzZWQgZm9yIHRoZSBjb250ZXh0bWVudSBldmVudC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIEBnZXRpZnkvcHJvcGVyLWFycm93cy90aGlzXG5cblxuICAgIHZhciBpZ25vcmVIYW5kbGVyID0gZnVuY3Rpb24gaWdub3JlSGFuZGxlcihldmVudCkge1xuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcblxuICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMuZW5hYmxlRXZlbnRQcm9wYWdhdGlvbikge1xuICAgICAgICBjYW5jZWxIYW5kbGVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCF0aGlzLmRpdikge1xuICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuc2V0Qm94U3R5bGUoKTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKSArIHRoaXMuY29udGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKTtcbiAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KTtcbiAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAvLyBAdHMtaWdub3JlXG5cblxuICAgICAgdmFyIHBhbmVzID0gdGhpcy5nZXRQYW5lcygpO1xuICAgICAgcGFuZXNbdGhpcy5wYW5lXS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7IC8vIEFkZCB0aGUgSW5mb0JveCBkaXYgdG8gdGhlIERPTVxuXG4gICAgICB0aGlzLmFkZENsaWNrSGFuZGxlcigpO1xuXG4gICAgICBpZiAodGhpcy5kaXYuc3R5bGUud2lkdGgpIHtcbiAgICAgICAgdGhpcy5maXhlZFdpZHRoU2V0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLm1heFdpZHRoICE9PSAwICYmIHRoaXMuZGl2Lm9mZnNldFdpZHRoID4gdGhpcy5tYXhXaWR0aCkge1xuICAgICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy5tYXhXaWR0aCArICdweCc7XG4gICAgICAgICAgdGhpcy5maXhlZFdpZHRoU2V0ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgaXMgbmVlZGVkIHRvIG92ZXJjb21lIHByb2JsZW1zIHdpdGggTVNJRVxuICAgICAgICAgIHZhciBidyA9IHRoaXMuZ2V0Qm94V2lkdGhzKCk7XG4gICAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLmRpdi5vZmZzZXRXaWR0aCAtIGJ3LmxlZnQgLSBidy5yaWdodCArICdweCc7XG4gICAgICAgICAgdGhpcy5maXhlZFdpZHRoU2V0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5wYW5Cb3godGhpcy5kaXNhYmxlQXV0b1Bhbik7XG5cbiAgICAgIGlmICghdGhpcy5lbmFibGVFdmVudFByb3BhZ2F0aW9uKSB7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBbXTsgLy8gQ2FuY2VsIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAgICAvLyBOb3RlOiBtb3VzZW1vdmUgbm90IGluY2x1ZGVkICh0byByZXNvbHZlIElzc3VlIDE1MilcblxuICAgICAgICB2YXIgZXZlbnRzID0gWydtb3VzZWRvd24nLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ21vdXNldXAnLCAnY2xpY2snLCAnZGJsY2xpY2snLCAndG91Y2hzdGFydCcsICd0b3VjaGVuZCcsICd0b3VjaG1vdmUnXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih0aGlzLmRpdiwgZXZlbnRzW2ldLCBjYW5jZWxIYW5kbGVyKSk7XG4gICAgICAgIH0gLy8gV29ya2Fyb3VuZCBmb3IgR29vZ2xlIGJ1ZyB0aGF0IGNhdXNlcyB0aGUgY3Vyc29yIHRvIGNoYW5nZSB0byBhIHBvaW50ZXJcbiAgICAgICAgLy8gd2hlbiB0aGUgbW91c2UgbW92ZXMgb3ZlciBhIG1hcmtlciB1bmRlcm5lYXRoIEluZm9Cb3guXG5cblxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2goZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIodGhpcy5kaXYsICdtb3VzZW92ZXInLCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIEBnZXRpZnkvcHJvcGVyLWFycm93cy90aGlzLCBAZ2V0aWZ5L3Byb3Blci1hcnJvd3MvbmFtZVxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzLmRpdikge1xuICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250ZXh0TGlzdGVuZXIgPSBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih0aGlzLmRpdiwgJ2NvbnRleHRtZW51JywgaWdub3JlSGFuZGxlcik7XG4gICAgICAvKipcclxuICAgICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBESVYgY29udGFpbmluZyB0aGUgSW5mb0JveCdzIGNvbnRlbnQgaXMgYXR0YWNoZWQgdG8gdGhlIERPTS5cclxuICAgICAgICogQG5hbWUgSW5mb0JveCNkb21yZWFkeVxyXG4gICAgICAgKiBAZXZlbnRcclxuICAgICAgICovXG5cbiAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcywgJ2RvbXJlYWR5Jyk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5nZXRDbG9zZUJveEltZyA9IGZ1bmN0aW9uIGdldENsb3NlQm94SW1nKCkge1xuICAgIHZhciBpbWcgPSAnJztcblxuICAgIGlmICh0aGlzLmNsb3NlQm94VVJMICE9PSAnJykge1xuICAgICAgaW1nID0gJzxpbWcgYWx0PVwiXCInO1xuICAgICAgaW1nICs9ICcgYXJpYS1oaWRkZW49XCJ0cnVlXCInO1xuICAgICAgaW1nICs9IFwiIHNyYz0nXCIgKyB0aGlzLmNsb3NlQm94VVJMICsgXCInXCI7XG4gICAgICBpbWcgKz0gJyBhbGlnbj1yaWdodCc7IC8vIERvIHRoaXMgYmVjYXVzZSBPcGVyYSBjaG9rZXMgb24gc3R5bGU9J2Zsb2F0OiByaWdodDsnXG5cbiAgICAgIGltZyArPSBcIiBzdHlsZT0nXCI7XG4gICAgICBpbWcgKz0gJyBwb3NpdGlvbjogcmVsYXRpdmU7JzsgLy8gUmVxdWlyZWQgYnkgTVNJRVxuXG4gICAgICBpbWcgKz0gJyBjdXJzb3I6IHBvaW50ZXI7JztcbiAgICAgIGltZyArPSAnIG1hcmdpbjogJyArIHRoaXMuY2xvc2VCb3hNYXJnaW4gKyAnOyc7XG4gICAgICBpbWcgKz0gXCInPlwiO1xuICAgIH1cblxuICAgIHJldHVybiBpbWc7XG4gIH07XG5cbiAgX3Byb3RvLmFkZENsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIGFkZENsaWNrSGFuZGxlcigpIHtcbiAgICBpZiAodGhpcy5kaXYgJiYgdGhpcy5kaXYuZmlyc3RDaGlsZCAmJiB0aGlzLmNsb3NlQm94VVJMICE9PSAnJykge1xuICAgICAgdmFyIGNsb3NlQm94ID0gdGhpcy5kaXYuZmlyc3RDaGlsZDtcbiAgICAgIHRoaXMuY2xvc2VMaXN0ZW5lciA9IGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKGNsb3NlQm94LCAnY2xpY2snLCB0aGlzLmdldENsb3NlQ2xpY2tIYW5kbGVyKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlTGlzdGVuZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZ2V0Q2xvc2VDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiBnZXRDbG9zZUNsaWNrSGFuZGxlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgQGdldGlmeS9wcm9wZXItYXJyb3dzL3RoaXMsIEBnZXRpZnkvcHJvcGVyLWFycm93cy9uYW1lXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gMS4wLjMgZml4OiBBbHdheXMgcHJldmVudCBwcm9wYWdhdGlvbiBvZiBhIGNsb3NlIGJveCBjbGljayB0byB0aGUgbWFwOlxuICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblxuICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIEluZm9Cb3gncyBjbG9zZSBib3ggaXMgY2xpY2tlZC5cclxuICAgICAgICogQG5hbWUgSW5mb0JveCNjbG9zZWNsaWNrXHJcbiAgICAgICAqIEBldmVudFxyXG4gICAgICAgKi9cblxuXG4gICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKF90aGlzMiwgJ2Nsb3NlY2xpY2snKTtcblxuICAgICAgX3RoaXMyLmNsb3NlKCk7XG4gICAgfTtcbiAgfTtcblxuICBfcHJvdG8ucGFuQm94ID0gZnVuY3Rpb24gcGFuQm94KGRpc2FibGVQYW4pIHtcbiAgICBpZiAodGhpcy5kaXYgJiYgIWRpc2FibGVQYW4pIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7IC8vIE9ubHkgcGFuIGlmIGF0dGFjaGVkIHRvIG1hcCwgbm90IHBhbm9yYW1hXG5cbiAgICAgIGlmIChtYXAgaW5zdGFuY2VvZiBnb29nbGUubWFwcy5NYXApIHtcbiAgICAgICAgdmFyIHhPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgeU9mZnNldCA9IDA7XG4gICAgICAgIHZhciBib3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgaWYgKGJvdW5kcyAmJiAhYm91bmRzLmNvbnRhaW5zKHRoaXMucG9zaXRpb24pKSB7XG4gICAgICAgICAgLy8gTWFya2VyIG5vdCBpbiB2aXNpYmxlIGFyZWEgb2YgbWFwLCBzbyBzZXQgY2VudGVyXG4gICAgICAgICAgLy8gb2YgbWFwIHRvIHRoZSBtYXJrZXIgcG9zaXRpb24gZmlyc3QuXG4gICAgICAgICAgbWFwLnNldENlbnRlcih0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXBEaXYgPSBtYXAuZ2V0RGl2KCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgdmFyIG1hcFdpZHRoID0gbWFwRGl2Lm9mZnNldFdpZHRoOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuXG4gICAgICAgIHZhciBtYXBIZWlnaHQgPSBtYXBEaXYub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgaXdPZmZzZXRYID0gdGhpcy5waXhlbE9mZnNldC53aWR0aDtcbiAgICAgICAgdmFyIGl3T2Zmc2V0WSA9IHRoaXMucGl4ZWxPZmZzZXQuaGVpZ2h0O1xuICAgICAgICB2YXIgaXdXaWR0aCA9IHRoaXMuZGl2Lm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgaXdIZWlnaHQgPSB0aGlzLmRpdi5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHZhciBwYWRYID0gdGhpcy5pbmZvQm94Q2xlYXJhbmNlLndpZHRoO1xuICAgICAgICB2YXIgcGFkWSA9IHRoaXMuaW5mb0JveENsZWFyYW5jZS5oZWlnaHQ7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgdmFyIHBpeFBvc2l0aW9uID0gcHJvamVjdGlvbi5mcm9tTGF0TG5nVG9Db250YWluZXJQaXhlbCh0aGlzLnBvc2l0aW9uKTtcblxuICAgICAgICBpZiAocGl4UG9zaXRpb24ueCA8IC1pd09mZnNldFggKyBwYWRYKSB7XG4gICAgICAgICAgeE9mZnNldCA9IHBpeFBvc2l0aW9uLnggKyBpd09mZnNldFggLSBwYWRYO1xuICAgICAgICB9IGVsc2UgaWYgKHBpeFBvc2l0aW9uLnggKyBpd1dpZHRoICsgaXdPZmZzZXRYICsgcGFkWCA+IG1hcFdpZHRoKSB7XG4gICAgICAgICAgeE9mZnNldCA9IHBpeFBvc2l0aW9uLnggKyBpd1dpZHRoICsgaXdPZmZzZXRYICsgcGFkWCAtIG1hcFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYWxpZ25Cb3R0b20pIHtcbiAgICAgICAgICBpZiAocGl4UG9zaXRpb24ueSA8IC1pd09mZnNldFkgKyBwYWRZICsgaXdIZWlnaHQpIHtcbiAgICAgICAgICAgIHlPZmZzZXQgPSBwaXhQb3NpdGlvbi55ICsgaXdPZmZzZXRZIC0gcGFkWSAtIGl3SGVpZ2h0O1xuICAgICAgICAgIH0gZWxzZSBpZiAocGl4UG9zaXRpb24ueSArIGl3T2Zmc2V0WSArIHBhZFkgPiBtYXBIZWlnaHQpIHtcbiAgICAgICAgICAgIHlPZmZzZXQgPSBwaXhQb3NpdGlvbi55ICsgaXdPZmZzZXRZICsgcGFkWSAtIG1hcEhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHBpeFBvc2l0aW9uLnkgPCAtaXdPZmZzZXRZICsgcGFkWSkge1xuICAgICAgICAgICAgeU9mZnNldCA9IHBpeFBvc2l0aW9uLnkgKyBpd09mZnNldFkgLSBwYWRZO1xuICAgICAgICAgIH0gZWxzZSBpZiAocGl4UG9zaXRpb24ueSArIGl3SGVpZ2h0ICsgaXdPZmZzZXRZICsgcGFkWSA+IG1hcEhlaWdodCkge1xuICAgICAgICAgICAgeU9mZnNldCA9IHBpeFBvc2l0aW9uLnkgKyBpd0hlaWdodCArIGl3T2Zmc2V0WSArIHBhZFkgLSBtYXBIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEoeE9mZnNldCA9PT0gMCAmJiB5T2Zmc2V0ID09PSAwKSkge1xuICAgICAgICAgIC8vIE1vdmUgdGhlIG1hcCB0byB0aGUgc2hpZnRlZCBjZW50ZXIuXG4gICAgICAgICAgbWFwLnBhbkJ5KHhPZmZzZXQsIHlPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5zZXRCb3hTdHlsZSA9IGZ1bmN0aW9uIHNldEJveFN0eWxlKCkge1xuICAgIGlmICh0aGlzLmRpdikge1xuICAgICAgLy8gQXBwbHkgc3R5bGUgdmFsdWVzIGZyb20gdGhlIHN0eWxlIHNoZWV0IGRlZmluZWQgaW4gdGhlIGJveENsYXNzIHBhcmFtZXRlcjpcbiAgICAgIHRoaXMuZGl2LmNsYXNzTmFtZSA9IHRoaXMuYm94Q2xhc3M7IC8vIENsZWFyIGV4aXN0aW5nIGlubGluZSBzdHlsZSB2YWx1ZXM6XG5cbiAgICAgIHRoaXMuZGl2LnN0eWxlLmNzc1RleHQgPSAnJzsgLy8gQXBwbHkgc3R5bGUgdmFsdWVzIGRlZmluZWQgaW4gdGhlIGJveFN0eWxlIHBhcmFtZXRlcjpcblxuICAgICAgdmFyIGJveFN0eWxlID0gdGhpcy5ib3hTdHlsZTtcblxuICAgICAgZm9yICh2YXIgaSBpbiBib3hTdHlsZSkge1xuICAgICAgICBpZiAoYm94U3R5bGUuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgdGhpcy5kaXYuc3R5bGVbaV0gPSBib3hTdHlsZVtpXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBGaXggZm9yIGlPUyBkaXNhcHBlYXJpbmcgSW5mb0JveCBwcm9ibGVtXG4gICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85MjI5NTM1L2dvb2dsZS1tYXBzLW1hcmtlcnMtZGlzYXBwZWFyLWF0LWNlcnRhaW4tem9vbS1sZXZlbC1vbmx5LW9uLWlwaG9uZS1pcGFkXG5cblxuICAgICAgdGhpcy5kaXYuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVooMCknOyAvLyBGaXggdXAgb3BhY2l0eSBzdHlsZSBmb3IgYmVuZWZpdCBvZiBNU0lFXG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5kaXYuc3R5bGUub3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5kaXYuc3R5bGUub3BhY2l0eSAhPT0gJycpIHtcbiAgICAgICAgLy8gU2VlIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvY3NzL29wYWNpdHkuaHRtbFxuICAgICAgICB2YXIgb3BhY2l0eSA9IHBhcnNlRmxvYXQodGhpcy5kaXYuc3R5bGUub3BhY2l0eSB8fCAnJyk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubXNGaWx0ZXIgPSAnXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEoT3BhY2l0eT0nICsgb3BhY2l0eSAqIDEwMCArICcpXCInO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5maWx0ZXIgPSAnYWxwaGEob3BhY2l0eT0nICsgb3BhY2l0eSAqIDEwMCArICcpJztcbiAgICAgIH0gLy8gQXBwbHkgcmVxdWlyZWQgc3R5bGVzXG5cblxuICAgICAgdGhpcy5kaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgdGhpcy5kaXYuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgICBpZiAodGhpcy56SW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuekluZGV4ID0gdGhpcy56SW5kZXggKyAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmRpdi5zdHlsZS5vdmVyZmxvdykge1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmdldEJveFdpZHRocyA9IGZ1bmN0aW9uIGdldEJveFdpZHRocygpIHtcbiAgICB2YXIgYncgPSB7XG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDBcbiAgICB9O1xuXG4gICAgaWYgKCF0aGlzLmRpdikge1xuICAgICAgcmV0dXJuIGJ3O1xuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5kZWZhdWx0VmlldyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICB2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZGl2Lm93bmVyRG9jdW1lbnQ7XG4gICAgICB2YXIgY29tcHV0ZWRTdHlsZSA9IG93bmVyRG9jdW1lbnQgJiYgb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA/IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmRpdiwgJycpIDogbnVsbDtcblxuICAgICAgaWYgKGNvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgLy8gVGhlIGNvbXB1dGVkIHN0eWxlcyBhcmUgYWx3YXlzIGluIHBpeGVsIHVuaXRzIChnb29kISlcbiAgICAgICAgYncudG9wID0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5ib3JkZXJUb3BXaWR0aCB8fCAnJywgMTApIHx8IDA7XG4gICAgICAgIGJ3LmJvdHRvbSA9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUuYm9yZGVyQm90dG9tV2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICBidy5sZWZ0ID0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5ib3JkZXJMZWZ0V2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICBidy5yaWdodCA9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUuYm9yZGVyUmlnaHRXaWR0aCB8fCAnJywgMTApIHx8IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUgLy8gTVNJRVxuICAgICkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YXIgY3VycmVudFN0eWxlID0gdGhpcy5kaXYuY3VycmVudFN0eWxlO1xuXG4gICAgICAgIGlmIChjdXJyZW50U3R5bGUpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBUaGUgY3VycmVudCBzdHlsZXMgbWF5IG5vdCBiZSBpbiBwaXhlbCB1bml0cywgYnV0IGFzc3VtZSB0aGV5IGFyZSAoYmFkISlcbiAgICAgICAgICBidy50b3AgPSBwYXJzZUludChjdXJyZW50U3R5bGUuYm9yZGVyVG9wV2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgIGJ3LmJvdHRvbSA9IHBhcnNlSW50KGN1cnJlbnRTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCB8fCAnJywgMTApIHx8IDA7XG4gICAgICAgICAgYncubGVmdCA9IHBhcnNlSW50KGN1cnJlbnRTdHlsZS5ib3JkZXJMZWZ0V2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICAgIGJ3LnJpZ2h0ID0gcGFyc2VJbnQoY3VycmVudFN0eWxlLmJvcmRlclJpZ2h0V2lkdGggfHwgJycsIDEwKSB8fCAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICByZXR1cm4gYnc7XG4gIH07XG5cbiAgX3Byb3RvLm9uUmVtb3ZlID0gZnVuY3Rpb24gb25SZW1vdmUoKSB7XG4gICAgaWYgKHRoaXMuZGl2ICYmIHRoaXMuZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgdGhpcy5kaXYgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZHJhdyA9IGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgdGhpcy5jcmVhdGVJbmZvQm94RGl2KCk7XG5cbiAgICBpZiAodGhpcy5kaXYpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgIHZhciBwaXhQb3NpdGlvbiA9IHByb2plY3Rpb24uZnJvbUxhdExuZ1RvRGl2UGl4ZWwodGhpcy5wb3NpdGlvbik7XG4gICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gcGl4UG9zaXRpb24ueCArIHRoaXMucGl4ZWxPZmZzZXQud2lkdGggKyAncHgnO1xuXG4gICAgICBpZiAodGhpcy5hbGlnbkJvdHRvbSkge1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5ib3R0b20gPSAtKHBpeFBvc2l0aW9uLnkgKyB0aGlzLnBpeGVsT2Zmc2V0LmhlaWdodCkgKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gcGl4UG9zaXRpb24ueSArIHRoaXMucGl4ZWxPZmZzZXQuaGVpZ2h0ICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNIaWRkZW4pIHtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnNldE9wdGlvbnMgPSBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmJveENsYXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gTXVzdCBiZSBmaXJzdFxuICAgICAgdGhpcy5ib3hDbGFzcyA9IG9wdGlvbnMuYm94Q2xhc3M7XG4gICAgICB0aGlzLnNldEJveFN0eWxlKCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmJveFN0eWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gTXVzdCBiZSBzZWNvbmRcbiAgICAgIHRoaXMuYm94U3R5bGUgPSBvcHRpb25zLmJveFN0eWxlO1xuICAgICAgdGhpcy5zZXRCb3hTdHlsZSgpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb250ZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5zZXRDb250ZW50KG9wdGlvbnMuY29udGVudCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRpc2FibGVBdXRvUGFuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kaXNhYmxlQXV0b1BhbiA9IG9wdGlvbnMuZGlzYWJsZUF1dG9QYW47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLm1heFdpZHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tYXhXaWR0aCA9IG9wdGlvbnMubWF4V2lkdGg7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnBpeGVsT2Zmc2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5waXhlbE9mZnNldCA9IG9wdGlvbnMucGl4ZWxPZmZzZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmFsaWduQm90dG9tICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5hbGlnbkJvdHRvbSA9IG9wdGlvbnMuYWxpZ25Cb3R0b207XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnBvc2l0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5zZXRQb3NpdGlvbihvcHRpb25zLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuekluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5zZXRaSW5kZXgob3B0aW9ucy56SW5kZXgpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbG9zZUJveE1hcmdpbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuY2xvc2VCb3hNYXJnaW4gPSBvcHRpb25zLmNsb3NlQm94TWFyZ2luO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbG9zZUJveFVSTCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuY2xvc2VCb3hVUkwgPSBvcHRpb25zLmNsb3NlQm94VVJMO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pbmZvQm94Q2xlYXJhbmNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5pbmZvQm94Q2xlYXJhbmNlID0gb3B0aW9ucy5pbmZvQm94Q2xlYXJhbmNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pc0hpZGRlbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuaXNIaWRkZW4gPSBvcHRpb25zLmlzSGlkZGVuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy52aXNpYmxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5pc0hpZGRlbiA9ICFvcHRpb25zLnZpc2libGU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmVuYWJsZUV2ZW50UHJvcGFnYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmVuYWJsZUV2ZW50UHJvcGFnYXRpb24gPSBvcHRpb25zLmVuYWJsZUV2ZW50UHJvcGFnYXRpb247XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnNldENvbnRlbnQgPSBmdW5jdGlvbiBzZXRDb250ZW50KGNvbnRlbnQpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuXG4gICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICBpZiAodGhpcy5jbG9zZUxpc3RlbmVyKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMuY2xvc2VMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuY2xvc2VMaXN0ZW5lciA9IG51bGw7XG4gICAgICB9IC8vIE9kZCBjb2RlIHJlcXVpcmVkIHRvIG1ha2UgdGhpbmdzIHdvcmsgd2l0aCBNU0lFLlxuXG5cbiAgICAgIGlmICghdGhpcy5maXhlZFdpZHRoU2V0KSB7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5kaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRDbG9zZUJveEltZygpICsgY29udGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKTtcbiAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICB9IC8vIFBlcnZlcnNlIGNvZGUgcmVxdWlyZWQgdG8gbWFrZSB0aGluZ3Mgd29yayB3aXRoIE1TSUUuXG4gICAgICAvLyAoRW5zdXJlcyB0aGUgY2xvc2UgYm94IGRvZXMsIGluIGZhY3QsIGZsb2F0IHRvIHRoZSByaWdodC4pXG5cblxuICAgICAgaWYgKCF0aGlzLmZpeGVkV2lkdGhTZXQpIHtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLmRpdi5vZmZzZXRXaWR0aCArICdweCc7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuZGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0Q2xvc2VCb3hJbWcoKSArIGNvbnRlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRDbG9zZUJveEltZygpO1xuICAgICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkQ2xpY2tIYW5kbGVyKCk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBjb250ZW50IG9mIHRoZSBJbmZvQm94IGNoYW5nZXMuXHJcbiAgICAgKiBAbmFtZSBJbmZvQm94I2NvbnRlbnRfY2hhbmdlZFxyXG4gICAgICogQGV2ZW50XHJcbiAgICAgKi9cblxuXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCAnY29udGVudF9jaGFuZ2VkJyk7XG4gIH07XG5cbiAgX3Byb3RvLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gc2V0UG9zaXRpb24obGF0TG5nKSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IGxhdExuZztcblxuICAgIGlmICh0aGlzLmRpdikge1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBwb3NpdGlvbiBvZiB0aGUgSW5mb0JveCBjaGFuZ2VzLlxyXG4gICAgICogQG5hbWUgSW5mb0JveCNwb3NpdGlvbl9jaGFuZ2VkXHJcbiAgICAgKiBAZXZlbnRcclxuICAgICAqL1xuXG5cbiAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsICdwb3NpdGlvbl9jaGFuZ2VkJyk7XG4gIH07XG5cbiAgX3Byb3RvLnNldFZpc2libGUgPSBmdW5jdGlvbiBzZXRWaXNpYmxlKGlzVmlzaWJsZSkge1xuICAgIHRoaXMuaXNIaWRkZW4gPSAhaXNWaXNpYmxlO1xuXG4gICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICB0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5pc0hpZGRlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uc2V0WkluZGV4ID0gZnVuY3Rpb24gc2V0WkluZGV4KGluZGV4KSB7XG4gICAgdGhpcy56SW5kZXggPSBpbmRleDtcblxuICAgIGlmICh0aGlzLmRpdikge1xuICAgICAgdGhpcy5kaXYuc3R5bGUuekluZGV4ID0gaW5kZXggKyAnJztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHpJbmRleCBvZiB0aGUgSW5mb0JveCBjaGFuZ2VzLlxyXG4gICAgICogQG5hbWUgSW5mb0JveCN6aW5kZXhfY2hhbmdlZFxyXG4gICAgICogQGV2ZW50XHJcbiAgICAgKi9cblxuXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCAnemluZGV4X2NoYW5nZWQnKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0Q29udGVudCA9IGZ1bmN0aW9uIGdldENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiBnZXRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbjtcbiAgfTtcblxuICBfcHJvdG8uZ2V0WkluZGV4ID0gZnVuY3Rpb24gZ2V0WkluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnpJbmRleDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0VmlzaWJsZSA9IGZ1bmN0aW9uIGdldFZpc2libGUoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIHZhciBpc1Zpc2libGU7XG5cbiAgICBpZiAodHlwZW9mIG1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgbWFwID09PSBudWxsKSB7XG4gICAgICBpc1Zpc2libGUgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXNWaXNpYmxlID0gIXRoaXMuaXNIaWRkZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzVmlzaWJsZTtcbiAgfTtcblxuICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgdGhpcy5pc0hpZGRlbiA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuZGl2KSB7XG4gICAgICB0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5kaXYpIHtcbiAgICAgIHRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLm9wZW4gPSBmdW5jdGlvbiBvcGVuKG1hcCwgYW5jaG9yKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMucG9zaXRpb24gPSBhbmNob3IuZ2V0UG9zaXRpb24oKTtcbiAgICAgIHRoaXMubW92ZUxpc3RlbmVyID0gZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYW5jaG9yLCAncG9zaXRpb25fY2hhbmdlZCcsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgQGdldGlmeS9wcm9wZXItYXJyb3dzL3RoaXMsIEBnZXRpZnkvcHJvcGVyLWFycm93cy9uYW1lXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGFuY2hvci5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIF90aGlzMy5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFwTGlzdGVuZXIgPSBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihhbmNob3IsICdtYXBfY2hhbmdlZCcsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgQGdldGlmeS9wcm9wZXItYXJyb3dzL3RoaXMsIEBnZXRpZnkvcHJvcGVyLWFycm93cy9uYW1lXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIF90aGlzMy5zZXRNYXAoYW5jaG9yLm1hcCk7XG4gICAgICB9KTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWlnbm9yZVxuICAgIC8vIEB0cy1pZ25vcmVcblxuXG4gICAgdGhpcy5zZXRNYXAobWFwKTtcblxuICAgIGlmICh0aGlzLmRpdikge1xuICAgICAgdGhpcy5wYW5Cb3goKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VMaXN0ZW5lcikge1xuICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5jbG9zZUxpc3RlbmVyKTtcbiAgICAgIHRoaXMuY2xvc2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudExpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmV2ZW50TGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubW92ZUxpc3RlbmVyKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLm1vdmVMaXN0ZW5lcik7XG4gICAgICB0aGlzLm1vdmVMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWFwTGlzdGVuZXIpIHtcbiAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMubWFwTGlzdGVuZXIpO1xuICAgICAgdGhpcy5tYXBMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29udGV4dExpc3RlbmVyKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbnRleHRMaXN0ZW5lcik7XG4gICAgICB0aGlzLmNvbnRleHRMaXN0ZW5lciA9IG51bGw7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAvLyBAdHMtaWdub3JlXG5cblxuICAgIHRoaXMuc2V0TWFwKG51bGwpO1xuICB9O1xuXG4gIF9wcm90by5leHRlbmQgPSBmdW5jdGlvbiBleHRlbmQob2JqMSwgb2JqMikge1xuICAgIHJldHVybiBmdW5jdGlvbiBhcHBseUV4dGVuZChvYmplY3QpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKCF0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgdGhpcy5wcm90b3R5cGVbcHJvcGVydHldID0gb2JqZWN0LnByb3RvdHlwZVtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtaWdub3JlXG4gICAgICAvLyBAdHMtaWdub3JlXG5cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfS5hcHBseShvYmoxLCBbb2JqMl0pO1xuICB9O1xuXG4gIHJldHVybiBJbmZvQm94O1xufSgpO1xuXG5leHBvcnQgeyBJbmZvQm94IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmZvYm94LmVzbS5qcy5tYXBcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0ByZWFjdC1nb29nbGUtbWFwcy9pbmZvYm94L2Rpc3QvaW5mb2JveC5lc20uanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/*!****************************!*\
  !*** ./src/posts/posts.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(/*! ./style.scss */ 17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar _wp$blockEditor = wp.blockEditor,\n    useBlockProps = _wp$blockEditor.useBlockProps,\n    InspectorControls = _wp$blockEditor.InspectorControls;\nvar _wp$components = wp.components,\n    SelectControl = _wp$components.SelectControl,\n    TextControl = _wp$components.TextControl,\n    CheckboxControl = _wp$components.CheckboxControl;\nvar _wp = wp,\n    ServerSideRender = _wp.serverSideRender;\nvar _wp$components2 = wp.components,\n    Panel = _wp$components2.Panel,\n    PanelBody = _wp$components2.PanelBody,\n    PanelRow = _wp$components2.PanelRow;\nvar _wordpressIcons = '@wordpress/icons',\n    more = _wordpressIcons.more;\n\n\nregisterBlockType('gb/block-posts', {\n\tapiVersion: 2,\n\ttitle: __('Posts by Type'),\n\ticon: 'sticky',\n\tcategory: 'common',\n\tkeywords: [__('Posts by Type'), __('Appearance')],\n\tattributes: {\n\t\tisInPostFetch: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false\n\t\t},\n\t\tpostType: {\n\t\t\ttype: 'string',\n\t\t\tdefault: null\n\t\t},\n\t\tpostTypesAvailable: {\n\t\t\ttype: 'array',\n\t\t\tdefault: null\n\t\t},\n\t\tlimit: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"10\"\n\t\t},\n\t\tpaginate: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false\n\t\t},\n\t\ttaxonomy: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"\"\n\t\t},\n\t\ttaxonomiesAvailable: {\n\t\t\ttype: 'array',\n\t\t\tdefault: null\n\t\t},\n\t\ttermSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"\"\n\t\t},\n\t\ttaxonomyFilter: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"\"\n\t\t},\n\t\ttaxonomyFilterActive: {\n\t\t\ttype: 'array',\n\t\t\tdefault: null\n\t\t},\n\t\tcallbackFunction: {\n\t\t\ttype: 'string',\n\t\t\tdefault: ''\n\t\t}\n\t},\n\n\tedit: function edit(props) {\n\t\tvar attributes = props.attributes,\n\t\t    setAttributes = props.setAttributes;\n\n\n\t\tvar blockProps = useBlockProps();\n\n\t\t// Get post types\n\t\tif (!attributes.isInPostFetch) {\n\t\t\t// Fetch once\n\t\t\tsetAttributes({ isInPostFetch: true });\n\t\t\twp.apiFetch({\n\t\t\t\tpath: '/wp/v2/types'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar postTypesTemp = [{ value: null, label: 'Select a post type' }];\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = Object.entries(data)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar _ref = _step.value;\n\n\t\t\t\t\t\tvar _ref2 = _slicedToArray(_ref, 2);\n\n\t\t\t\t\t\tvar key = _ref2[0];\n\t\t\t\t\t\tvar value = _ref2[1];\n\n\t\t\t\t\t\tpostTypesTemp.push({ label: value.name, value: key });\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsetAttributes({ postTypesAvailable: postTypesTemp });\n\t\t\t});\n\t\t}\n\n\t\tvar blockRender = void 0;\n\t\tif (attributes) {\n\t\t\tif (attributes.postType) {\n\t\t\t\tvar postType = attributes.postType,\n\t\t\t\t    limit = attributes.limit,\n\t\t\t\t    taxonomy = attributes.taxonomy,\n\t\t\t\t    taxonomyFilter = attributes.taxonomyFilter,\n\t\t\t\t    termSlug = attributes.termSlug,\n\t\t\t\t    callbackFunction = attributes.callbackFunction,\n\t\t\t\t    className = attributes.className,\n\t\t\t\t    paginate = attributes.paginate,\n\t\t\t\t    taxonomyFilterActive = attributes.taxonomyFilterActive;\n\n\t\t\t\tblockRender = wp.element.createElement(ServerSideRender, {\n\t\t\t\t\tblock: 'gb/block-posts',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tpostType: postType,\n\t\t\t\t\t\tlimit: limit,\n\t\t\t\t\t\ttaxonomy: taxonomy,\n\t\t\t\t\t\ttaxonomyFilter: taxonomyFilter,\n\t\t\t\t\t\ttermSlug: termSlug,\n\t\t\t\t\t\tcallbackFunction: callbackFunction,\n\t\t\t\t\t\tclassName: className,\n\t\t\t\t\t\tpaginate: paginate,\n\t\t\t\t\t\ttaxonomyFilterActive: taxonomyFilterActive\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tblockRender = wp.element.createElement(\n\t\t\t\t\t'p',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Selected post type, term and term name.'\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tblockRender = wp.element.createElement(\n\t\t\t\t'p',\n\t\t\t\tnull,\n\t\t\t\t'Loading...'\n\t\t\t);\n\t\t}\n\n\t\tvar onUpdatePostType = function onUpdatePostType(newPostType) {\n\t\t\tsetAttributes({ postType: newPostType });\n\t\t\t// Get post type taxonomies\n\t\t\twp.apiFetch({\n\t\t\t\tpath: '/wp/v2/types/' + newPostType,\n\t\t\t\tcontext: 'view'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar taxonomyTemp = [{ value: null, label: 'All taxonomies' }];\n\t\t\t\tvar taxonomyCheckboxTemp = [];\n\t\t\t\tdata.taxonomies.forEach(function (tax) {\n\t\t\t\t\ttaxonomyTemp.push({ value: tax, label: (tax[0].toUpperCase() + tax.substr(1)).replaceAll('_', ' ') });\n\t\t\t\t\ttaxonomyCheckboxTemp.push({ value: tax, visible: false });\n\t\t\t\t});\n\t\t\t\tsetAttributes({ taxonomiesAvailable: taxonomyTemp });\n\t\t\t\tsetAttributes({ taxonomyFilterActive: taxonomyCheckboxTemp });\n\t\t\t});\n\t\t};\n\n\t\tvar onUpdateTaxonomy = function onUpdateTaxonomy(newTaxonomy) {\n\t\t\tsetAttributes({ taxonomy: newTaxonomy });\n\t\t};\n\n\t\tvar onUpdateTaxonomyFilter = function onUpdateTaxonomyFilter(newTaxonomy) {\n\t\t\tsetAttributes({ taxonomyFilter: newTaxonomy });\n\t\t};\n\n\t\t// Add filter checkboxes\n\t\tvar filterTaxononmyCheckboxes = [];\n\t\tif (attributes.taxonomyFilterActive) {\n\t\t\tif (attributes.taxonomyFilterActive.length > 0) {\n\t\t\t\tvar _loop = function _loop(n) {\n\t\t\t\t\tvar label = attributes.taxonomyFilterActive[n];\n\t\t\t\t\tfilterTaxononmyCheckboxes.push(wp.element.createElement(CheckboxControl, {\n\t\t\t\t\t\tlabel: (label.value[0].toUpperCase() + label.value.substr(1)).replaceAll('_', ' '),\n\t\t\t\t\t\tchecked: label.visible,\n\t\t\t\t\t\tonChange: function onChange(newStatus) {\n\t\t\t\t\t\t\tconsole.log(newStatus + ' ' + n);\n\t\t\t\t\t\t\tvar taxChecks = [].concat(_toConsumableArray(attributes.taxonomyFilterActive));\n\t\t\t\t\t\t\tvar taxItem = Object.assign({}, taxChecks[n]);\n\t\t\t\t\t\t\ttaxItem['visible'] = newStatus;\n\t\t\t\t\t\t\ttaxChecks[n] = taxItem;\n\t\t\t\t\t\t\tsetAttributes({ taxonomyFilterActive: taxChecks });\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t};\n\n\t\t\t\tfor (var n in attributes.taxonomyFilterActive) {\n\t\t\t\t\t_loop(n);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfilterTaxononmyCheckboxes.push(wp.element.createElement(\n\t\t\t\t\t'p',\n\t\t\t\t\tnull,\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t'em',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Post type contains no terms'\n\t\t\t\t\t)\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement(\n\t\t\t\tInspectorControls,\n\t\t\t\tnull,\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tPanelBody,\n\t\t\t\t\t{ title: 'Posts Settings', icon: more, initialOpen: true },\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\t\tlabel: 'Layout callback function',\n\t\t\t\t\t\t\tvalue: attributes.callbackFunction,\n\t\t\t\t\t\t\tonChange: function onChange(newCallbackFunction) {\n\t\t\t\t\t\t\t\treturn setAttributes({ callbackFunction: newCallbackFunction });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tattributes.postTypesAvailable ? wp.element.createElement(SelectControl, {\n\t\t\t\t\t\t\tlabel: __('Select a post type: '),\n\t\t\t\t\t\t\tonChange: onUpdatePostType,\n\t\t\t\t\t\t\tvalue: attributes.postType,\n\t\t\t\t\t\t\toptions: attributes.postTypesAvailable\n\t\t\t\t\t\t}) : wp.element.createElement(\n\t\t\t\t\t\t\t'p',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Loading\\u2026'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tattributes.taxonomiesAvailable ? wp.element.createElement(SelectControl, {\n\t\t\t\t\t\t\tlabel: __('Select a taxonomy: '),\n\t\t\t\t\t\t\tonChange: onUpdateTaxonomy,\n\t\t\t\t\t\t\tvalue: attributes.taxonomy,\n\t\t\t\t\t\t\toptions: attributes.taxonomiesAvailable\n\t\t\t\t\t\t}) : wp.element.createElement('p', null),\n\t\t\t\t\t\tattributes.taxonomy ? wp.element.createElement(TextControl, {\n\t\t\t\t\t\t\tlabel: 'Term',\n\t\t\t\t\t\t\tvalue: attributes.termSlug,\n\t\t\t\t\t\t\tonChange: function onChange(newTermSlug) {\n\t\t\t\t\t\t\t\treturn setAttributes({ termSlug: newTermSlug });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}) : wp.element.createElement('p', null)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tPanelBody,\n\t\t\t\t\t{ title: 'Posts Limits', icon: more, initialOpen: true },\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\t\tlabel: 'Post limit',\n\t\t\t\t\t\t\tvalue: attributes.limit,\n\t\t\t\t\t\t\tonChange: function onChange(newLimit) {\n\t\t\t\t\t\t\t\treturn setAttributes({ limit: newLimit });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n\t\t\t\t\t\twp.element.createElement(CheckboxControl, {\n\t\t\t\t\t\t\tlabel: 'Paginate',\n\t\t\t\t\t\t\tchecked: attributes.paginate,\n\t\t\t\t\t\t\tonChange: function onChange(newPaginate) {\n\t\t\t\t\t\t\t\treturn setAttributes({ paginate: newPaginate });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tPanelBody,\n\t\t\t\t\t{ title: 'Filters Settings', icon: more, initialOpen: true },\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tfilterTaxononmyCheckboxes\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tblockRender\n\t\t);\n\t}\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcG9zdHMvcG9zdHMuanM/OTc2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5pbXBvcnQgJy4vZWRpdG9yLnNjc3MnO1xuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG52YXIgX18gPSB3cC5pMThuLl9fO1xudmFyIHJlZ2lzdGVyQmxvY2tUeXBlID0gd3AuYmxvY2tzLnJlZ2lzdGVyQmxvY2tUeXBlO1xudmFyIF93cCRibG9ja0VkaXRvciA9IHdwLmJsb2NrRWRpdG9yLFxuICAgIHVzZUJsb2NrUHJvcHMgPSBfd3AkYmxvY2tFZGl0b3IudXNlQmxvY2tQcm9wcyxcbiAgICBJbnNwZWN0b3JDb250cm9scyA9IF93cCRibG9ja0VkaXRvci5JbnNwZWN0b3JDb250cm9scztcbnZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgU2VsZWN0Q29udHJvbCA9IF93cCRjb21wb25lbnRzLlNlbGVjdENvbnRyb2wsXG4gICAgVGV4dENvbnRyb2wgPSBfd3AkY29tcG9uZW50cy5UZXh0Q29udHJvbCxcbiAgICBDaGVja2JveENvbnRyb2wgPSBfd3AkY29tcG9uZW50cy5DaGVja2JveENvbnRyb2w7XG52YXIgX3dwID0gd3AsXG4gICAgU2VydmVyU2lkZVJlbmRlciA9IF93cC5zZXJ2ZXJTaWRlUmVuZGVyO1xudmFyIF93cCRjb21wb25lbnRzMiA9IHdwLmNvbXBvbmVudHMsXG4gICAgUGFuZWwgPSBfd3AkY29tcG9uZW50czIuUGFuZWwsXG4gICAgUGFuZWxCb2R5ID0gX3dwJGNvbXBvbmVudHMyLlBhbmVsQm9keSxcbiAgICBQYW5lbFJvdyA9IF93cCRjb21wb25lbnRzMi5QYW5lbFJvdztcbnZhciBfd29yZHByZXNzSWNvbnMgPSAnQHdvcmRwcmVzcy9pY29ucycsXG4gICAgbW9yZSA9IF93b3JkcHJlc3NJY29ucy5tb3JlO1xuXG5cbnJlZ2lzdGVyQmxvY2tUeXBlKCdnYi9ibG9jay1wb3N0cycsIHtcblx0YXBpVmVyc2lvbjogMixcblx0dGl0bGU6IF9fKCdQb3N0cyBieSBUeXBlJyksXG5cdGljb246ICdzdGlja3knLFxuXHRjYXRlZ29yeTogJ2NvbW1vbicsXG5cdGtleXdvcmRzOiBbX18oJ1Bvc3RzIGJ5IFR5cGUnKSwgX18oJ0FwcGVhcmFuY2UnKV0sXG5cdGF0dHJpYnV0ZXM6IHtcblx0XHRpc0luUG9zdEZldGNoOiB7XG5cdFx0XHR0eXBlOiAnYm9vbGVhbicsXG5cdFx0XHRkZWZhdWx0OiBmYWxzZVxuXHRcdH0sXG5cdFx0cG9zdFR5cGU6IHtcblx0XHRcdHR5cGU6ICdzdHJpbmcnLFxuXHRcdFx0ZGVmYXVsdDogbnVsbFxuXHRcdH0sXG5cdFx0cG9zdFR5cGVzQXZhaWxhYmxlOiB7XG5cdFx0XHR0eXBlOiAnYXJyYXknLFxuXHRcdFx0ZGVmYXVsdDogbnVsbFxuXHRcdH0sXG5cdFx0bGltaXQ6IHtcblx0XHRcdHR5cGU6ICdzdHJpbmcnLFxuXHRcdFx0ZGVmYXVsdDogXCIxMFwiXG5cdFx0fSxcblx0XHRwYWdpbmF0ZToge1xuXHRcdFx0dHlwZTogJ2Jvb2xlYW4nLFxuXHRcdFx0ZGVmYXVsdDogZmFsc2Vcblx0XHR9LFxuXHRcdHRheG9ub215OiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJyxcblx0XHRcdGRlZmF1bHQ6IFwiXCJcblx0XHR9LFxuXHRcdHRheG9ub21pZXNBdmFpbGFibGU6IHtcblx0XHRcdHR5cGU6ICdhcnJheScsXG5cdFx0XHRkZWZhdWx0OiBudWxsXG5cdFx0fSxcblx0XHR0ZXJtU2x1Zzoge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRkZWZhdWx0OiBcIlwiXG5cdFx0fSxcblx0XHR0YXhvbm9teUZpbHRlcjoge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRkZWZhdWx0OiBcIlwiXG5cdFx0fSxcblx0XHR0YXhvbm9teUZpbHRlckFjdGl2ZToge1xuXHRcdFx0dHlwZTogJ2FycmF5Jyxcblx0XHRcdGRlZmF1bHQ6IG51bGxcblx0XHR9LFxuXHRcdGNhbGxiYWNrRnVuY3Rpb246IHtcblx0XHRcdHR5cGU6ICdzdHJpbmcnLFxuXHRcdFx0ZGVmYXVsdDogJydcblx0XHR9XG5cdH0sXG5cblx0ZWRpdDogZnVuY3Rpb24gZWRpdChwcm9wcykge1xuXHRcdHZhciBhdHRyaWJ1dGVzID0gcHJvcHMuYXR0cmlidXRlcyxcblx0XHQgICAgc2V0QXR0cmlidXRlcyA9IHByb3BzLnNldEF0dHJpYnV0ZXM7XG5cblxuXHRcdHZhciBibG9ja1Byb3BzID0gdXNlQmxvY2tQcm9wcygpO1xuXG5cdFx0Ly8gR2V0IHBvc3QgdHlwZXNcblx0XHRpZiAoIWF0dHJpYnV0ZXMuaXNJblBvc3RGZXRjaCkge1xuXHRcdFx0Ly8gRmV0Y2ggb25jZVxuXHRcdFx0c2V0QXR0cmlidXRlcyh7IGlzSW5Qb3N0RmV0Y2g6IHRydWUgfSk7XG5cdFx0XHR3cC5hcGlGZXRjaCh7XG5cdFx0XHRcdHBhdGg6ICcvd3AvdjIvdHlwZXMnXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdHZhciBwb3N0VHlwZXNUZW1wID0gW3sgdmFsdWU6IG51bGwsIGxhYmVsOiAnU2VsZWN0IGEgcG9zdCB0eXBlJyB9XTtcblx0XHRcdFx0dmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0dmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgX2l0ZXJhdG9yID0gT2JqZWN0LmVudHJpZXMoZGF0YSlbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdFx0XHRcdFx0XHR2YXIgX3JlZiA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRcdFx0XHR2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKTtcblxuXHRcdFx0XHRcdFx0dmFyIGtleSA9IF9yZWYyWzBdO1xuXHRcdFx0XHRcdFx0dmFyIHZhbHVlID0gX3JlZjJbMV07XG5cblx0XHRcdFx0XHRcdHBvc3RUeXBlc1RlbXAucHVzaCh7IGxhYmVsOiB2YWx1ZS5uYW1lLCB2YWx1ZToga2V5IH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHRcdFx0XHRcdFx0XHRfaXRlcmF0b3IucmV0dXJuKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZXRBdHRyaWJ1dGVzKHsgcG9zdFR5cGVzQXZhaWxhYmxlOiBwb3N0VHlwZXNUZW1wIH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dmFyIGJsb2NrUmVuZGVyID0gdm9pZCAwO1xuXHRcdGlmIChhdHRyaWJ1dGVzKSB7XG5cdFx0XHRpZiAoYXR0cmlidXRlcy5wb3N0VHlwZSkge1xuXHRcdFx0XHR2YXIgcG9zdFR5cGUgPSBhdHRyaWJ1dGVzLnBvc3RUeXBlLFxuXHRcdFx0XHQgICAgbGltaXQgPSBhdHRyaWJ1dGVzLmxpbWl0LFxuXHRcdFx0XHQgICAgdGF4b25vbXkgPSBhdHRyaWJ1dGVzLnRheG9ub215LFxuXHRcdFx0XHQgICAgdGF4b25vbXlGaWx0ZXIgPSBhdHRyaWJ1dGVzLnRheG9ub215RmlsdGVyLFxuXHRcdFx0XHQgICAgdGVybVNsdWcgPSBhdHRyaWJ1dGVzLnRlcm1TbHVnLFxuXHRcdFx0XHQgICAgY2FsbGJhY2tGdW5jdGlvbiA9IGF0dHJpYnV0ZXMuY2FsbGJhY2tGdW5jdGlvbixcblx0XHRcdFx0ICAgIGNsYXNzTmFtZSA9IGF0dHJpYnV0ZXMuY2xhc3NOYW1lLFxuXHRcdFx0XHQgICAgcGFnaW5hdGUgPSBhdHRyaWJ1dGVzLnBhZ2luYXRlLFxuXHRcdFx0XHQgICAgdGF4b25vbXlGaWx0ZXJBY3RpdmUgPSBhdHRyaWJ1dGVzLnRheG9ub215RmlsdGVyQWN0aXZlO1xuXG5cdFx0XHRcdGJsb2NrUmVuZGVyID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFNlcnZlclNpZGVSZW5kZXIsIHtcblx0XHRcdFx0XHRibG9jazogJ2diL2Jsb2NrLXBvc3RzJyxcblx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XG5cdFx0XHRcdFx0XHRwb3N0VHlwZTogcG9zdFR5cGUsXG5cdFx0XHRcdFx0XHRsaW1pdDogbGltaXQsXG5cdFx0XHRcdFx0XHR0YXhvbm9teTogdGF4b25vbXksXG5cdFx0XHRcdFx0XHR0YXhvbm9teUZpbHRlcjogdGF4b25vbXlGaWx0ZXIsXG5cdFx0XHRcdFx0XHR0ZXJtU2x1ZzogdGVybVNsdWcsXG5cdFx0XHRcdFx0XHRjYWxsYmFja0Z1bmN0aW9uOiBjYWxsYmFja0Z1bmN0aW9uLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdFx0XHRcdFx0XHRwYWdpbmF0ZTogcGFnaW5hdGUsXG5cdFx0XHRcdFx0XHR0YXhvbm9teUZpbHRlckFjdGl2ZTogdGF4b25vbXlGaWx0ZXJBY3RpdmVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YmxvY2tSZW5kZXIgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J3AnLFxuXHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0J1NlbGVjdGVkIHBvc3QgdHlwZSwgdGVybSBhbmQgdGVybSBuYW1lLidcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0YmxvY2tSZW5kZXIgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdwJyxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0J0xvYWRpbmcuLi4nXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHZhciBvblVwZGF0ZVBvc3RUeXBlID0gZnVuY3Rpb24gb25VcGRhdGVQb3N0VHlwZShuZXdQb3N0VHlwZSkge1xuXHRcdFx0c2V0QXR0cmlidXRlcyh7IHBvc3RUeXBlOiBuZXdQb3N0VHlwZSB9KTtcblx0XHRcdC8vIEdldCBwb3N0IHR5cGUgdGF4b25vbWllc1xuXHRcdFx0d3AuYXBpRmV0Y2goe1xuXHRcdFx0XHRwYXRoOiAnL3dwL3YyL3R5cGVzLycgKyBuZXdQb3N0VHlwZSxcblx0XHRcdFx0Y29udGV4dDogJ3ZpZXcnXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdHZhciB0YXhvbm9teVRlbXAgPSBbeyB2YWx1ZTogbnVsbCwgbGFiZWw6ICdBbGwgdGF4b25vbWllcycgfV07XG5cdFx0XHRcdHZhciB0YXhvbm9teUNoZWNrYm94VGVtcCA9IFtdO1xuXHRcdFx0XHRkYXRhLnRheG9ub21pZXMuZm9yRWFjaChmdW5jdGlvbiAodGF4KSB7XG5cdFx0XHRcdFx0dGF4b25vbXlUZW1wLnB1c2goeyB2YWx1ZTogdGF4LCBsYWJlbDogKHRheFswXS50b1VwcGVyQ2FzZSgpICsgdGF4LnN1YnN0cigxKSkucmVwbGFjZUFsbCgnXycsICcgJykgfSk7XG5cdFx0XHRcdFx0dGF4b25vbXlDaGVja2JveFRlbXAucHVzaCh7IHZhbHVlOiB0YXgsIHZpc2libGU6IGZhbHNlIH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0c2V0QXR0cmlidXRlcyh7IHRheG9ub21pZXNBdmFpbGFibGU6IHRheG9ub215VGVtcCB9KTtcblx0XHRcdFx0c2V0QXR0cmlidXRlcyh7IHRheG9ub215RmlsdGVyQWN0aXZlOiB0YXhvbm9teUNoZWNrYm94VGVtcCB9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHR2YXIgb25VcGRhdGVUYXhvbm9teSA9IGZ1bmN0aW9uIG9uVXBkYXRlVGF4b25vbXkobmV3VGF4b25vbXkpIHtcblx0XHRcdHNldEF0dHJpYnV0ZXMoeyB0YXhvbm9teTogbmV3VGF4b25vbXkgfSk7XG5cdFx0fTtcblxuXHRcdHZhciBvblVwZGF0ZVRheG9ub215RmlsdGVyID0gZnVuY3Rpb24gb25VcGRhdGVUYXhvbm9teUZpbHRlcihuZXdUYXhvbm9teSkge1xuXHRcdFx0c2V0QXR0cmlidXRlcyh7IHRheG9ub215RmlsdGVyOiBuZXdUYXhvbm9teSB9KTtcblx0XHR9O1xuXG5cdFx0Ly8gQWRkIGZpbHRlciBjaGVja2JveGVzXG5cdFx0dmFyIGZpbHRlclRheG9ub25teUNoZWNrYm94ZXMgPSBbXTtcblx0XHRpZiAoYXR0cmlidXRlcy50YXhvbm9teUZpbHRlckFjdGl2ZSkge1xuXHRcdFx0aWYgKGF0dHJpYnV0ZXMudGF4b25vbXlGaWx0ZXJBY3RpdmUubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChuKSB7XG5cdFx0XHRcdFx0dmFyIGxhYmVsID0gYXR0cmlidXRlcy50YXhvbm9teUZpbHRlckFjdGl2ZVtuXTtcblx0XHRcdFx0XHRmaWx0ZXJUYXhvbm9ubXlDaGVja2JveGVzLnB1c2god3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KENoZWNrYm94Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0bGFiZWw6IChsYWJlbC52YWx1ZVswXS50b1VwcGVyQ2FzZSgpICsgbGFiZWwudmFsdWUuc3Vic3RyKDEpKS5yZXBsYWNlQWxsKCdfJywgJyAnKSxcblx0XHRcdFx0XHRcdGNoZWNrZWQ6IGxhYmVsLnZpc2libGUsXG5cdFx0XHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3U3RhdHVzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKG5ld1N0YXR1cyArICcgJyArIG4pO1xuXHRcdFx0XHRcdFx0XHR2YXIgdGF4Q2hlY2tzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhdHRyaWJ1dGVzLnRheG9ub215RmlsdGVyQWN0aXZlKSk7XG5cdFx0XHRcdFx0XHRcdHZhciB0YXhJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGF4Q2hlY2tzW25dKTtcblx0XHRcdFx0XHRcdFx0dGF4SXRlbVsndmlzaWJsZSddID0gbmV3U3RhdHVzO1xuXHRcdFx0XHRcdFx0XHR0YXhDaGVja3Nbbl0gPSB0YXhJdGVtO1xuXHRcdFx0XHRcdFx0XHRzZXRBdHRyaWJ1dGVzKHsgdGF4b25vbXlGaWx0ZXJBY3RpdmU6IHRheENoZWNrcyB9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Zm9yICh2YXIgbiBpbiBhdHRyaWJ1dGVzLnRheG9ub215RmlsdGVyQWN0aXZlKSB7XG5cdFx0XHRcdFx0X2xvb3Aobik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZpbHRlclRheG9ub25teUNoZWNrYm94ZXMucHVzaCh3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0J3AnLFxuXHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0J2VtJyxcblx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHQnUG9zdCB0eXBlIGNvbnRhaW5zIG5vIHRlcm1zJ1xuXHRcdFx0XHRcdClcblx0XHRcdFx0KSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0YmxvY2tQcm9wcyxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0SW5zcGVjdG9yQ29udHJvbHMsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRQYW5lbEJvZHksXG5cdFx0XHRcdFx0eyB0aXRsZTogJ1Bvc3RzIFNldHRpbmdzJywgaWNvbjogbW9yZSwgaW5pdGlhbE9wZW46IHRydWUgfSxcblx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoVGV4dENvbnRyb2wsIHtcblx0XHRcdFx0XHRcdFx0bGFiZWw6ICdMYXlvdXQgY2FsbGJhY2sgZnVuY3Rpb24nLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogYXR0cmlidXRlcy5jYWxsYmFja0Z1bmN0aW9uLFxuXHRcdFx0XHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3Q2FsbGJhY2tGdW5jdGlvbikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgY2FsbGJhY2tGdW5jdGlvbjogbmV3Q2FsbGJhY2tGdW5jdGlvbiB9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzLnBvc3RUeXBlc0F2YWlsYWJsZSA/IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChTZWxlY3RDb250cm9sLCB7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBfXygnU2VsZWN0IGEgcG9zdCB0eXBlOiAnKSxcblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U6IG9uVXBkYXRlUG9zdFR5cGUsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBhdHRyaWJ1dGVzLnBvc3RUeXBlLFxuXHRcdFx0XHRcdFx0XHRvcHRpb25zOiBhdHRyaWJ1dGVzLnBvc3RUeXBlc0F2YWlsYWJsZVxuXHRcdFx0XHRcdFx0fSkgOiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRcdCdwJyxcblx0XHRcdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHRcdFx0J0xvYWRpbmdcXHUyMDI2J1xuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXMudGF4b25vbWllc0F2YWlsYWJsZSA/IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChTZWxlY3RDb250cm9sLCB7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBfXygnU2VsZWN0IGEgdGF4b25vbXk6ICcpLFxuXHRcdFx0XHRcdFx0XHRvbkNoYW5nZTogb25VcGRhdGVUYXhvbm9teSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGF0dHJpYnV0ZXMudGF4b25vbXksXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnM6IGF0dHJpYnV0ZXMudGF4b25vbWllc0F2YWlsYWJsZVxuXHRcdFx0XHRcdFx0fSkgOiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnLCBudWxsKSxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXMudGF4b25vbXkgPyB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoVGV4dENvbnRyb2wsIHtcblx0XHRcdFx0XHRcdFx0bGFiZWw6ICdUZXJtJyxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGF0dHJpYnV0ZXMudGVybVNsdWcsXG5cdFx0XHRcdFx0XHRcdG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShuZXdUZXJtU2x1Zykge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgdGVybVNsdWc6IG5ld1Rlcm1TbHVnIH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSA6IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCgncCcsIG51bGwpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0UGFuZWxCb2R5LFxuXHRcdFx0XHRcdHsgdGl0bGU6ICdQb3N0cyBMaW1pdHMnLCBpY29uOiBtb3JlLCBpbml0aWFsT3BlbjogdHJ1ZSB9LFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogJ1Bvc3QgbGltaXQnLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogYXR0cmlidXRlcy5saW1pdCxcblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld0xpbWl0KSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldEF0dHJpYnV0ZXMoeyBsaW1pdDogbmV3TGltaXQgfSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KENoZWNrYm94Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogJ1BhZ2luYXRlJyxcblx0XHRcdFx0XHRcdFx0Y2hlY2tlZDogYXR0cmlidXRlcy5wYWdpbmF0ZSxcblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld1BhZ2luYXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldEF0dHJpYnV0ZXMoeyBwYWdpbmF0ZTogbmV3UGFnaW5hdGUgfSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0UGFuZWxCb2R5LFxuXHRcdFx0XHRcdHsgdGl0bGU6ICdGaWx0ZXJzIFNldHRpbmdzJywgaWNvbjogbW9yZSwgaW5pdGlhbE9wZW46IHRydWUgfSxcblx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRmaWx0ZXJUYXhvbm9ubXlDaGVja2JveGVzXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpLFxuXHRcdFx0YmxvY2tSZW5kZXJcblx0XHQpO1xuXHR9XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9wb3N0cy9wb3N0cy5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/*!*******************************!*\
  !*** ./src/posts/editor.scss ***!
  \*******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcG9zdHMvZWRpdG9yLnNjc3M/YTJkOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3Bvc3RzL2VkaXRvci5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/*!******************************!*\
  !*** ./src/posts/style.scss ***!
  \******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcG9zdHMvc3R5bGUuc2Nzcz9iZGUxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcG9zdHMvc3R5bGUuc2Nzc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/*!********************************!*\
  !*** ./src/gallery/gallery.js ***!
  \********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(/*! ./style.scss */ 20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\n\n\n\n// import { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar _wp$blockEditor = wp.blockEditor,\n    useBlockProps = _wp$blockEditor.useBlockProps,\n    InnerBlocks = _wp$blockEditor.InnerBlocks; // InspectorControls\n// const { TextControl } = wp.components;\n// const { serverSideRender: ServerSideRender } = wp;\n// const { Panel, PanelBody, PanelRow } = wp.components;\n\nvar _wordpressIcons = '@wordpress/icons',\n    more = _wordpressIcons.more;\n\n\nvar ALLOWED_BLOCKS = ['core/cover'];\n\nvar attributes = {};\nvar supports = {\n\talign: true\n};\n\nregisterBlockType('gb/block-gallery', {\n\tapiVersion: 2,\n\ttitle: __('Gallery Slider'),\n\ticon: 'format-gallery',\n\tcategory: 'common',\n\tkeywords: [__('Gallery'), __('Slider')],\n\tattributes: attributes,\n\tsupports: supports,\n\n\tedit: function edit() {\n\t\tvar blockProps = useBlockProps();\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'slides-wrapper' },\n\t\t\t\twp.element.createElement(InnerBlocks, { allowedBlocks: ALLOWED_BLOCKS })\n\t\t\t)\n\t\t);\n\t},\n\n\tsave: function save(props) {\n\t\tvar blockProps = useBlockProps.save();\n\t\t// console.log( blockProps );\n\t\t// console.log( props );\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'slides-wrapper' },\n\t\t\t\twp.element.createElement(InnerBlocks.Content, null)\n\t\t\t)\n\t\t);\n\t},\n\n\tdeprecated: [{\n\t\tattributes: attributes,\n\t\tmigrate: function migrate(attributes, innerBlocks) {\n\t\t\treturn wp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'slides-wrapper' },\n\t\t\t\tinnerBlocks\n\t\t\t);\n\t\t},\n\t\tsave: function save(props) {\n\t\t\tvar blockProps = useBlockProps.save();\n\t\t\treturn wp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\tblockProps,\n\t\t\t\twp.element.createElement(InnerBlocks.Content, null)\n\t\t\t);\n\t\t}\n\t}]\n\n\t// depricated: [\n\t// \t{\n\t// \t\tattributes,\n\t// \t\tsupports,\n\n\t// \t\tsave: ( props ) => {\n\t// \t\t\tconsole.log( 'running' );\n\t// \t\t\tconst blockProps = useBlockProps.save();\n\n\t// \t\t\treturn (\n\t// \t\t\t\t<div { ...blockProps }>\n\t// \t\t\t\t\t<InnerBlocks.Content />\n\t// \t\t\t\t</div>\n\t// \t\t\t);\n\t// \t\t}\n\t// \t}\n\t// ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZ2FsbGVyeS9nYWxsZXJ5LmpzP2M5NmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2VkaXRvci5zY3NzJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuLy8gaW1wb3J0IHsgR29vZ2xlTWFwLCBMb2FkU2NyaXB0LCBNYXJrZXIgfSBmcm9tICdAcmVhY3QtZ29vZ2xlLW1hcHMvYXBpJztcblxudmFyIF9fID0gd3AuaTE4bi5fXztcbnZhciByZWdpc3RlckJsb2NrVHlwZSA9IHdwLmJsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZTtcbnZhciBfd3AkYmxvY2tFZGl0b3IgPSB3cC5ibG9ja0VkaXRvcixcbiAgICB1c2VCbG9ja1Byb3BzID0gX3dwJGJsb2NrRWRpdG9yLnVzZUJsb2NrUHJvcHMsXG4gICAgSW5uZXJCbG9ja3MgPSBfd3AkYmxvY2tFZGl0b3IuSW5uZXJCbG9ja3M7IC8vIEluc3BlY3RvckNvbnRyb2xzXG4vLyBjb25zdCB7IFRleHRDb250cm9sIH0gPSB3cC5jb21wb25lbnRzO1xuLy8gY29uc3QgeyBzZXJ2ZXJTaWRlUmVuZGVyOiBTZXJ2ZXJTaWRlUmVuZGVyIH0gPSB3cDtcbi8vIGNvbnN0IHsgUGFuZWwsIFBhbmVsQm9keSwgUGFuZWxSb3cgfSA9IHdwLmNvbXBvbmVudHM7XG5cbnZhciBfd29yZHByZXNzSWNvbnMgPSAnQHdvcmRwcmVzcy9pY29ucycsXG4gICAgbW9yZSA9IF93b3JkcHJlc3NJY29ucy5tb3JlO1xuXG5cbnZhciBBTExPV0VEX0JMT0NLUyA9IFsnY29yZS9jb3ZlciddO1xuXG52YXIgYXR0cmlidXRlcyA9IHt9O1xudmFyIHN1cHBvcnRzID0ge1xuXHRhbGlnbjogdHJ1ZVxufTtcblxucmVnaXN0ZXJCbG9ja1R5cGUoJ2diL2Jsb2NrLWdhbGxlcnknLCB7XG5cdGFwaVZlcnNpb246IDIsXG5cdHRpdGxlOiBfXygnR2FsbGVyeSBTbGlkZXInKSxcblx0aWNvbjogJ2Zvcm1hdC1nYWxsZXJ5Jyxcblx0Y2F0ZWdvcnk6ICdjb21tb24nLFxuXHRrZXl3b3JkczogW19fKCdHYWxsZXJ5JyksIF9fKCdTbGlkZXInKV0sXG5cdGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsXG5cdHN1cHBvcnRzOiBzdXBwb3J0cyxcblxuXHRlZGl0OiBmdW5jdGlvbiBlZGl0KCkge1xuXHRcdHZhciBibG9ja1Byb3BzID0gdXNlQmxvY2tQcm9wcygpO1xuXG5cdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0YmxvY2tQcm9wcyxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgJ2NsYXNzJzogJ3NsaWRlcy13cmFwcGVyJyB9LFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoSW5uZXJCbG9ja3MsIHsgYWxsb3dlZEJsb2NrczogQUxMT1dFRF9CTE9DS1MgfSlcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdHNhdmU6IGZ1bmN0aW9uIHNhdmUocHJvcHMpIHtcblx0XHR2YXIgYmxvY2tQcm9wcyA9IHVzZUJsb2NrUHJvcHMuc2F2ZSgpO1xuXHRcdC8vIGNvbnNvbGUubG9nKCBibG9ja1Byb3BzICk7XG5cdFx0Ly8gY29uc29sZS5sb2coIHByb3BzICk7XG5cblx0XHRyZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J2RpdicsXG5cdFx0XHRibG9ja1Byb3BzLFxuXHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyAnY2xhc3MnOiAnc2xpZGVzLXdyYXBwZXInIH0sXG5cdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChJbm5lckJsb2Nrcy5Db250ZW50LCBudWxsKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0ZGVwcmVjYXRlZDogW3tcblx0XHRhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLFxuXHRcdG1pZ3JhdGU6IGZ1bmN0aW9uIG1pZ3JhdGUoYXR0cmlidXRlcywgaW5uZXJCbG9ja3MpIHtcblx0XHRcdHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHR7ICdjbGFzcyc6ICdzbGlkZXMtd3JhcHBlcicgfSxcblx0XHRcdFx0aW5uZXJCbG9ja3Ncblx0XHRcdCk7XG5cdFx0fSxcblx0XHRzYXZlOiBmdW5jdGlvbiBzYXZlKHByb3BzKSB7XG5cdFx0XHR2YXIgYmxvY2tQcm9wcyA9IHVzZUJsb2NrUHJvcHMuc2F2ZSgpO1xuXHRcdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdGJsb2NrUHJvcHMsXG5cdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChJbm5lckJsb2Nrcy5Db250ZW50LCBudWxsKVxuXHRcdFx0KTtcblx0XHR9XG5cdH1dXG5cblx0Ly8gZGVwcmljYXRlZDogW1xuXHQvLyBcdHtcblx0Ly8gXHRcdGF0dHJpYnV0ZXMsXG5cdC8vIFx0XHRzdXBwb3J0cyxcblxuXHQvLyBcdFx0c2F2ZTogKCBwcm9wcyApID0+IHtcblx0Ly8gXHRcdFx0Y29uc29sZS5sb2coICdydW5uaW5nJyApO1xuXHQvLyBcdFx0XHRjb25zdCBibG9ja1Byb3BzID0gdXNlQmxvY2tQcm9wcy5zYXZlKCk7XG5cblx0Ly8gXHRcdFx0cmV0dXJuIChcblx0Ly8gXHRcdFx0XHQ8ZGl2IHsgLi4uYmxvY2tQcm9wcyB9PlxuXHQvLyBcdFx0XHRcdFx0PElubmVyQmxvY2tzLkNvbnRlbnQgLz5cblx0Ly8gXHRcdFx0XHQ8L2Rpdj5cblx0Ly8gXHRcdFx0KTtcblx0Ly8gXHRcdH1cblx0Ly8gXHR9XG5cdC8vIF1cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2dhbGxlcnkvZ2FsbGVyeS5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/*!*********************************!*\
  !*** ./src/gallery/editor.scss ***!
  \*********************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZ2FsbGVyeS9lZGl0b3Iuc2Nzcz9iYzA4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZ2FsbGVyeS9lZGl0b3Iuc2Nzc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/*!********************************!*\
  !*** ./src/gallery/style.scss ***!
  \********************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZ2FsbGVyeS9zdHlsZS5zY3NzPzAwZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9nYWxsZXJ5L3N0eWxlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/*!**************************************!*\
  !*** ./src/attributes/attributes.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_classnames__ = __webpack_require__(/*! classnames */ 22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);\n\n\nvar __ = wp.i18n.__;\nvar addFilter = wp.hooks.addFilter;\nvar Fragment = wp.element.Fragment;\nvar InspectorAdvancedControls = wp.blockEditor.InspectorAdvancedControls;\nvar createHigherOrderComponent = wp.compose.createHigherOrderComponent;\nvar ToggleControl = wp.components.ToggleControl;\n\n\nvar allowedBlocks = ['core/image', 'core/paragraph', 'core/heading', 'core/spacer'];\n\nfunction addAttributes(settings) {\n\tif (typeof settings.attributes !== 'undefined' && allowedBlocks.includes(settings.name)) {\n\t\tsettings.attributes = Object.assign(settings.attributes, {\n\t\t\tvisibleOnMobile: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: true\n\t\t\t},\n\t\t\tvisibleOnDesktop: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: true\n\t\t\t}\n\t\t});\n\t}\n\n\treturn settings;\n}\n\nvar withAdvancedControls = createHigherOrderComponent(function (BlockEdit) {\n\treturn function (props) {\n\t\tvar name = props.name,\n\t\t    attributes = props.attributes,\n\t\t    setAttributes = props.setAttributes,\n\t\t    isSelected = props.isSelected;\n\t\tvar visibleOnMobile = attributes.visibleOnMobile,\n\t\t    visibleOnDesktop = attributes.visibleOnDesktop;\n\n\n\t\treturn wp.element.createElement(\n\t\t\tFragment,\n\t\t\tnull,\n\t\t\twp.element.createElement(BlockEdit, props),\n\t\t\tisSelected && allowedBlocks.includes(name) && wp.element.createElement(\n\t\t\t\tInspectorAdvancedControls,\n\t\t\t\tnull,\n\t\t\t\twp.element.createElement(ToggleControl, {\n\t\t\t\t\tlabel: __('Mobile Devices Visibity'),\n\t\t\t\t\tchecked: !!visibleOnMobile,\n\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\treturn setAttributes({ visibleOnMobile: !visibleOnMobile });\n\t\t\t\t\t},\n\t\t\t\t\thelp: !!visibleOnMobile ? __('Showing on mobile devices.') : __('Hidden on mobile devices.')\n\t\t\t\t}),\n\t\t\t\twp.element.createElement(ToggleControl, {\n\t\t\t\t\tlabel: __('Desktop Devices Visibity'),\n\t\t\t\t\tchecked: !!visibleOnDesktop,\n\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\treturn setAttributes({ visibleOnDesktop: !visibleOnDesktop });\n\t\t\t\t\t},\n\t\t\t\t\thelp: !!visibleOnDesktop ? __('Showing on desktop devices.') : __('Hidden on desktop devices.')\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t};\n}, 'withAdvancedControls');\n\nfunction applyExtraClass(extraProps, blockType, attributes) {\n\tvar visibleOnMobile = attributes.visibleOnMobile,\n\t    visibleOnDesktop = attributes.visibleOnDesktop;\n\n\n\tif (typeof visibleOnMobile !== 'undefined' && !visibleOnMobile && allowedBlocks.includes(blockType.name)) {\n\t\textraProps.className = __WEBPACK_IMPORTED_MODULE_0_classnames___default()(extraProps.className, 'mobile-hidden');\n\t}\n\tif (typeof visibleOnDesktop !== 'undefined' && !visibleOnDesktop && allowedBlocks.includes(blockType.name)) {\n\t\textraProps.className = __WEBPACK_IMPORTED_MODULE_0_classnames___default()(extraProps.className, 'desktop-hidden');\n\t}\n\n\treturn extraProps;\n}\n\naddFilter('blocks.registerBlockType', 'gb/custom-attributes', addAttributes);\n\naddFilter('editor.BlockEdit', 'gb/custom-advanced-control', withAdvancedControls);\n\naddFilter('blocks.getSaveContent.extraProps', 'gb/applyExtraClass', applyExtraClass);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXR0cmlidXRlcy9hdHRyaWJ1dGVzLmpzP2UzNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbnZhciBfXyA9IHdwLmkxOG4uX187XG52YXIgYWRkRmlsdGVyID0gd3AuaG9va3MuYWRkRmlsdGVyO1xudmFyIEZyYWdtZW50ID0gd3AuZWxlbWVudC5GcmFnbWVudDtcbnZhciBJbnNwZWN0b3JBZHZhbmNlZENvbnRyb2xzID0gd3AuYmxvY2tFZGl0b3IuSW5zcGVjdG9yQWR2YW5jZWRDb250cm9scztcbnZhciBjcmVhdGVIaWdoZXJPcmRlckNvbXBvbmVudCA9IHdwLmNvbXBvc2UuY3JlYXRlSGlnaGVyT3JkZXJDb21wb25lbnQ7XG52YXIgVG9nZ2xlQ29udHJvbCA9IHdwLmNvbXBvbmVudHMuVG9nZ2xlQ29udHJvbDtcblxuXG52YXIgYWxsb3dlZEJsb2NrcyA9IFsnY29yZS9pbWFnZScsICdjb3JlL3BhcmFncmFwaCcsICdjb3JlL2hlYWRpbmcnLCAnY29yZS9zcGFjZXInXTtcblxuZnVuY3Rpb24gYWRkQXR0cmlidXRlcyhzZXR0aW5ncykge1xuXHRpZiAodHlwZW9mIHNldHRpbmdzLmF0dHJpYnV0ZXMgIT09ICd1bmRlZmluZWQnICYmIGFsbG93ZWRCbG9ja3MuaW5jbHVkZXMoc2V0dGluZ3MubmFtZSkpIHtcblx0XHRzZXR0aW5ncy5hdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbihzZXR0aW5ncy5hdHRyaWJ1dGVzLCB7XG5cdFx0XHR2aXNpYmxlT25Nb2JpbGU6IHtcblx0XHRcdFx0dHlwZTogJ2Jvb2xlYW4nLFxuXHRcdFx0XHRkZWZhdWx0OiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0dmlzaWJsZU9uRGVza3RvcDoge1xuXHRcdFx0XHR0eXBlOiAnYm9vbGVhbicsXG5cdFx0XHRcdGRlZmF1bHQ6IHRydWVcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBzZXR0aW5ncztcbn1cblxudmFyIHdpdGhBZHZhbmNlZENvbnRyb2xzID0gY3JlYXRlSGlnaGVyT3JkZXJDb21wb25lbnQoZnVuY3Rpb24gKEJsb2NrRWRpdCkge1xuXHRyZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG5cdFx0dmFyIG5hbWUgPSBwcm9wcy5uYW1lLFxuXHRcdCAgICBhdHRyaWJ1dGVzID0gcHJvcHMuYXR0cmlidXRlcyxcblx0XHQgICAgc2V0QXR0cmlidXRlcyA9IHByb3BzLnNldEF0dHJpYnV0ZXMsXG5cdFx0ICAgIGlzU2VsZWN0ZWQgPSBwcm9wcy5pc1NlbGVjdGVkO1xuXHRcdHZhciB2aXNpYmxlT25Nb2JpbGUgPSBhdHRyaWJ1dGVzLnZpc2libGVPbk1vYmlsZSxcblx0XHQgICAgdmlzaWJsZU9uRGVza3RvcCA9IGF0dHJpYnV0ZXMudmlzaWJsZU9uRGVza3RvcDtcblxuXG5cdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdEZyYWdtZW50LFxuXHRcdFx0bnVsbCxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChCbG9ja0VkaXQsIHByb3BzKSxcblx0XHRcdGlzU2VsZWN0ZWQgJiYgYWxsb3dlZEJsb2Nrcy5pbmNsdWRlcyhuYW1lKSAmJiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdEluc3BlY3RvckFkdmFuY2VkQ29udHJvbHMsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUb2dnbGVDb250cm9sLCB7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdNb2JpbGUgRGV2aWNlcyBWaXNpYml0eScpLFxuXHRcdFx0XHRcdGNoZWNrZWQ6ICEhdmlzaWJsZU9uTW9iaWxlLFxuXHRcdFx0XHRcdG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcblx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgdmlzaWJsZU9uTW9iaWxlOiAhdmlzaWJsZU9uTW9iaWxlIH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aGVscDogISF2aXNpYmxlT25Nb2JpbGUgPyBfXygnU2hvd2luZyBvbiBtb2JpbGUgZGV2aWNlcy4nKSA6IF9fKCdIaWRkZW4gb24gbW9iaWxlIGRldmljZXMuJylcblx0XHRcdFx0fSksXG5cdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUb2dnbGVDb250cm9sLCB7XG5cdFx0XHRcdFx0bGFiZWw6IF9fKCdEZXNrdG9wIERldmljZXMgVmlzaWJpdHknKSxcblx0XHRcdFx0XHRjaGVja2VkOiAhIXZpc2libGVPbkRlc2t0b3AsXG5cdFx0XHRcdFx0b25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNldEF0dHJpYnV0ZXMoeyB2aXNpYmxlT25EZXNrdG9wOiAhdmlzaWJsZU9uRGVza3RvcCB9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGhlbHA6ICEhdmlzaWJsZU9uRGVza3RvcCA/IF9fKCdTaG93aW5nIG9uIGRlc2t0b3AgZGV2aWNlcy4nKSA6IF9fKCdIaWRkZW4gb24gZGVza3RvcCBkZXZpY2VzLicpXG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cdFx0KTtcblx0fTtcbn0sICd3aXRoQWR2YW5jZWRDb250cm9scycpO1xuXG5mdW5jdGlvbiBhcHBseUV4dHJhQ2xhc3MoZXh0cmFQcm9wcywgYmxvY2tUeXBlLCBhdHRyaWJ1dGVzKSB7XG5cdHZhciB2aXNpYmxlT25Nb2JpbGUgPSBhdHRyaWJ1dGVzLnZpc2libGVPbk1vYmlsZSxcblx0ICAgIHZpc2libGVPbkRlc2t0b3AgPSBhdHRyaWJ1dGVzLnZpc2libGVPbkRlc2t0b3A7XG5cblxuXHRpZiAodHlwZW9mIHZpc2libGVPbk1vYmlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgIXZpc2libGVPbk1vYmlsZSAmJiBhbGxvd2VkQmxvY2tzLmluY2x1ZGVzKGJsb2NrVHlwZS5uYW1lKSkge1xuXHRcdGV4dHJhUHJvcHMuY2xhc3NOYW1lID0gY2xhc3NuYW1lcyhleHRyYVByb3BzLmNsYXNzTmFtZSwgJ21vYmlsZS1oaWRkZW4nKTtcblx0fVxuXHRpZiAodHlwZW9mIHZpc2libGVPbkRlc2t0b3AgIT09ICd1bmRlZmluZWQnICYmICF2aXNpYmxlT25EZXNrdG9wICYmIGFsbG93ZWRCbG9ja3MuaW5jbHVkZXMoYmxvY2tUeXBlLm5hbWUpKSB7XG5cdFx0ZXh0cmFQcm9wcy5jbGFzc05hbWUgPSBjbGFzc25hbWVzKGV4dHJhUHJvcHMuY2xhc3NOYW1lLCAnZGVza3RvcC1oaWRkZW4nKTtcblx0fVxuXG5cdHJldHVybiBleHRyYVByb3BzO1xufVxuXG5hZGRGaWx0ZXIoJ2Jsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZScsICdnYi9jdXN0b20tYXR0cmlidXRlcycsIGFkZEF0dHJpYnV0ZXMpO1xuXG5hZGRGaWx0ZXIoJ2VkaXRvci5CbG9ja0VkaXQnLCAnZ2IvY3VzdG9tLWFkdmFuY2VkLWNvbnRyb2wnLCB3aXRoQWR2YW5jZWRDb250cm9scyk7XG5cbmFkZEZpbHRlcignYmxvY2tzLmdldFNhdmVDb250ZW50LmV4dHJhUHJvcHMnLCAnZ2IvYXBwbHlFeHRyYUNsYXNzJywgYXBwbHlFeHRyYUNsYXNzKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hdHRyaWJ1dGVzL2F0dHJpYnV0ZXMuanNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/*! dynamic exports provided */
/*! exports used: default */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcz8xZDZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTggSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRpZiAoYXJnLmxlbmd0aCkge1xuXHRcdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0XHRpZiAoaW5uZXIpIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChpbm5lcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGlmIChhcmcudG9TdHJpbmcgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnLnRvU3RyaW5nKCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/*!************************************!*\
  !*** ./src/accordion/accordion.js ***!
  \************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(/*! ./style.scss */ 25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\n\n\n\n// import { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar _wp$blockEditor = wp.blockEditor,\n    useBlockProps = _wp$blockEditor.useBlockProps,\n    InnerBlocks = _wp$blockEditor.InnerBlocks,\n    RichText = _wp$blockEditor.RichText; // InspectorControls\n// const { TextControl } = wp.components;\n// const { serverSideRender: ServerSideRender } = wp;\n// const { Panel, PanelBody, PanelRow } = wp.components;\n\nvar _wordpressIcons = '@wordpress/icons',\n    more = _wordpressIcons.more;\n\n// const ALLOWED_BLOCKS = [ 'core/cover' ];\n\nregisterBlockType('gb/block-accordion', {\n\tapiVersion: 2,\n\ttitle: __('Accordion'),\n\ticon: 'arrow-down-alt2',\n\tcategory: 'common',\n\tkeywords: [__('Accordion')],\n\tattributes: {\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'text',\n\t\t\tselector: '.title'\n\t\t}\n\t},\n\n\tedit: function edit(_ref) {\n\t\tvar attributes = _ref.attributes,\n\t\t    setAttributes = _ref.setAttributes;\n\n\t\tvar blockProps = useBlockProps();\n\t\tvar title = attributes.title;\n\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement(RichText, {\n\t\t\t\ttagName: 'h2',\n\t\t\t\tvalue: title,\n\t\t\t\tallowedFormats: ['core/bold', 'core/italic'],\n\t\t\t\tonChange: function onChange(title) {\n\t\t\t\t\treturn setAttributes({ title: title });\n\t\t\t\t},\n\t\t\t\tplaceholder: __('Heading...'),\n\t\t\t\tclassName: 'title'\n\t\t\t}),\n\t\t\twp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'content' },\n\t\t\t\twp.element.createElement(InnerBlocks, null)\n\t\t\t)\n\t\t);\n\t},\n\n\tsave: function save(_ref2) {\n\t\tvar attributes = _ref2.attributes;\n\n\t\tvar blockProps = useBlockProps.save();\n\t\tvar title = attributes.title;\n\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tblockProps,\n\t\t\twp.element.createElement(RichText.Content, { className: 'title', tagName: 'h2', value: title }),\n\t\t\twp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'content' },\n\t\t\t\twp.element.createElement(InnerBlocks.Content, null)\n\t\t\t)\n\t\t);\n\t}\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWNjb3JkaW9uL2FjY29yZGlvbi5qcz8yM2MzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9lZGl0b3Iuc2Nzcyc7XG5pbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XG5cbi8vIGltcG9ydCB7IEdvb2dsZU1hcCwgTG9hZFNjcmlwdCwgTWFya2VyIH0gZnJvbSAnQHJlYWN0LWdvb2dsZS1tYXBzL2FwaSc7XG5cbnZhciBfXyA9IHdwLmkxOG4uX187XG52YXIgcmVnaXN0ZXJCbG9ja1R5cGUgPSB3cC5ibG9ja3MucmVnaXN0ZXJCbG9ja1R5cGU7XG52YXIgX3dwJGJsb2NrRWRpdG9yID0gd3AuYmxvY2tFZGl0b3IsXG4gICAgdXNlQmxvY2tQcm9wcyA9IF93cCRibG9ja0VkaXRvci51c2VCbG9ja1Byb3BzLFxuICAgIElubmVyQmxvY2tzID0gX3dwJGJsb2NrRWRpdG9yLklubmVyQmxvY2tzLFxuICAgIFJpY2hUZXh0ID0gX3dwJGJsb2NrRWRpdG9yLlJpY2hUZXh0OyAvLyBJbnNwZWN0b3JDb250cm9sc1xuLy8gY29uc3QgeyBUZXh0Q29udHJvbCB9ID0gd3AuY29tcG9uZW50cztcbi8vIGNvbnN0IHsgc2VydmVyU2lkZVJlbmRlcjogU2VydmVyU2lkZVJlbmRlciB9ID0gd3A7XG4vLyBjb25zdCB7IFBhbmVsLCBQYW5lbEJvZHksIFBhbmVsUm93IH0gPSB3cC5jb21wb25lbnRzO1xuXG52YXIgX3dvcmRwcmVzc0ljb25zID0gJ0B3b3JkcHJlc3MvaWNvbnMnLFxuICAgIG1vcmUgPSBfd29yZHByZXNzSWNvbnMubW9yZTtcblxuLy8gY29uc3QgQUxMT1dFRF9CTE9DS1MgPSBbICdjb3JlL2NvdmVyJyBdO1xuXG5yZWdpc3RlckJsb2NrVHlwZSgnZ2IvYmxvY2stYWNjb3JkaW9uJywge1xuXHRhcGlWZXJzaW9uOiAyLFxuXHR0aXRsZTogX18oJ0FjY29yZGlvbicpLFxuXHRpY29uOiAnYXJyb3ctZG93bi1hbHQyJyxcblx0Y2F0ZWdvcnk6ICdjb21tb24nLFxuXHRrZXl3b3JkczogW19fKCdBY2NvcmRpb24nKV0sXG5cdGF0dHJpYnV0ZXM6IHtcblx0XHR0aXRsZToge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRzb3VyY2U6ICd0ZXh0Jyxcblx0XHRcdHNlbGVjdG9yOiAnLnRpdGxlJ1xuXHRcdH1cblx0fSxcblxuXHRlZGl0OiBmdW5jdGlvbiBlZGl0KF9yZWYpIHtcblx0XHR2YXIgYXR0cmlidXRlcyA9IF9yZWYuYXR0cmlidXRlcyxcblx0XHQgICAgc2V0QXR0cmlidXRlcyA9IF9yZWYuc2V0QXR0cmlidXRlcztcblxuXHRcdHZhciBibG9ja1Byb3BzID0gdXNlQmxvY2tQcm9wcygpO1xuXHRcdHZhciB0aXRsZSA9IGF0dHJpYnV0ZXMudGl0bGU7XG5cblxuXHRcdHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZGl2Jyxcblx0XHRcdGJsb2NrUHJvcHMsXG5cdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoUmljaFRleHQsIHtcblx0XHRcdFx0dGFnTmFtZTogJ2gyJyxcblx0XHRcdFx0dmFsdWU6IHRpdGxlLFxuXHRcdFx0XHRhbGxvd2VkRm9ybWF0czogWydjb3JlL2JvbGQnLCAnY29yZS9pdGFsaWMnXSxcblx0XHRcdFx0b25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHRpdGxlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHNldEF0dHJpYnV0ZXMoeyB0aXRsZTogdGl0bGUgfSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBfXygnSGVhZGluZy4uLicpLFxuXHRcdFx0XHRjbGFzc05hbWU6ICd0aXRsZSdcblx0XHRcdH0pLFxuXHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdjb250ZW50JyB9LFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoSW5uZXJCbG9ja3MsIG51bGwpXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRzYXZlOiBmdW5jdGlvbiBzYXZlKF9yZWYyKSB7XG5cdFx0dmFyIGF0dHJpYnV0ZXMgPSBfcmVmMi5hdHRyaWJ1dGVzO1xuXG5cdFx0dmFyIGJsb2NrUHJvcHMgPSB1c2VCbG9ja1Byb3BzLnNhdmUoKTtcblx0XHR2YXIgdGl0bGUgPSBhdHRyaWJ1dGVzLnRpdGxlO1xuXG5cdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0YmxvY2tQcm9wcyxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChSaWNoVGV4dC5Db250ZW50LCB7IGNsYXNzTmFtZTogJ3RpdGxlJywgdGFnTmFtZTogJ2gyJywgdmFsdWU6IHRpdGxlIH0pLFxuXHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0eyBjbGFzc05hbWU6ICdjb250ZW50JyB9LFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoSW5uZXJCbG9ja3MuQ29udGVudCwgbnVsbClcblx0XHRcdClcblx0XHQpO1xuXHR9XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hY2NvcmRpb24vYWNjb3JkaW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/*!***********************************!*\
  !*** ./src/accordion/editor.scss ***!
  \***********************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWNjb3JkaW9uL2VkaXRvci5zY3NzPzRiMTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hY2NvcmRpb24vZWRpdG9yLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/*!**********************************!*\
  !*** ./src/accordion/style.scss ***!
  \**********************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWNjb3JkaW9uL3N0eWxlLnNjc3M/OGNlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FjY29yZGlvbi9zdHlsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n");

/***/ })
/******/ ]);